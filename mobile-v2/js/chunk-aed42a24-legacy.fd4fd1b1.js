(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-aed42a24"],{"11a7":function(t,e,a){"use strict";var i=a("c418"),r=a.n(i);r.a},2392:function(t,e,a){"use strict";var i=a("43ce"),r=a.n(i);r.a},"2ac7":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("input",{class:["feed-ui-input",t.error?"feed-ui-input-error":""],attrs:{disabled:t.disabled,placeholder:t.placeholder},domProps:{value:t.value},on:{input:t.inputMsg,blur:t.inputBlur}}),t.error?a("p",{staticClass:"feed-ui-input-error-msg"},[t._v(t._s(t.errorMsg))]):t._e()])},r=[],s=(a("99af"),a("a9e3"),function(t){var e=/^[1-9]\d{5}(18|19|20)\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,a=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],i=[1,0,"X",9,8,7,6,5,4,3,2],r=t.substring(17);if(e.test(t)){for(var s=0,n=0;n<17;n++)s+=t[n]*a[n];if(i[s%11]==r.toUpperCase())return!0}return!1}),n=function(t){var e=/^(18|19|20)\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)$/;if(e.test(t)){var a=t.substring(0,4),i=t.substring(4,6),r=t.substring(6,8),s=new Date(a+"-"+i+"-"+r);if(s&&s.getMonth()==parseInt(i)-1)return!0}return!1},o=function(t){var e=/^[1-9][0-9]/,a={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江 ",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北 ",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏 ",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门"};return!(!e.test(t)||!a[t])};function l(t){if(s(t)){var e=t.substring(6,14);if(n(e)&&o(t.substring(0,2)))return!0}return!1}function c(t){return!!/^1[3|4|5|7|8]\d{9}$/.test(t)}var u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("textarea",{class:["feed-ui-textarea",t.error?"feed-ui-textarea-error":""],attrs:{disabled:t.disabled,placeholder:t.placeholder},domProps:{value:t.value},on:{input:t.textareaMsg,blur:t.textareaBlur}}),t._v(" "),t.error?a("p",{staticClass:"feed-ui-textarea-error-msg"},[t._v(t._s(t.errorMsg))]):t._e()])},h=[],d={},f={name:"fuiTextarea",props:{disabled:{type:Boolean,default:!1},label:{type:String,default:""},labelKey:{type:String,default:""},value:{type:[String,Number],required:!0,default:null},length:{type:Number,default:0},valiedateMessage:{type:String,default:""},type:{type:String,default:""},placeholder:{type:String,default:""},required:{type:Boolean,default:!1},hanleValidate:{type:Function},errorStatus:{type:Boolean,default:!1}},data:function(){return{error:!1,errorMsg:""}},watch:{errorStatus:function(t){this.error=t||!1},valiedateMessage:function(t){this.errorMsg=t||""}},methods:{textareaMsg:function(t){var e=t.target.value;this.validate(e),this.$emit("input",e)},textareaBlur:function(t){var e=t.target.value;if(this.hanleValidate){var a=this.hanleValidate(e);this.error=!a.validate,this.errorMsg=a.valiedateMessage}else switch(this.type){case"idNumber":l(e)||(this.error=!0,this.errorMsg=this.label?"".concat(this.label,"输入有误，请检查！"):"输入有误，请检查");break;case"phone":c(e)||(this.error=!0,this.errorMsg=this.label?"".concat(this.label,"输入有误，请检查！"):"输入有误，请检查");break;default:this.error=this.error,this.errorMsg=this.errorMsg}this.length&&e&&e.length<this.length&&(this.error=!0,this.errorMsg=this.label?"".concat(this.label,"输入不能少于").concat(this.length,"个字"):"输入不能少于".concat(this.length,"个字")),d={value:e,error:this.error,labelKey:this.labelKey},this.$emit("onBlur",d),this.$emit("getFieldsError",this.error,this.labelKey)},validate:function(t){if(!t&&this.required)return this.error=!0,void(this.errorMsg=this.label?"".concat(this.label,"输入不能为空"):"输入不能为空");this.error=!1}}},p=f,v=(a("11a7"),a("2877")),g=Object(v["a"])(p,u,h,!1,null,null,null),b=g.exports,m={},_={name:"fuiInput",props:{disabled:{type:Boolean,default:!1},label:{type:String,default:""},labelKey:{type:String,default:""},value:{type:[String,Number],required:!0,default:null},length:{type:Number,default:0},valiedateMessage:{type:String,default:""},type:{type:String,default:""},placeholder:{type:String,default:""},required:{type:Boolean,default:!1},hanleValidate:{type:Function},errorStatus:{type:Boolean,default:!1}},data:function(){return{error:!1,errorMsg:""}},watch:{errorStatus:function(t){this.error=t||!1},valiedateMessage:function(t){this.errorMsg=t||""}},methods:{inputMsg:function(t){var e=t.target.value;this.validate(e),this.$emit("input",e)},inputBlur:function(t){var e=t.target.value;if(this.hanleValidate){var a=this.hanleValidate(e);this.error=!a.validate,this.errorMsg=a.valiedateMessage}else switch(this.type){case"idNumber":l(e)||(this.error=!0,this.errorMsg=this.label?"".concat(this.label,"输入有误，请检查！"):"输入有误，请检查");break;case"phone":c(e)||(this.error=!0,this.errorMsg=this.label?"".concat(this.label,"输入有误，请检查！"):"输入有误，请检查");break;default:this.error=this.error,this.errorMsg=this.errorMsg}this.length&&e&&e.length<this.length&&(this.error=!0,this.errorMsg=this.label?"".concat(this.label,"输入不能少于").concat(this.length,"个字"):"输入不能少于".concat(this.length,"个字")),m={value:e,error:this.error,labelKey:this.labelKey},this.$emit("onBlur",m),this.$emit("getFieldsError",this.error,this.labelKey)},validate:function(t){if(!t&&this.required)return this.error=!0,void(this.errorMsg=this.label?"".concat(this.label,"输入不能为空"):"输入不能为空");this.error=!1}}};_.fuiTextarea=b;var y=_,w=y,M=(a("2392"),Object(v["a"])(w,i,r,!1,null,null,null));e["a"]=M.exports},4214:function(t,e,a){"use strict";var i=a("bfef"),r=a.n(i);r.a},"43ce":function(t,e,a){},"5d4b":function(t,e,a){},"754e":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"apply"},[a("nav-bar",{attrs:{title:"我要申诉"}}),a("div",{staticClass:"container"},[a("div",{staticClass:"item"},[t._m(0),a("fui-textarea",{attrs:{required:!0,length:5,"valiedate-message":"原因不能未空",placeholder:"请描述申请原因","hanle-validate":t.hanleValidate},model:{value:t.reanson,callback:function(e){t.reanson=e},expression:"reanson"}})],1),a("div",{staticClass:"item"},[a("div",{staticClass:"tip",on:{click:t.openTeachDialog}},[t._v(" 查看样例 ")]),t._m(1),t.photo?a("div",{staticClass:"photo"},[a("img",{staticClass:"photo__user",attrs:{src:t.photo.imageUrl},on:{click:t.openPhoto}}),a("div",{staticClass:"close",on:{click:t.cancalPhoto}})]):a("div",{staticClass:"photo__empty",on:{click:t.takePhoto}},[t._v("点击拍摄")])]),a("div",{staticClass:"item"},[t._m(2),a("fui-input",{attrs:{type:"phone"},model:{value:t.tel,callback:function(e){t.tel=e},expression:"tel"}})],1)]),a("div",{staticClass:"footer"},[a("button",{class:{actived:t.formReady},on:{click:t.submit}},[t._v("提交申诉")])]),a("gray-mask",{attrs:{show:t.dialog}},[a("Dialog",{attrs:{show:t.dialog,btnText:"我知道了",clickHandler:t.closeDialog},on:{"update:show":function(e){t.dialog=e}}},[a("h3",{staticClass:"dialog__title",attrs:{slot:"title"},slot:"title"},[t._v(" 已提交 ")]),a("div",{staticClass:"dialog__msg",attrs:{slot:"msg"},slot:"msg"},[a("p",[t._v("48小时内反馈申诉结果")]),a("p",[t._v("请注意查看")])])])],1),a("Dialog",{staticClass:"teach",attrs:{show:t.showTeach},on:{"update:show":function(e){t.showTeach=e}}},[a("div",{staticClass:"teach__box"},[a("div",{staticClass:"teach__top"}),a("div",{staticClass:"teach__content"},[a("div",{staticClass:"teach__person"}),a("div",{staticClass:"teach__mask"})]),a("div",{staticClass:"teach__bottom"},[a("div",{staticClass:"teach__finger"})])])])],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",[t._v("申诉原因"),a("span",[t._v("(必填)")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",[t._v("自拍认证"),a("span",[t._v("(必填)")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",[t._v("手机号码"),a("span",[t._v("(必填)")])])}],s=(a("fb6a"),a("e590")),n=a("2ac7"),o=a("a1ba"),l=a("42a5"),c=a("9039"),u=a("5133"),h=a("edb0"),d=n["a"].fuiTextarea,f={components:{NavBar:s["a"],fuiInput:n["a"],fuiTextarea:d,GrayMask:o["a"],Dialog:c["a"]},data:function(){return{reanson:"",tel:"",photo:!1,dialog:!1,showTeach:!1}},computed:{formReady:function(){return!!(this.reanson.length>4&&this.reanson.length<201&&11===this.tel.length&&this.photo)}},created:function(){this.$root.hidePlaceholder(),Object(l["a"])("backKey",this.backKeyHandler)},watch:{dialog:function(t){t||Object(h["D"])()},showTeach:function(t){Object(h["z"])(t)}},methods:{takePhoto:function(){window.withdrawTakePhotoCallBack=this.updatePhoto,Object(h["G"])("withdrawTakePhotoCallBack",(function(){Object(h["H"])("升级最新版APP才能使用该功能")}))},openPhoto:function(){Object(h["H"])("暂未支持预览")},cancalPhoto:function(){this.photo=!1},updatePhoto:function(t){t?this.photo=t:Object(h["H"])("选取照片失败")},closeDialog:function(){this.dialog=!1},submit:function(){var t=this;this.formReady&&Object(u["a"])({category:"申诉",type:"问题",phone:this.tel,imageInfo:JSON.stringify([this.photo]),content:this.reanson.slice(0,200)}).then((function(){t.dialog=!0})).catch((function(){Object(h["H"])("操作失败了，再试试")}))},openTeachDialog:function(){this.showTeach=!0},backKeyHandler:function(){this.showTeach=!1},hanleValidate:function(t){return t.length>200?{validate:!1,valiedateMessage:"字数不能大于200字"}:{validate:!0,valiedateMessage:""}}}},p=f,v=(a("c49f"),a("2877")),g=Object(v["a"])(p,i,r,!1,null,"6e11cf2a",null);e["default"]=g.exports},9039:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fade"}},[t.show?a("div",{staticClass:"dialog",on:{click:function(e){return e.target!==e.currentTarget?null:t.closeHandler(e,"outside")}}},[a("div",{staticClass:"dialog__content"},[a("div",{staticClass:"dialog__close",on:{click:t.closeHandler}}),t._t("default",[a("div",{staticClass:"dialog__inner"},[t._t("icon"),a("div",{staticClass:"dialog__msg"},[t._t("title",[a("h1",{domProps:{innerHTML:t._s(t.title)}})]),t._t("msg",[a("p",{domProps:{innerHTML:t._s(t.msg)}})])],2),t._t("footer"),a("Button",{attrs:{customStyle:{width:"1.9rem",height:"0.43rem",fontSize:"0.16rem"}},on:{click:t.clickHandler}},[t._v(t._s(t.btnText))])],2)])],2)]):t._e()])},r=[],s=a("366e"),n={name:"Dialog",components:{Button:s["a"]},props:{show:{type:Boolean,default:!1},outsideClose:{type:Boolean,default:!0},title:{type:String,default:""},msg:{type:String,default:""},btnText:{type:String,default:""},clickHandler:{type:Function,default:function(){}}},methods:{closeHandler:function(t,e){("outside"!==e||this.outsideClose)&&this.$emit("update:show",!1)}}},o=n,l=(a("4214"),a("2877")),c=Object(l["a"])(o,i,r,!1,null,"98be046a",null);e["a"]=c.exports},9991:function(t,e,a){},a1ba:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._g({directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"gray-mask"},t.$listeners),[t._t("default")],2)},r=[],s={name:"GrayMask",props:{show:{type:[String,Boolean],default:""}},methods:{stopSlide:function(t){t.preventDefault()}},watch:{show:{handler:function(t){t?(console.log("禁止滑动"),document.body.addEventListener("touchmove",this.stopSlide,{passive:!1})):(console.log("可以滑动"),document.body.removeEventListener("touchmove",this.stopSlide,{passive:!1}))},immediate:!0}},destroyed:function(){document.body.removeEventListener("touchmove",this.stopSlide,{passive:!1})}},n=s,o=(a("bccd"),a("2877")),l=Object(o["a"])(n,i,r,!1,null,"4cb2c41a",null);e["a"]=l.exports},bccd:function(t,e,a){"use strict";var i=a("9991"),r=a.n(i);r.a},bfef:function(t,e,a){},c418:function(t,e,a){},c49f:function(t,e,a){"use strict";var i=a("5d4b"),r=a.n(i);r.a}}]);
//# sourceMappingURL=chunk-aed42a24-legacy.fd4fd1b1.js.map