(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-007d64d8"],{"28ae":function(t,e,a){"use strict";var i=a("a484"),s=a.n(i);s.a},"2d5d":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:{turntable:!0,"turntable-normal":t.turntableLight,"turntable-reverse":!t.turntableLight}},[a("div",{staticClass:"container"},[a("div",{ref:"turntable",class:{awrads:!0,"table-rotate":t.status}},t._l(t.awards,(function(e,i){return a("div",{key:e.choiceId,class:{award:!0,award_active:t.luckyIndex===i&&t.end},style:{transform:"rotate("+45*i+"deg)"}},[e.choiceDesc?[t._v(" "+t._s(e.choiceDesc)+" ")]:[a("img",{attrs:{src:e.url}})]],2)})),0),a("div",{class:{button:!0,button_scale:t.awards[0].url},on:{click:t.run}},[a("div",{class:{"button-scale":!0,"button-scale-animation":!t.isRotating}})])])])},s=[],n={name:"Turntable",model:{prop:"luckyId",event:"update"},props:{awards:{type:Array,required:!0},luckyId:{type:Number,required:!0}},data(){return{status:!1,angle:0,deltaAngle:720,deltaTime:2e3,endTime:0,luckyIndex:-1,end:!1,turntableLight:!0,timmer:0,isRotating:!1}},created(){this.$nextTick(()=>{this.timmer=setInterval(()=>{this.turntableLight=!this.turntableLight},500)})},destroyed(){clearInterval(this.timmer)},watch:{luckyId(t){!isNaN(t)&&this.status&&this.preSlowDown()}},computed:{halfAcceleration(){var t=.72;return(this.deltaAngle-t*this.deltaTime)/(this.deltaTime*this.deltaTime)}},methods:{run(){this.$emit("start")},start(){this.end=!1,this.$emit("update",NaN),this.endTime=Date.now(),this.isRotating=!0,requestAnimationFrame(this.speedUp)},preSlowDown(){this.luckyIndex=-1;for(var t=0;t<this.awards.length;t+=1)if(this.awards[t].choiceId===this.luckyId){this.luckyIndex=t;break}this.status=!1,-1===this.luckyIndex?this.angle=22:this.angle=360-45*this.luckyIndex,this.endTime=Date.now()+this.deltaTime,requestAnimationFrame(this.slowDown)},slowDown(){var t=this.endTime-Date.now();t>0?(this.$refs.turntable.style["-webkit-transform"]="rotate(".concat(this.angle+this.halfAcceleration*t*t,"deg)"),this.$refs.turntable.style.transform="rotate(".concat(this.angle+this.halfAcceleration*t*t,"deg)"),requestAnimationFrame(this.slowDown)):(this.$refs.turntable.style["-webkit-transform"]="rotate(".concat(this.angle,"deg)"),this.$refs.turntable.style.transform="rotate(".concat(this.angle,"deg)"),this.$emit("stop"),this.isRotating=!1,this.end=!0)},speedUp(){var t=Date.now()-this.endTime;t<1e3?(this.$refs.turntable.style["-webkit-transform"]="rotate(".concat(this.angle+36e-5*t*t,"deg)"),this.$refs.turntable.style.transform="rotate(".concat(this.angle+36e-5*t*t,"deg)"),requestAnimationFrame(this.speedUp)):(this.status=!0,this.$refs.turntable.style["-webkit-transform"]="",this.$refs.turntable.style.transform="",isNaN(this.luckyId)||this.preSlowDown())}}},o=n,r=(a("8772"),a("2877")),l=Object(r["a"])(o,i,s,!1,null,"38f57252",null);e["a"]=l.exports},4330:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:["dialog",t.icon]},[a("div",{staticClass:"icon"}),a("div",{staticClass:"title"},[t._v(t._s(t.title))]),a("div",{staticClass:"description"},[t._v(t._s(t.description))]),a("div",{staticClass:"button",on:{click:t.buttonClickHandler}},[t._v(t._s(t.buttonText))])])},s=[],n={name:"LotteryDialog",props:{icon:{type:String,default:"exclamation"},title:{type:String,default:""},description:{type:String,default:""},buttonText:{type:String,default:""}},methods:{buttonClickHandler(){this.$emit("btn-click")}}},o=n,r=(a("83bf"),a("2877")),l=Object(r["a"])(o,i,s,!1,null,"21959f20",null);e["a"]=l.exports},5714:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"c",(function(){return i})),a.d(e,"b",(function(){return n}));var i=["恭喜晓抽中新人专享6元红包","恭喜菩提抽中新人专享1元红包","恭喜想看用户1127抽中福猪一头","恭喜梁三顺 抽中福猪一头","恭喜嘿嘿哈皮抽中新人专享6元红包"],s={nocoin:{title:"你的金币余额不足",description:"先去做任务赚取更多金币吧",buttonText:"赚金币",stat:"弹窗-赚金币"},noCount:{title:"您今日的翻倍机会已用完",description:"明天再来试试吧",buttonText:"去赚更多金币",stat:"弹窗-赚金币"},share:{title:"你今日的翻倍次数已用完",description:"分享可增加一次翻倍机会哦",buttonText:"分享",stat:"弹窗-分享"},pig:{icon:"star",title:"太幸运了",description:'恭喜您抽中"福猪"一头！打开想看APP，找到领福猪页面，领取您可爱的小猪吧~',buttonText:"去想看领取"},lucky6:{icon:"star",title:"太幸运了",description:"恭喜您抽中新人专享的6元现金红包，可当日提现，赶紧去想看领取吧~",buttonText:"去想看领取"},lucky5:{icon:"star",title:"太幸运了",description:"恭喜您抽中新人专享的5元现金红包，可当日提现，赶紧去想看领取吧~",buttonText:"去想看领取"},lucky1:{icon:"star",title:"太幸运了",description:"恭喜您抽中新人专享的1元现金红包，可当日提现，赶紧去想看领取吧~",buttonText:"去想看领取"},badluck:{icon:"badluck",title:"哎呀，手抖了",description:"哎呀，一不小心手抖了\n再来一次吧~",buttonText:"朕知道了"}},n=[{choiceId:1,url:"https://ts.market.mi-img.com/download/Browser/0c7ee589571f62b32dfc3b77e157e0981b2402289/pig.png",dialog:"pig"},{choiceId:2,url:"https://ts.market.mi-img.com/download/Browser/066795896d4767b93bd253a4483f951e751405515/6.png",dialog:"lucky6"},{choiceId:3,url:"https://ts.market.mi-img.com/download/Browser/08679559614d64b970d258a4453f91187873c3e56/1.png",dialog:"lucky1"},{choiceId:4,url:"https://ts.market.mi-img.com/download/Browser/0575415fe53d241dd37d39fd0431a7d04cf66f233/5.png",dialog:"lucky5"},{choiceId:0,url:"https://ts.market.mi-img.com/download/Browser/0c7ee589571f62b32dfc3b77e157e0981b2402289/pig.png",dialog:"pig"},{choiceId:5,url:"https://ts.market.mi-img.com/download/Browser/066795896d4767b938d256a4493f9b1e7e1405515/bad.png",dialog:"badluck"},{choiceId:6,url:"https://ts.market.mi-img.com/download/Browser/0575415fe53d241dd37d39fd0431a7d04cf66f233/5.png",dialog:"lucky5"},{choiceId:7,url:"https://ts.market.mi-img.com/download/Browser/066795896d4767b938d256a4493f9b1e7e1405515/bad.png",dialog:"badluck"}]},"5ffe":function(t,e,a){},"83bf":function(t,e,a){"use strict";var i=a("a5a3"),s=a.n(i);s.a},8772:function(t,e,a){"use strict";var i=a("5ffe"),s=a.n(i);s.a},9991:function(t,e,a){},a1ba:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._g({directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"gray-mask"},t.$listeners),[t._t("default")],2)},s=[],n={name:"GrayMask",props:{show:{type:[String,Boolean],default:""}},methods:{stopSlide(t){t.preventDefault()}},watch:{show:{handler(t){t?(console.log("禁止滑动"),document.body.addEventListener("touchmove",this.stopSlide,{passive:!1})):(console.log("可以滑动"),document.body.removeEventListener("touchmove",this.stopSlide,{passive:!1}))},immediate:!0}},destroyed(){document.body.removeEventListener("touchmove",this.stopSlide,{passive:!1})}},o=n,r=(a("bccd"),a("2877")),l=Object(r["a"])(o,i,s,!1,null,"4cb2c41a",null);e["a"]=l.exports},a484:function(t,e,a){},a5a3:function(t,e,a){},bccd:function(t,e,a){"use strict";var i=a("9991"),s=a.n(i);s.a},e004:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"share"},[a("turn-table",{ref:"turntable",attrs:{awards:t.shareAwards},on:{start:t.start,stop:t.stop},model:{value:t.luckyId,callback:function(e){t.luckyId=e},expression:"luckyId"}}),a("div",{staticClass:"btn",on:{click:t.start}}),a("div",{staticClass:"list-title"},[t._v("获奖名单")]),a("van-swipe",{staticClass:"swipe",attrs:{autoplay:3e3,"show-indicators":!1,vertical:!0}},t._l(t.swipeLIst,(function(e,i){return a("van-swipe-item",{key:i,staticClass:"swipe-item"},[t._v(" "+t._s(e)+" ")])})),1),a("gray-mask",{attrs:{show:t.dialogKey}},[a("lottery-dialog",{attrs:{icon:t.dialog.icon,title:t.dialog.title,description:t.dialog.description,"button-text":t.dialog.buttonText},on:{"btn-click":t.dialogClickHandler}})],1)],1)},s=[],n=a("a1ba"),o=a("c36a"),r=a("2d5d"),l=a("4330"),c=a("5714"),d={name:"Share",components:{TurnTable:r["a"],LotteryDialog:l["a"],GrayMask:n["a"]},data(){return{luckyId:NaN,shareAwards:c["b"],swipeLIst:c["c"],dialogMap:c["a"],dialogKey:"",canStart:!0}},computed:{dialog(){return this.dialogMap[this.dialogKey]||{}}},mounted(){this.$root.hidePlaceholder(),this.$o2o({e_c:"大转盘",e_a:"曝光",e_n:"端外-首页"})},methods:{start(){this.canStart&&(this.canStart=!1,this.$refs.turntable.start(),this.$o2o({e_c:"大转盘",e_a:"点击",e_n:"端外-开始抽奖"}),setTimeout(()=>{var t=Math.random();switch(!0){case t<.5:this.luckyId=2;break;case t<.76:this.luckyId=1;break;case t<.86:this.luckyId=4;break;case t<.96:this.luckyId=3;break;default:this.luckyId=5;break}},2e3))},openDialog(t){t&&this.$o2o({e_c:"大转盘",e_a:"曝光",e_n:"端外-中奖弹窗"}),this.dialogKey=t},stop(){this.openDialog(c["b"].filter(t=>t.choiceId===this.luckyId)[0].dialog),this.canStart=!0},dialogClickHandler(){"badluck"!==this.dialogKey&&this.$o2o({e_c:"大转盘",e_a:"点击",e_n:"端外-去想看领取"},()=>{Object(o["e"])()},()=>{Object(o["e"])()}),this.openDialog("")}}},u=d,h=(a("28ae"),a("2877")),m=Object(h["a"])(u,i,s,!1,null,"98bb29cc",null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-007d64d8.ff82ee1a.js.map