{"version":3,"sources":["webpack:///./src/views/withdraw/withdrawMixin.js","webpack:///./src/views/withdrawAuth/AuthResult.vue?9731","webpack:///src/views/withdrawAuth/AuthResult.vue","webpack:///./src/views/withdrawAuth/AuthResult.vue?fc20","webpack:///./src/views/withdrawAuth/AuthResult.vue?77ae","webpack:///./src/views/withdrawAuth/AuthResult.vue?522f","webpack:///./src/api/miVerify.js","webpack:///./src/utils/miVerify.js","webpack:///./static/v.js","webpack:///./src/views/withdraw/config.js"],"names":["components","Button","WithdrawOptions","data","selectedCash","phonenumber","typeMap","wechat","loading","readTime","parseInt","getReadTime","pageType","this","$route","query","channel","get","computed","type","withdrawOptions","withdrawInfo","props","isAuth","Boolean","default","authPhonenumber","String","Object","methods","withdrawHandler","debounce","onSuccess","onError","withdraw","cash","$o2o","e_c","e_a","e_n","e_x","task_day","taskday","status","coin","string_type","config","debounceWait","params","typeName","window","miVerify","register","verify","onSuccessRequest","token","setSwipeBackStatus","trigger_source","post","then","res","catch","onCloseRequest","code","userLevel","undefined","Number","cacheUserLevelKey","start","activeVerify","versionCode","toast","showWithdrawApplyDialog","commitWithdraw","modalText","nextDriblet","goTab","openCommonWebViewByPath","goProgress","o2oObj","hasCash","i","length","canClick","handleAddCalendar","title","description","mode","offsetDay","target","Date","setDate","getDate","setHours","setMinutes","setSeconds","addCalendarEvent","startTime","getTime","endTime","location","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_m","width","height","fontSize","fontWeight","on","handleClick","_v","slot","_s","timeLeft","staticRenderFns","component","getRegMethod","cb","request","console","log","handler","initMiverify","regMethod","onClose","taskTime","partnerWithdraw","t","o","r","e","exports","n","l","call","m","c","d","defineProperty","enumerable","Symbol","toStringTag","value","__esModule","create","bind","prototype","hasOwnProperty","p","s","74","url","a","timeout","u","f","success","fail","timeoutCb","y","Error","v","document","createElement","loaded","head","getElementsByTagName","h","w","b","push","concat","encodeURIComponent","j","Math","random","valueOf","g","E","join","appendChild","src","readyState","setTimeout","onerror","removeChild","startMiverify","conf","jsVersion","forEach","cacheSelectedCashKey","apolloRechargeDescKey","apolloIncomeFooterBanner","defaultNavBanner","link","imgUrl"],"mappings":"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","file":"js/chunk-abc4c4da.93955837.js","sourcesContent":["import debounce from 'lodash.debounce';\nimport config from '@/config';\nimport Button from '@/components/Button';\nimport { post } from '@/api/withdraw';\nimport {\n    addCalendarEvent,\n    setSwipeBackStatus,\n    openCommonWebViewByPath,\n    toast,\n    getReadTime,\n} from '@/utils/jsApiV2/client';\nimport { goTab } from '@/utils/jsApiV2/deeplink';\nimport { get } from '@/utils/cache';\nimport WithdrawOptions from './WithdrawOptions';\nimport { cacheUserLevelKey, pageType } from './config';\n\nexport default {\n    components: {\n        Button,\n        WithdrawOptions,\n    },\n    data() {\n        return {\n            selectedCash: null,\n            phonenumber: '',\n            typeMap: {\n                wechat: '微信',\n                phonenumber: '话费',\n            },\n            loading: false,\n            readTime: parseInt(getReadTime() / 60000, 10),\n            pageType: this.$route.query.channel || get(pageType) || 'NORMAL',\n        };\n    },\n    computed: {\n        type() {\n            return this.selectedCash && this.selectedCash.type;\n        },\n        withdrawOptions() {\n            return this.withdrawInfo.withdrawOptions || [];\n        },\n    },\n    props: {\n        isAuth: {\n            type: Boolean,\n            default: false,\n        },\n        authPhonenumber: {\n            type: String,\n            default: '',\n        },\n        withdrawInfo: {\n            type: Object,\n            default: () => ({}),\n        },\n    },\n    methods: {\n        withdrawHandler: debounce(function handler(onSuccess, onError) {\n            if (!this.selectedCash) return;\n\n            this.withdraw({\n                type: this.selectedCash.type,\n                cash: this.selectedCash.cash,\n                pageType: this.pageType,\n                ...(this.phonenumber && { phonenumber: this.phonenumber }),\n            }, onSuccess, onError);\n\n            // 当点击话费输入框中的立即提现按钮时不上报\n            if (!this.phonenumber) {\n                if (this.pageType === 'CHANNEL_NEW_USER') {\n                    this.$o2o({\n                        e_c: '裂变新手链路提现',\n                        e_a: '点击',\n                        e_n: '立即兑换',\n                        e_x: {\n                            task_day: this.$route.query.taskday || get('taskday') || '',\n                            status: this.withdrawInfo.coin === 0 ? '无余额' : '有余额',\n                        },\n                    });\n                } else {\n                    this.$o2o({\n                        e_c: '提现',\n                        e_a: '点击',\n                        e_n: '立即提现',\n                        e_x: {\n                            string_type: `${this.typeMap[this.selectedCash.type]}${this.selectedCash.cash / 100}元`,\n                            status: '立即提现',\n                        },\n                    });\n                }\n            }\n        }, config.debounceWait),\n        withdraw(params, onSuccess, onError) {\n            const type = params.type;\n            const typeName = this.typeMap[type];\n\n            if (window.miVerify.register === false) {\n                toast('网络异常，请退出后重试');\n                return;\n            }\n\n            if (!window.miVerify.withdraw.verify) {\n                toast('网络延迟，请稍后重试');\n                return;\n            }\n            // 待添加验证步骤\n            window.miVerify.withdraw.onSuccessRequest = (token) => {\n                this.loading = true;\n                setSwipeBackStatus('true');\n                this.$o2o({ e_c: '滑动验证码', e_a: '成功', e_n: '滑动验证码解锁成功', e_x: { trigger_source: `${typeName}提现` } });\n                post({\n                    ...params,\n                    ...token,\n                })\n                    .then((res) => {\n                        if (typeof onSuccess === 'function') {\n                            onSuccess(res);\n                        }\n\n                        this.loading = false;\n                    })\n                    .catch((res) => {\n                        if (res && res.status === '1001') {\n                            this.$o2o({\n                                e_c: '滑动验证码',\n                                e_a: '失败',\n                                e_n: '滑动验证码解锁失败',\n                                e_x: { trigger_source: `${typeName}提现` },\n                            });\n                        }\n\n                        this.$o2o({\n                            e_c: '提现',\n                            e_a: '失败',\n                            e_n: '提现失败',\n                            e_x: { type: typeName },\n                        });\n\n                        if (typeof onError === 'function') {\n                            onError(res);\n                        }\n\n                        this.loading = false;\n                    });\n            };\n            window.miVerify.withdraw.onCloseRequest = (code) => {\n                setSwipeBackStatus('true');\n                switch (code) {\n                case 0:\n                    this.$o2o({ e_c: '滑动验证码', e_a: '成功', e_n: '滑动验证码解锁成功', e_x: { trigger_source: `${typeName}提现` } }); break;\n                case 1:\n                    this.$o2o({ e_c: '滑动验证码', e_a: '关闭', e_n: '滑动验证码手动关闭', e_x: { trigger_source: `${typeName}提现` } }); break;\n                case 2:\n                    this.$o2o({ e_c: '滑动验证码', e_a: 'eventId 过期', e_n: '滑动验证码 eventId 过期', e_x: { trigger_source: `${typeName}提现` } }); break;\n                case 3:\n                    this.$o2o({ e_c: '滑动验证码', e_a: '系统错误', e_n: '滑动验证码系统错误', e_x: { trigger_source: `${typeName}提现` } }); break;\n                default:\n                    break;\n                }\n            };\n            const userLevel = this.withdrawInfo.userLevel !== undefined ?\n                this.withdrawInfo.userLevel : Number(get(cacheUserLevelKey));\n            if (userLevel === 0) {\n                setSwipeBackStatus('false');\n                window.miVerify.withdraw.verify.start({\n                    activeVerify: 'false',\n                });\n            } else if (userLevel === 1) {\n                setSwipeBackStatus('false');\n                window.miVerify.withdraw.verify.start({\n                    activeVerify: 'true',\n                });\n            } else if (userLevel === 2) {\n                if (config.versionCode < 40850) {\n                    toast('账号异常、升级新版APP可申诉');\n                } else {\n                    this.showWithdrawApplyDialog = true;\n                }\n            }\n        },\n        commitWithdraw(res) {\n            const withdraw = this.selectedCash.cash / 100;\n            const nextDriblet = res.nextDriblet / 100;\n            let cash;\n            let modalText;\n\n            switch (withdraw) {\n            case 0.3:\n                cash = 1;\n                break;\n            case 1:\n                cash = 5;\n                break;\n            default:\n            }\n\n            // 提现成功后全部跳转到赚金币tab，但是某些低版本可能不支持 80ban\n            if (config.versionCode >= 40880) {\n                // 对照组和实验组采用不同的方案\n                if (this.pageType === 'CHANNEL_NEW_USER' || nextDriblet === 0) {\n                    modalText = '';\n                } else if (nextDriblet === 5) {\n                    modalText = `连续签到3天，再提${nextDriblet}元`;\n                } else {\n                    modalText = `明天来，再提${nextDriblet}元`;\n                }\n                goTab(`chatTab?text=${modalText}&money=${withdraw}`);\n            } else {\n                openCommonWebViewByPath(`/mobile-v2/withdraw/progress?withdraw=${withdraw}${cash ? `&cash=${cash}` : ''}${res.nextDriblet > 0 ? `&nextDriblet=${res.nextDriblet}` : ''}`);\n            }\n        },\n        goProgress() {\n            const o2oObj = {\n                e_c: '提现',\n                e_a: '点击',\n                e_n: '提现进度按钮点击',\n            };\n            if (this.pageType === 'CHANNEL_NEW_USER') {\n                o2oObj.e_c = '裂变新手链路提现';\n                o2oObj.e_x = {\n                    task_day: this.$route.query.taskday,\n                };\n            }\n            this.$o2o(o2oObj);\n\n            openCommonWebViewByPath('/mobile-v2/withdraw/progress');\n        },\n        hasCash(cash) {\n            for (let i = 0; i < this.withdrawOptions.length; i += 1) {\n                if (this.withdrawOptions[i].cash === cash\n                    && this.withdrawOptions[i].canClick) {\n                    return true;\n                }\n            }\n\n            return false;\n        },\n        handleAddCalendar(title = '【想看】今天可提现1元零钱了，点击提现>>', description = '想看1元提现', mode = 'FREQ=DAILY;INTERVAL=1;COUNT=1', offsetDay = 1) {\n            const target = new Date();\n\n            target.setDate(target.getDate() + offsetDay);\n            target.setHours(7);\n            target.setMinutes(0);\n            target.setSeconds(0);\n\n            addCalendarEvent({\n                title,\n                description,\n                startTime: target.getTime(),\n                endTime: target.getTime() + 600000,\n                location: 'http://www.xiangkannews.cn/a?dLHost=goto&dLPath=newsTab&start_source=calendar',\n                mode,\n            });\n        },\n    },\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"result\"},[_c('nav-bar',{attrs:{\"title\":\"确认兑换\",\"hairline\":false,\"webview\":true}}),_vm._m(0),_c('Button',{attrs:{\"customStyle\":{\n            width: '3.00rem',\n            height: '0.43rem',\n            fontSize: '0.16rem',\n            fontWeight: 'bold',\n        }},on:{\"click\":_vm.handleClick}},[_vm._v(\" 确认兑换 \"),_c('div',{staticClass:\"auth-result__tip\",attrs:{\"slot\":\"desc\"},slot:\"desc\"},[_vm._v(_vm._s(this.timeLeft)+\" 秒后自动兑换\")])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"auth-result__msg\"},[_c('div',{staticClass:\"auth-result__icon auth-result__icon_success\"}),_c('h1',[_vm._v(\"认证成功!\")])])}]\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"result\">\n        <nav-bar\n            title=\"确认兑换\"\n            :hairline=\"false\"\n            :webview=\"true\" />\n        <div class=\"auth-result__msg\">\n            <div class='auth-result__icon auth-result__icon_success' />\n            <h1>认证成功!</h1>\n        </div>\n        <Button\n            :customStyle=\"{\n                width: '3.00rem',\n                height: '0.43rem',\n                fontSize: '0.16rem',\n                fontWeight: 'bold',\n            }\"\n            @click=\"handleClick\">\n            确认兑换\n            <div\n                class=\"auth-result__tip\"\n                slot=\"desc\">{{ this.timeLeft }} 秒后自动兑换</div>\n        </Button>\n    </div>\n</template>\n\n<script>\nimport NavBar from '@/components/NavBar';\nimport Button from '@/components/Button';\nimport { get, remove } from '@/utils/cache';\nimport { toast, quitCurrentWebview } from '@/utils/jsApiV2/client';\nimport miVerify from '@/utils/miVerify';\nimport { cacheSelectedCashKey } from '../withdraw/config';\nimport withdrawMixin from '../withdraw/withdrawMixin';\nimport '../../../static/v';\n\nexport default {\n    name: 'AuthResult',\n    mixins: [withdrawMixin],\n    components: {\n        NavBar,\n        Button,\n    },\n    data() {\n        return {\n            timeLeft: 3,\n            timer: null,\n            clicked: false,\n        };\n    },\n    created() {\n        this.getVerifyInfo()\n            .then(() => {\n                this.getSelectedCash();\n                this.createTimer();\n                this.$root.hidePlaceholder();\n            });\n\n        this.$o2o({\n            e_c: '提现',\n            e_a: '曝光',\n            e_n: '认证成功',\n            e_x: { id_card: this.$route.query.cardNo },\n        });\n    },\n    destoryed() {\n        clearInterval(this.timer);\n    },\n    methods: {\n        getSelectedCash() {\n            this.selectedCash = JSON.parse(get(cacheSelectedCashKey));\n        },\n        createTimer() {\n            this.timer = setInterval(() => {\n                this.timeLeft -= 1;\n\n                if (this.timeLeft <= 0) {\n                    this.handleTimeEnd();\n                }\n            }, 1000);\n        },\n        getVerifyInfo() {\n            const p = new Promise((resolve) => {\n                miVerify(\n                    { type: '时长任务' },\n                    (verify) => {\n                        window.miVerify.withdraw.verify = verify;\n                        resolve();\n                    },\n                    'withdraw',\n                );\n            });\n\n            return p;\n        },\n        handleClick() {\n            this.$o2o({ e_c: '提现', e_a: '点击', e_n: '去提现' });\n\n            this.clicked = true;\n            this.withdrawHandler(this.handleWithdrawSuccess, this.handleWithdrawError);\n        },\n        handleTimeEnd() {\n            clearInterval(this.timer);\n\n            if (this.selectedCash.type === 'phonenumber') {\n                this.quitAuthResult();\n            } else if (!this.clicked) {\n                this.withdrawHandler(this.handleWithdrawSuccess, this.handleWithdrawError);\n            }\n        },\n        handleWithdrawSuccess(res) {\n            if (this.selectedCash.type === 'wechat') {\n                this.$o2o({\n                    e_c: '提现',\n                    e_a: '成功',\n                    e_n: '提现成功',\n                    e_x: {\n                        string_type: `微信${this.selectedCash.cash / 100}元`,\n                    },\n                });\n\n                this.commitWithdraw(res);\n            }\n\n            return this.quitAuthResult();\n        },\n        handleWithdrawError(res) {\n            toast(res.msg || (res.data && res.data.msg) || '提现失败');\n            this.quitAuthResult();\n        },\n        quitAuthResult() {\n            /*\n                * 这里只删除微信提现缓存，因为产品要求如果用户一开始选择话费，返回提现页面后要弹出手机号输入框\n                * 返回提现页面后弹出手机号输入框的判断条件：\n                * 1. isAuth由false变为true\n                * 2. 用户选择了话费\n                * 3. 缓存中的类型为话费\n            */\n            if (this.selectedCash.type === 'wechat') {\n                remove(cacheSelectedCashKey);\n            }\n\n            quitCurrentWebview();\n        },\n    },\n};\n</script>\n\n<style scoped>\n.result {\n    height: 100%;\n}\n\n.auth-result__msg {\n    display: flex;\n    width: 100%;\n    margin: 101px 0 48px 0;\n    flex-direction: column;\n    align-items: center;\n}\n\n.auth-result__icon {\n    width: 60px;\n    height: 60px;\n    background-size: 60px 60px;\n    background-repeat: no-repeat;\n}\n\n.auth-result__icon_success {\n    background-image: url(./image/success.png);\n}\n\n.auth-result__msg h1 {\n    margin: 17px 0 0 0;\n    text-align: center;\n    font-weight: normal;\n    font-size: 19px;\n}\n\n.auth-result__tip {\n    font-size: 11px;\n    font-weight: normal;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AuthResult.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AuthResult.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AuthResult.vue?vue&type=template&id=317d11e1&scoped=true&\"\nimport script from \"./AuthResult.vue?vue&type=script&lang=js&\"\nexport * from \"./AuthResult.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AuthResult.vue?vue&type=style&index=0&id=317d11e1&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"317d11e1\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AuthResult.vue?vue&type=style&index=0&id=317d11e1&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AuthResult.vue?vue&type=style&index=0&id=317d11e1&scoped=true&lang=css&\"","// import axios from 'axios';\nimport request from './request';\n\nexport function getRegMethod(data) {\n    return (cb) => {\n        // instance.defaults.headers.post['Content-Type'] = 'application/json';\n        request.get('/api/v4/sec/captcha/register', data)\n            .then((res) => {\n                if (res.data.code === 0) {\n                    console.log('Register success!');\n                    if (typeof cb === 'function') {\n                        cb(res.data.data);\n                        window.miVerify.register = true;\n                    }\n                } else {\n                    console.log('Register callback error!');\n                    window.miVerify.register = false;\n                }\n            })\n            .catch((res) => {\n                console.log('Register request error!');\n                window.miVerify.register = false;\n                console.log(res);\n            });\n    };\n}\n\nexport function test() { }\n","import { getRegMethod } from '../api/miVerify';\n\n/**\n * https://wiki.n.miui.com/pages/viewpage.action?pageId=73330071\n *\n * @author 文桥 <wenqiao1@xiaomi.com>\n * @export\n * @param {Functuon} handler(verifyObj)\n */\nexport default function miVerify(data, handler, type) {\n    // 在页面加载完成后尽可能早的调用初始化方法，以搜集更多的信息，注意：对于一项验证只需初始化一次!!!\n    window.initMiverify(\n        {\n            // 和业务方后端约定的注册验证服务的API，http method默认为get。不满足需求的可以使用regMethod。\n            // registerApi: '/biz/register',\n            // 如果后端对请求格式有要求或http method为其他方式的，\n            // 可以传入自定义的注册函数，参数中传入返回格式化好的response的callback，\n            // 参见下面的regMethod示例。有此参数时就不用再传registerApi这个参数\n            regMethod: getRegMethod(data),\n            onSuccess: function onSuccess(token) { // 成功回调\n                console.log('Verify success!');\n                console.log(token);\n                // 4. 二次验证 start\n                // 此时成功只是客户端与人机验证平台获取了成功的结果\n                // 为避免作恶者篡改结果，还需要业务方 Server 与人机验证平台Server进行二次验证\n                // if (typeof onSuccessRequest === 'function') {\n                //     onSuccessRequest(token);\n                // }\n                window.miVerify[type].onSuccessRequest(token);\n                // 二次验证 end\n            },\n            // 交互验证关闭的回调，code标志不同情况\n            onClose: function onClose(code) {\n                console.log('Verifying close!');\n                // code 关闭原因：0 验证成功，1 用户手动关闭，2 eventId 过期，3 系统错误\n                console.log(code);\n                // if (typeof onCloseRequest === 'function') {\n                //     onCloseRequest(code);\n                // }\n                window.miVerify[type].onCloseRequest(code);\n            },\n        },\n        handler,\n    );\n}\n\nwindow.miVerify = {\n    taskTime: {},\n    withdraw: {},\n    partnerWithdraw: {},\n};\n// window.miVerify.taskTime.onSuccessRequest = () => {\n//     console.log('taskTime.onSuccessRequest');\n// };\n// window.miVerify.taskTime.onCloseRequest = () => {\n//     console.log('taskTime.onCloseRequest');\n// };\n\n// window.miVerify.withdraw.onSuccessRequest = () => {\n//     console.log('withdraw.onSuccessRequest');\n// };\n// window.miVerify.withdraw.onCloseRequest = () => {\n//     console.log('withdraw.onCloseRequest');\n// };\n\n// miVerify({ type: '时长任务' }, (verify) => {\n//     window.miVerify.taskTime.verify = verify;\n// }, window.miVerify.taskTime.onSuccessRequest, window.miVerify.taskTime.onCloseRequest);\n\n// miVerify({ type: '提现' }, (verify) => {\n//     window.miVerify.withdraw.verify = verify;\n// }, window.miVerify.withdraw.onSuccessRequest, window.miVerify.withdraw.onCloseRequest);\n","!function(t){var o={};function r(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=o,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(n,e){if(1&e&&(n=r(n)),8&e)return n;if(4&e&&\"object\"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,\"default\",{enumerable:!0,value:n}),2&e&&\"string\"!=typeof n)for(var o in n)r.d(t,o,function(e){return n[e]}.bind(null,o));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,\"a\",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p=\"\",r(r.s=74)}({74:function(e,n){function t(e,n){var t={};for(var o in n)o in t||(e[o]=n[o]);return e}function o(e){var n=e.url,t=void 0===n?\"\":n,o=e.type,r=void 0===o?\"js\":o,i=e.data,c=void 0===i?{}:i,a=e.timeout,u=void 0===a?6e4:a,f=e.success,d=void 0===f?function(){}:f,l=e.fail,s=void 0===l?function(e){throw e}:l,p=e.timeoutCb,y=void 0===p?function(e){throw e}:p;if(\"function\"!=typeof d)throw new Error(\"传入的success fn 错误\");if(\"function\"!=typeof s)throw new Error(\"传入的fail fn 错误\");if(\"function\"!=typeof y)throw new Error(\"传入的timeoutCb fn 错误\");var v=document.createElement(\"script\");v.loaded=!1;var m=document.head||document.getElementsByTagName(\"head\")[0],h=\"onload\"in v?\"onload\":\"onreadystatechange\",w=[];for(var b in c)w.push(\"\".concat(encodeURIComponent(b),\"=\").concat(encodeURIComponent(c[b])));if(\"jsonp\"===r){var j=parseInt(1e4*Math.random(),10)+(new Date).valueOf(),g=\"miVerify_\".concat(j);w.push(\"callback=miVerify_\".concat(j)),window[g]=function(e){v.loaded=!0,d(e)}}var E=t;0<w.length&&(E=\"\".concat(t,\"?\").concat(w.join(\"&\"))),m.appendChild(v),v.src=E,v[h]=function(){v.readyState&&\"loaded\"!==v.readyState&&\"complete\"!==v.readyState||\"js\"===r&&(v.loaded=!0,setTimeout(function(){d()},100))},v.onerror=function(){s(new Error(\"初始化人机服务失败\")),m.removeChild(v),v=null},setTimeout(function(){v&&!v.loaded&&(s(new Error(\"初始化人机服务超时\")),y())},u)}var r=[],i=null;window.initMiverify=function(e,n){if(!e)throw new Error(\"请传入人机识别配置\");if(\"function\"!=typeof n)throw new Error(\"请传入人机识别回调函数\");i?window.startMiverify(t(e,i),n):r.push({conf:e,handler:n})};o({url:\"https://verify.sec.xiaomi.com/captcha/config\",data:{type:1},type:\"jsonp\",success:function(e){o({url:\"https://static.verify.sec.xiaomi.com/js/\".concat(e.jsVersion,\"/miVerify.min.js\"),success:function(){i=e,r.forEach(function(e){window.startMiverify(t(e.conf,i),e.handler)})}})}})}});\n","export const cacheSelectedCashKey = 'selectedCash';\nexport const cacheUserLevelKey = 'userLevel';\nexport const pageType = 'pageType';\nexport const cacheCommitWithdraw = 'commitWithdraw';\nexport const apolloWithdrawTipKey = 'fe-config_withdraw-tips';\nexport const apolloRechargeDescKey = 'fe-config_recharge-description';\n// 提现进度页底部banner阿波罗配置\nexport const apolloIncomeFooterBanner = 'fe-config-common-footer-banner';\n\nexport const defaultNavBanner = {\n    link: '/mobile-v2/act/pddExchange',\n    title: '现金券',\n    imgUrl: 'http://t1.market.xiaomi.com/download/Browser/09c5c743896a044802447cf7141f598082fdd18d9/1.png',\n};\n"],"sourceRoot":""}