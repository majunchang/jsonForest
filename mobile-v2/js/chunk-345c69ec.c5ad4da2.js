(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-345c69ec"],{1068:function(t,e,i){"use strict";var s=i("b84b"),a=i.n(s);a.a},"27c7":function(t,e,i){"use strict";var s=i("ade3"),a=i("f7fe"),r=i.n(a),n=i("db49"),o=i("366e"),c=i("5133"),d=i("edb0"),l=i("3126"),h=i("6b43"),u=i("fa53"),p=i("fc17");function w(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function g(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?w(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):w(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}e["a"]={components:{Button:o["a"],WithdrawOptions:u["a"]},data(){return{selectedCash:null,phonenumber:"",typeMap:{wechat:"微信",phonenumber:"话费"},loading:!1,readTime:parseInt(Object(d["o"])()/6e4,10),pageType:this.$route.query.channel||Object(h["a"])(p["f"])||"NORMAL"}},computed:{type(){return this.selectedCash&&this.selectedCash.type},withdrawOptions(){return this.withdrawInfo.withdrawOptions||[]}},props:{isAuth:{type:Boolean,default:!1},authPhonenumber:{type:String,default:""},withdrawInfo:{type:Object,default:()=>({})}},methods:{withdrawHandler:r()((function(t,e){this.selectedCash&&(this.withdraw(g({type:this.selectedCash.type,cash:this.selectedCash.cash,pageType:this.pageType},this.phonenumber&&{phonenumber:this.phonenumber}),t,e),this.phonenumber||("CHANNEL_NEW_USER"===this.pageType?this.$o2o({e_c:"裂变新手链路提现",e_a:"点击",e_n:"立即兑换",e_x:{task_day:this.$route.query.taskday||Object(h["a"])("taskday")||"",status:0===this.withdrawInfo.coin?"无余额":"有余额"}}):this.$o2o({e_c:"提现",e_a:"点击",e_n:"立即提现",e_x:{string_type:"".concat(this.typeMap[this.selectedCash.type]).concat(this.selectedCash.cash/100,"元"),status:"立即提现"}})))}),n["a"].debounceWait),withdraw(t,e,i){var s=t.type,a=this.typeMap[s];if(!1!==window.miVerify.register)if(window.miVerify.withdraw.verify){window.miVerify.withdraw.onSuccessRequest=s=>{this.loading=!0,Object(d["E"])("true"),this.$o2o({e_c:"滑动验证码",e_a:"成功",e_n:"滑动验证码解锁成功",e_x:{trigger_source:"".concat(a,"提现")}}),Object(c["g"])(g({},t,{},s)).then(t=>{"function"===typeof e&&e(t),this.loading=!1}).catch(t=>{t&&"1001"===t.status&&this.$o2o({e_c:"滑动验证码",e_a:"失败",e_n:"滑动验证码解锁失败",e_x:{trigger_source:"".concat(a,"提现")}}),this.$o2o({e_c:"提现",e_a:"失败",e_n:"提现失败",e_x:{type:a}}),"function"===typeof i&&i(t),this.loading=!1})},window.miVerify.withdraw.onCloseRequest=t=>{switch(Object(d["E"])("true"),t){case 0:this.$o2o({e_c:"滑动验证码",e_a:"成功",e_n:"滑动验证码解锁成功",e_x:{trigger_source:"".concat(a,"提现")}});break;case 1:this.$o2o({e_c:"滑动验证码",e_a:"关闭",e_n:"滑动验证码手动关闭",e_x:{trigger_source:"".concat(a,"提现")}});break;case 2:this.$o2o({e_c:"滑动验证码",e_a:"eventId 过期",e_n:"滑动验证码 eventId 过期",e_x:{trigger_source:"".concat(a,"提现")}});break;case 3:this.$o2o({e_c:"滑动验证码",e_a:"系统错误",e_n:"滑动验证码系统错误",e_x:{trigger_source:"".concat(a,"提现")}});break;default:break}};var r=void 0!==this.withdrawInfo.userLevel?this.withdrawInfo.userLevel:Number(Object(h["a"])(p["d"]));0===r?(Object(d["E"])("false"),window.miVerify.withdraw.verify.start({activeVerify:"false"})):1===r?(Object(d["E"])("false"),window.miVerify.withdraw.verify.start({activeVerify:"true"})):2===r&&(n["a"].versionCode<40850?Object(d["H"])("账号异常、升级新版APP可申诉"):this.showWithdrawApplyDialog=!0)}else Object(d["H"])("网络延迟，请稍后重试");else Object(d["H"])("网络异常，请退出后重试")},commitWithdraw(t){var e,i,s=this.selectedCash.cash/100,a=t.nextDriblet/100;switch(s){case.3:e=1;break;case 1:e=5;break;default:}n["a"].versionCode>=40880?(i="CHANNEL_NEW_USER"===this.pageType||0===a?"":5===a?"连续签到3天，再提".concat(a,"元"):"明天来，再提".concat(a,"元"),Object(l["f"])("chatTab?text=".concat(i,"&money=").concat(s))):Object(d["B"])("/mobile-v2/withdraw/progress?withdraw=".concat(s).concat(e?"&cash=".concat(e):"").concat(t.nextDriblet>0?"&nextDriblet=".concat(t.nextDriblet):""))},goProgress(){var t={e_c:"提现",e_a:"点击",e_n:"提现进度按钮点击"};"CHANNEL_NEW_USER"===this.pageType&&(t.e_c="裂变新手链路提现",t.e_x={task_day:this.$route.query.taskday}),this.$o2o(t),Object(d["B"])("/mobile-v2/withdraw/progress")},hasCash(t){for(var e=0;e<this.withdrawOptions.length;e+=1)if(this.withdrawOptions[e].cash===t&&this.withdrawOptions[e].canClick)return!0;return!1},handleAddCalendar(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"【想看】今天可提现1元零钱了，点击提现>>",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"想看1元提现",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"FREQ=DAILY;INTERVAL=1;COUNT=1",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=new Date;a.setDate(a.getDate()+s),a.setHours(7),a.setMinutes(0),a.setSeconds(0),Object(d["a"])({title:t,description:e,startTime:a.getTime(),endTime:a.getTime()+6e5,location:"http://www.xiangkannews.cn/a?dLHost=goto&dLPath=newsTab&start_source=calendar",mode:i})}}}},4214:function(t,e,i){"use strict";var s=i("bfef"),a=i.n(s);a.a},5486:function(t,e,i){"use strict";var s=i("d932"),a=i.n(s);a.a},5873:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page"},[i("nav-bar",{staticClass:"header",attrs:{title:"提现进度"}}),i("div",{staticClass:"scroll-container"},[t.withdrawRecord?i("withdraw-progress-detail",{attrs:{"withdraw-record":t.withdrawRecord}}):t._e(),t.withdrawRecords.length?i("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[i("withdraw-record",{attrs:{"withdraw-records":t.withdrawRecords}})],1):t._e(),t.nav.imgUrl?i("div",{staticClass:"footer",on:{click:function(e){return t.goInvite(t.nav.link)}}},[i("div",{staticClass:"btn",style:{backgroundImage:"url("+t.nav.imgUrl+")"}})]):t._e()],1),i("Dialog",{staticClass:"dialog",attrs:{"outside-close":!1,show:t.dialog.show,title:t.dialog.title,msg:t.dialog.msg,btnText:t.dialog.btnText,clickHandler:t.dialog.successHandler},on:{"update:show":function(e){return t.$set(t.dialog,"show",e)}}},[i("div",{staticClass:"dialog-icon",attrs:{slot:"icon"},slot:"icon"})])],1)},a=[],r=(i("e01a"),i("c975"),i("cca6"),i("e590")),n=i("db49"),o=i("2934"),c=i("5133"),d=i("9039"),l=i("edb0"),h=i("3126"),u=i("42a5"),p=function(t,e){var i=e._c;return i("div",{staticClass:"detail"},[e.props.withdrawRecord.empty?i("div",{staticClass:"empty"},[i("p",[e._v("您当前还没有提现申请")])]):i("div",{staticClass:"current-order"},[e.props.withdrawRecord.progress?i("div",{staticClass:"progress"},e._l(e.props.withdrawRecord.progress,(function(t,s){return i("div",{key:s,class:["item",t.finished?"finished":"unfinished"]},[e._v(" "+e._s(t.name)+" "),s<e.props.withdrawRecord.progress.length-1?i("div",{staticClass:"arrow"}):e._e()])})),0):e._e(),i("i",{staticClass:"info-arrow"}),i("div",{staticClass:"info"},[i("p",{staticClass:"info-item"},[i("span",{staticClass:"info-title"},[e._v("兑换方式: ")]),e._v(" "+e._s(e.props.withdrawRecord.withdrawType)+" ")]),i("p",{staticClass:"info-item"},[i("span",{staticClass:"info-title"},[e._v("兑换金额: ")]),i("span",{staticClass:"money"},[e._v(e._s(e.props.withdrawRecord.cash))]),e._v("元 ")]),i("p",{staticClass:"info-item"},[i("span",{staticClass:"info-title"},[e._v("申请时间: ")]),e._v(" "+e._s(e.props.withdrawRecord.applyTime)+" ")]),i("p",{staticClass:"info-item"},[i("span",{staticClass:"info-title"},[e._v("预计发放: ")]),i("span",{staticClass:"withdraw-packet"},[e._v(e._s(e.props.withdrawRecord.releaseTime))])])]),i("p",{staticClass:"tip"},[e._v("温馨提醒：话费到账时间以运营商充值时间为准，审核通过后大约1~2个工作日后运营商充值到账，请耐心等待")])])])},w=[],g={name:"WithdrawProgressDetail",props:{withdrawRecord:{type:Object,required:!0}}},_=g,f=(i("5486"),i("2877")),b=Object(f["a"])(_,p,w,!0,null,"031b5fa0",null),v=b.exports,y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"history-orders"},[i("div",{staticClass:"history-orders-title"},[t._v("历史订单")]),t._l(t.withdrawRecords,(function(e,s){return i("div",{key:e.createTime+s,staticClass:"history-orders-item Hairline Hairline_bottom-outer"},[i("p",{staticClass:"order-type"},[i("span",[t._v(t._s(e.withdrawType))]),i("span",[i("span",{staticClass:"money-type"},[t._v("¥")]),i("span",{staticClass:"money"},[t._v(t._s(e.cash))])])]),i("p",[t._v("申请时间："+t._s(e.applyTime))]),i("p",[t._v("状态："+t._s(e.statusDesc))]),0===e.status&&e.resultDesc?i("p",{staticClass:"cause-item"},[i("span",[t._v("原因：")]),i("span",{staticClass:"order-cause"},[t._v(t._s(e.resultDesc))])]):t._e(),e.bingStatus>0?i("div",{staticClass:"button-wrap"},[i("button",{staticClass:"bind-button",class:{"bind-idcard":1===e.bingStatus,"bind-success":2===e.bingStatus},on:{click:function(i){return t.clickBindButton(e)}}},[t._v(" "+t._s(t._f("buttonText")(e.bingStatus))+" ")])]):t._e()])}))],2)},m=[],C={name:"WithdrawRecord",props:{withdrawRecords:{type:Array,required:!0}},filters:{buttonText(t){var e={1:"换绑身份证",2:"换绑成功"};return e[t]||""}},methods:{clickBindButton(t){1===t.bingStatus&&this.$router.push("bindId")}}},O=C,x=(i("1068"),Object(f["a"])(O,y,m,!1,null,"7cb98ca1",null)),j=x.exports,T=i("27c7"),k=i("fc17"),R={1:{title:"【想看】今天可提现1元零钱了，点击提现>>",description:"想看1元提现",mode:"FREQ=DAILY;INTERVAL=1;COUNT=1"},5:{title:"【想看】再连续签到3天，可提现5元现金，点击签到>>",description:"想看5元提现",mode:"FREQ=DAILY;INTERVAL=1;COUNT=3"}},$={name:"WithdrawProgress",mixins:[T["a"]],components:{NavBar:r["a"],WithdrawProgressDetail:v,WithdrawRecord:j,Dialog:d["a"]},data(){return{loading:!1,finished:!1,withdrawRecord:null,withdrawRecords:[],nextPage:-1,nav:{link:"",title:"",imgUrl:""},dialog:{show:!1,title:this.dialogTitle(),msg:"".concat(this.$route.query.withdraw,"元兑换成功"),btnText:"加入日历提醒，不错过提现",successHandler:()=>{if(this.withdrawDialogStats("点击",this.$route.query.cash),this.dialog.show=!1,"1"===this.$route.query.cash||"5"===this.$route.query.cash){var t=R[this.$route.query.cash],e=Object(l["y"])(t.title,t.description);e||this.handleAddCalendar(t.title,t.description,t.mode,1)}}}}},created(){Number(n["a"].versionCode)>40830&&(this.dialog.btnText="赚更多金币",this.dialog.successHandler=()=>{Object(h["d"])("chatTab")}),this.getNav(),this.getRecord().then(t=>{var e=Object(c["h"])(t);Object.assign(this,e),this.$root.hidePlaceholder();var i=()=>{var t=["1","5"].indexOf(this.$route.query.cash)>-1,e=["0.3","1"].indexOf(this.$route.query.withdraw)>-1,i=Number(n["a"].versionCode),s=i&&i>=40770,a=t&&e&&s;return a&&(Object(l["z"])(!0),Object(u["a"])("backKey",()=>{Object(l["z"])(!1)}),this.withdrawDialogStats("曝光",this.$route.query.cash)),a};e.nextPage<1&&(this.finished=!0,this.loading=!1),this.$o2o({e_c:"提现",e_a:"曝光",e_n:"提现进度页面曝光"}),this.dialog.show=i()}).catch(t=>{console.log(t),this.$error()})},methods:{withdrawDialogStats(t,e){var i={1:"微信1元",5:"微信5元"};this.$o2o({e_c:"提现",e_a:t,e_n:"日历提醒弹窗曝光",e_x:{string_type:i[e]}})},dialogTitle(){var t,e=this.$route.query.nextDriblet?Number(this.$route.query.nextDriblet):0;return t=e?500===e?'<div style="text-align: center;">再连续签到3天，<span style="color: #FF4347;">再提5元！</span></div>':'<div style="text-align: center;">明日来，<span style="color: #FF4347;">再提'.concat(e/100,"元！</span></div>"):"0.3"===this.$route.query.withdraw?'<div style="text-align: center;">明日来，<span style="color: #FF4347;">再提1元！</span></div>':'<div style="text-align: center;">再连续签到3天，<span style="color: #FF4347;">再提5元！</span></div>',t},getRecord(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Object(c["e"])({page:t})},goInvite(t){t&&(Object(l["B"])("".concat(t)),this.$o2o({e_c:"提现",e_a:"点击",e_n:"提现进度底部按钮",e_x:JSON.stringify({name:this.nav.title})}))},onLoad(){this.nextPage>1?(this.loading=!0,this.getRecord(this.nextPage).then(t=>{var e=Object(c["h"])(t);e.nextPage<1&&(this.finished=!0),this.nextPage=e.nextPage,e.withdrawRecords&&(this.withdrawRecords=this.withdrawRecords.concat(e.withdrawRecords)),this.loading=!1}).catch(()=>{this.loading=!1,this.finished=!0})):this.finished=!0},getNav(){Object(o["b"])({key:k["a"]}).then(t=>{var e=t.data.withdrawProgress,i=parseInt(Math.random()*e.length,10);this.nav=e[i],this.$o2o({e_c:"提现",e_a:"曝光",e_n:"提现进度底部按钮",e_x:JSON.stringify({name:this.nav.title})})}).catch(()=>{this.nav=k["e"],this.$o2o({e_c:"提现",e_a:"曝光",e_n:"提现进度底部按钮",e_x:JSON.stringify({name:this.nav.title})})})}}},D=$,P=(i("c06f"),Object(f["a"])(D,s,a,!1,null,"591fd9da",null));e["default"]=P.exports},7841:function(t,e,i){},9039:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"fade"}},[t.show?i("div",{staticClass:"dialog",on:{click:function(e){return e.target!==e.currentTarget?null:t.closeHandler(e,"outside")}}},[i("div",{staticClass:"dialog__content"},[i("div",{staticClass:"dialog__close",on:{click:t.closeHandler}}),t._t("default",[i("div",{staticClass:"dialog__inner"},[t._t("icon"),i("div",{staticClass:"dialog__msg"},[t._t("title",[i("h1",{domProps:{innerHTML:t._s(t.title)}})]),t._t("msg",[i("p",{domProps:{innerHTML:t._s(t.msg)}})])],2),t._t("footer"),i("Button",{attrs:{customStyle:{width:"1.9rem",height:"0.43rem",fontSize:"0.16rem"}},on:{click:t.clickHandler}},[t._v(t._s(t.btnText))])],2)])],2)]):t._e()])},a=[],r=i("366e"),n={name:"Dialog",components:{Button:r["a"]},props:{show:{type:Boolean,default:!1},outsideClose:{type:Boolean,default:!0},title:{type:String,default:""},msg:{type:String,default:""},btnText:{type:String,default:""},clickHandler:{type:Function,default:()=>{}}},methods:{closeHandler(t,e){("outside"!==e||this.outsideClose)&&this.$emit("update:show",!1)}}},o=n,c=(i("4214"),i("2877")),d=Object(c["a"])(o,s,a,!1,null,"98be046a",null);e["a"]=d.exports},b84b:function(t,e,i){},bfef:function(t,e,i){},c06f:function(t,e,i){"use strict";var s=i("7841"),a=i.n(s);a.a},d932:function(t,e,i){},fc17:function(t,e,i){"use strict";i.d(e,"c",(function(){return s})),i.d(e,"d",(function(){return a})),i.d(e,"f",(function(){return r})),i.d(e,"b",(function(){return n})),i.d(e,"a",(function(){return o})),i.d(e,"e",(function(){return c}));var s="selectedCash",a="userLevel",r="pageType",n="fe-config_recharge-description",o="fe-config-common-footer-banner",c={link:"/mobile-v2/act/pddExchange",title:"现金券",imgUrl:"http://t1.market.xiaomi.com/download/Browser/09c5c743896a044802447cf7141f598082fdd18d9/1.png"}}}]);
//# sourceMappingURL=chunk-345c69ec.c5ad4da2.js.map