(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e2b227e"],{"233f":function(t,e,i){"use strict";var a=i("76f8"),n=i.n(a);n.a},2772:function(t,e,i){"use strict";var a=i("b222"),n=i.n(a);n.a},3126:function(t,e,i){"use strict";i.d(e,"i",(function(){return s})),i.d(e,"f",(function(){return o})),i.d(e,"d",(function(){return c})),i.d(e,"g",(function(){return r})),i.d(e,"c",(function(){return l})),i.d(e,"h",(function(){return u})),i.d(e,"b",(function(){return m})),i.d(e,"e",(function(){return d})),i.d(e,"a",(function(){return h}));var a=i("db49"),n=i("2d8f");function s(t){var{deepLink:e}=t;return Object(n["b"])("openDeepLink",e)}function o(t){return Object(n["a"])("web.tab/".concat(t))}function c(t){return Object(n["a"])("goto/".concat(t))}function r(t){var{headIcon:e=a["a"].default.userIcon,nickname:i,userId:s}=t;return Object(n["a"])("goto/userInfoDetail?userId=".concat(s,"&headIcon=").concat(encodeURIComponent(e),"&nickName=").concat(i))}function l(t){return"bikan://web.goto/commonWebView?url_encode=".concat(encodeURIComponent(t))}function u(t){location.href=t}function m(t){return"bikan://goto/".concat(t)}function d(){var t="goto/mineTab/task";return Object(n["a"])(t)}function h(t,e){return"bikan://goto/".concat(t,"Detail?docId=").concat(e)}},"3ac8":function(t,e,i){},"4dd0":function(t,e,i){"use strict";var a=i("e15a"),n=i.n(a);n.a},6585:function(t,e,i){"use strict";var a=i("3ac8"),n=i.n(a);n.a},"76f8":function(t,e,i){},"87ed":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"share"},[i("div",{staticClass:"suspend-title",on:{click:t.clickMoreEpidemicTitle}},[t._v(" 更多疫情 "),i("span")]),i("div",{staticClass:"banner"}),i("div",{staticClass:"pneumonia"},[i("Current",{attrs:{data:t.yiQingData}}),i("div",{staticClass:"interval"}),i("ConvMap",{attrs:{data:t.otherLink},on:{goAppStore:t.goAppStore}}),i("div",{staticClass:"fix-banner"},[i("div",{staticClass:"more-report",on:{click:t.getMoreReport}},[i("span"),t._v("查看更多肺炎报道")]),t.xiaomiShequ?t._e():i("div",{staticClass:"share-epidemic",on:{click:t.shareCurrent}},[i("div",{staticClass:"compassion"})])]),i("div",{staticClass:"interval"}),i("div",{staticClass:"focus"},[i("div",{staticClass:"focus-title"},[t._v(" 焦点关注 "),i("span",{staticClass:"more-report-focus",on:{click:t.getMoreReportFocus}},[t._v(" 更多报道 "),i("span")])]),i("div",{staticClass:"focus-list"},t._l(t.list,(function(e,a){return i("Item",{key:a,attrs:{pathname:t.pathname,"xiaomi-shequ":t.xiaomiShequ,"o2o-channel":t.o2oChannel,item:t.computeParams(e)},on:{goAppStore:t.goAppStore}})})),1),i("div",{staticClass:"penumonia-focus-banner",on:{click:t.clickMoreEpidemicBanner}},[t._v(" 了解更多疫情报道 前往想看 "),i("span")])])],1),i("ShareGuideMask",{attrs:{"show-guide-mask":t.showGuideMask},on:{closeGuideMask:t.closeGuideMask}})],1)},n=[],s=i("3126"),o=i("c36a"),c=(i("e6cf"),i("0c6d"));function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c["b"].get("/api/v1/news/channel",t).then(t=>200!==t.data.returnCode?(Object(c["a"])(t),Promise.reject(t.data)):Promise.resolve(t.data.data))}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c["b"].get("/api/v4/yiqing/get",t).then(t=>200!==t.data.status?(Object(c["a"])(t),Promise.reject()):Promise.resolve(t.data.data))}var u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"current"},[i("div",{staticClass:"line Hairline Hairline_top"}),i("div",{staticClass:"title"},[t._v(" 实时疫情"),i("span",[t._v("数据统计截止 "+t._s(t.data.time))])]),i("div",{staticClass:"table"},[t._m(0),t.total?i("div",{staticClass:"table-tr country"},[i("div",{staticClass:"table-td"},[t._v("全国")]),i("div",{staticClass:"table-td"},[t._v(t._s(t.total.sure_cnt))]),i("div",{staticClass:"table-td"},[t._v(t._s(t.total.cure_cnt))]),i("div",{staticClass:"table-td"},[t._v(t._s(t.total.die_cnt))])]):t._e(),t.yst?i("div",{staticClass:"table-tr added Hairline Hairline_bottom"},[i("div",{staticClass:"table-td"},[t._v(t._s(t.getDate(t.data.incrTime))+"号新增")]),i("div",{staticClass:"table-td"},[i("span",[t._v("+"+t._s(t.yst.sure_cnt))])]),i("div",{staticClass:"table-td"},[i("span",[t._v("+"+t._s(t.yst.cure_cnt))])]),i("div",{staticClass:"table-td"},[i("span",[t._v("+"+t._s(t.yst.die_cnt))])])]):t._e()])])},m=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"table-tr table-head"},[i("div",{staticClass:"table-td"},[t._v("地区")]),i("div",{staticClass:"table-td"},[t._v("确诊")]),i("div",{staticClass:"table-td"},[t._v("治愈")]),i("div",{staticClass:"table-td"},[t._v("死亡")])])}],d={name:"Current",props:{data:{type:Object,required:!0}},computed:{total(){return this.data.total},yst(){return this.data.yst}},methods:{getDate(t){var e=new Date(1e3*t);return e.getDate()}}},h=d,v=(i("6585"),i("2877")),p=Object(v["a"])(h,u,m,!1,null,"4b9e04ed",null),f=p.exports,_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"conv-map"},[t._m(0),i("div",{staticClass:"map",on:{click:function(e){return t.goAppStore("map")}}},[i("img",{attrs:{src:t.data.mapLink},on:{error:t.imgDownloadError}})]),i("div",{staticClass:"footer"},[t._v("以上数据来自夸克浏览器")])])},g=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"conv-title"},[i("div",{staticClass:"title"},[t._v(" 疫情地图 ")])])}];function C(){var t=this.$route.query.Channel,e="xiaomi_shequ"===t?"小米社区":"微信",i="xiaomi_shequ"===t;return{xiaomiShequ:i,o2oChannel:e}}var b={name:"ConvMap",props:{data:{type:Object,required:!0}},methods:{goAppStore(){var{o2oChannel:t}=C.call(this);this.$o2o({e_c:"".concat(t,"肺炎频道"),e_a:"点击",e_n:"".concat(t,"肺炎地图点击")}),this.$emit("goAppStore")},imgDownloadError(t){t.target.src="http://t1.market.xiaomi.com/download/Browser/079c6d4cb67214c05289b7ceef95055529bdb6c27/map.jpg"}}},k=b,y=(i("c023"),Object(v["a"])(k,_,g,!1,null,"7b8200d4",null)),M=y.exports,w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"item-container",on:{click:t.goDetail}},[3===parseInt(t.item.itemStyle)?i("div",{staticClass:"item-mult-image"},[t.item.title?i("div",{staticClass:"item-mult-name"},[t._v(" "+t._s(t.item.title)+" ")]):t._e(),i("div",{staticClass:"item-mult-preview"},t._l(t.item.images.slice(0,3),(function(t,e){return i("img",{key:e,staticClass:"item-mult-preview-image",attrs:{src:t,alt:""}})})),0),i("ItemInfo",{attrs:{id:"item-info-mult",item:t.item}})],1):1===parseInt(t.item.itemStyle)&&t.item.images[0]?i("div",{staticClass:"item-single"},[t.item.title?i("div",{staticClass:"item-name"},[t._v(" "+t._s(t.item.title)+" "),i("ItemInfo",{staticClass:"item-info",attrs:{item:t.item}})],1):t._e(),t.item.images&&t.item.images.length?i("img",{staticClass:"item-preview",attrs:{src:t.item.images[0],alt:""}}):t._e()]):0===parseInt(t.item.itemStyle)||1===parseInt(t.item.itemStyle)&&!t.item.images[0]?i("div",{staticClass:"item-empty"},[t.item.title?i("div",{staticClass:"item-name-empty"},[t._v(" "+t._s(t.item.title)+" ")]):t._e(),i("ItemInfo",{attrs:{id:"item-info-empty",item:t.item}})],1):i("div",{staticClass:"single-video"},[t.item.title?i("div",{staticClass:"video-name"},[t._v(" "+t._s(t.item.title)+" ")]):t._e(),i("div",[t.item.images&&t.item.images.length?i("img",{staticClass:"video-preview",attrs:{src:t.item.images[0],alt:""}}):t._e(),i("span",{staticClass:"video-play-icon"})]),i("ItemInfo",{attrs:{item:t.item,id:"video-item-info"}})],1)])},S=[],I=(i("2532"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.item.authorName?i("span",{staticClass:"item-author"},[t._v(" "+t._s(t.item.authorName)+" ")]):t._e(),t.item.commentCount?i("span",{staticClass:"item-commentCount"},[t._v(" "+t._s(t.item.commentCount)+"条评论 ")]):t._e(),t.item.publishTime?i("span",{staticClass:"item-publishtime"},[t._v(" "+t._s(t.computeTimeAgo(t.item.publishTime))+" ")]):t._e()])}),D=[],j=i("cadb"),$={name:"ItemInfo",props:{item:{type:Object,required:!0}},methods:{computeTimeAgo(t){return Object(j["a"])(t,"year","YYYY年MM月DD日")}}},x=$,O=Object(v["a"])(x,I,D,!1,null,null,null),Y=O.exports,q={name:"ListItem",props:{item:{type:Object,required:!0},pathname:{type:String,required:!0},xiaomiShequ:{type:Boolean,required:!0},o2oChannel:{type:String,required:!0}},components:{ItemInfo:Y},methods:{goDetail(){if(this.xiaomiShequ)return this.$emit("goAppStore"),void this.$o2o({e_c:"".concat(this.o2oChannel,"肺炎频道内容"),e_a:"点击",e_n:"".concat(this.o2oChannel,"肺炎内容点击")});this.$root.setBackflow(this.pathname),location.href=this.item.url.includes("?")?"".concat(this.item.url,"&docid=").concat(this.item.docid):"".concat(this.item.url,"?docid=").concat(this.item.docid),this.$o2o({e_c:"微信肺炎频道内容",e_a:"点击",e_n:"微信肺炎内容点击"})}}},E=q,A=(i("233f"),Object(v["a"])(E,w,S,!1,null,null,null)),G=A.exports,L=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("gray-mask",{attrs:{id:"share-guide-mask",show:t.showGuideMask},on:{click:t.closeGuideMask}},[i("div",{staticClass:"guide-img"})])},T=[],B=i("a1ba"),F={name:"ShareGuideMask",components:{GrayMask:B["a"]},props:{showGuideMask:{type:Boolean,default:!1}},methods:{closeGuideMask(){this.$emit("closeGuideMask")}}},P=F,R=(i("4dd0"),Object(v["a"])(P,L,T,!1,null,null,null)),H=R.exports,N={data(){return{list:[],yiQingData:{},otherLink:{},showGuideMask:!1,pathname:window.location.pathname,xiaomiShequ:"",o2oChannel:""}},created(){document.title="实时动态 | 新型肺炎疫情 - 想看",this.xiaomiShequ=C.call(this).xiaomiShequ,this.o2oChannel=C.call(this).o2oChannel,this.getFightConvInfo(),this.getMoreEpidemic(),this.setShareInfo()},components:{Current:f,ConvMap:M,Item:G,ShareGuideMask:H},methods:{getMoreReportFocus(){this.$o2o({e_c:"".concat(this.o2oChannel,"肺炎频道"),e_a:"点击",e_n:"".concat(this.o2oChannel,"更多报道点击")}),this.goAppStore()},getFightConvInfo(){l().then(t=>{this.$root.hidePlaceholder(),this.yiQingData=t.yiQingData,this.otherLink=t.otherLink,this.$o2o({e_c:"".concat(this.o2oChannel,"肺炎频道"),e_a:"曝光",e_n:"".concat(this.o2oChannel,"肺炎页面曝光")})}).catch(()=>{this.$error()})},getMoreEpidemic(){r({channelId:"抗击肺炎",offset:0}).then(t=>{var e=["0","1","3","inline_video_item","short_video_item"];this.list=t[0].documents.filter(t=>e.includes(t.item_style))}).catch(()=>{this.list=[]})},shareCurrent(){this.showGuideMask=!0,this.$o2o({e_c:"".concat(this.o2oChannel,"肺炎频道"),e_a:"点击",e_n:"".concat(this.o2oChannel,"分享疫情按钮点击")})},closeGuideMask(){this.showGuideMask=!1},setShareInfo(){Object(o["h"])({title:"实时动态 | 新型肺炎疫情 - 想看",summary:"实时新型冠状病毒肺炎疫情，众志成城，全民加油！#想看#",pic:"http://t1.market.xiaomi.com/download/Browser/0968a4cb9e14a538cccc1eeb85df8ce16d3425bbb/thumb.jpg",url:location.href})},getMoreReport(){this.$o2o({e_c:"".concat(this.o2oChannel,"肺炎频道"),e_a:"点击",e_n:"".concat(this.o2oChannel,"查看更多报道点击")}),this.goAppStore()},clickMoreEpidemicTitle(){this.$o2o({e_c:"".concat(this.o2oChannel,"肺炎频道"),e_a:"点击",e_n:"".concat(this.o2oChannel,"更多疫情按钮点击")}),this.goAppStore()},clickMoreEpidemicBanner(){this.$o2o({e_c:"".concat(this.o2oChannel,"肺炎频道"),e_a:"点击",e_n:"".concat(this.o2oChannel,"前往想看按钮点击")}),this.goAppStore()},goAppStore(){Object(o["a"])(Object(s["b"])("newsTab?switchChannelCode=抗击肺炎"),()=>{},"CK1451326857236")},computeParams(t){return{url:t.url,title:t.title,images:t.images,authorName:t.author_name,source:t.source,itemStyle:t.item_style,publishTime:t.publishTime,commentCount:t.commentCount,docid:t.docid}}}},Q=N,J=(i("2772"),Object(v["a"])(Q,a,n,!1,null,"064ae5a9",null));e["default"]=J.exports},"98a8":function(t,e,i){},9991:function(t,e,i){},a1ba:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",t._g({directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"gray-mask"},t.$listeners),[t._t("default")],2)},n=[],s={name:"GrayMask",props:{show:{type:[String,Boolean],default:""}},methods:{stopSlide(t){t.preventDefault()}},watch:{show:{handler(t){t?(console.log("禁止滑动"),document.body.addEventListener("touchmove",this.stopSlide,{passive:!1})):(console.log("可以滑动"),document.body.removeEventListener("touchmove",this.stopSlide,{passive:!1}))},immediate:!0}},destroyed(){document.body.removeEventListener("touchmove",this.stopSlide,{passive:!1})}},o=s,c=(i("bccd"),i("2877")),r=Object(c["a"])(o,a,n,!1,null,"4cb2c41a",null);e["a"]=r.exports},b222:function(t,e,i){},bccd:function(t,e,i){"use strict";var a=i("9991"),n=i.n(a);n.a},c023:function(t,e,i){"use strict";var a=i("98a8"),n=i.n(a);n.a},cadb:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"a",(function(){return n})),i.d(e,"d",(function(){return s})),i.d(e,"c",(function(){return o}));i("fb6a"),i("5319");function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY年MM月DD日 hh:mm:ss",i=new Date(t),a=i.getFullYear(),n=i.getMonth()+1,s=i.getDate(),o=i.getHours(),c=i.getMinutes(),r=i.getSeconds(),l=function(t){return"0".concat(t).slice(-2)},u={YYYY:a,YY:l(a),MM:l(n),M:n,DD:l(s),D:s,hh:l(o),h:o,mm:l(c),m:c,ss:l(r),s:r};return e.replace(/Y{2,4}|M{1,2}|D{1,2}|h{1,2}|m{1,2}|s{1,2}/g,t=>u[t]||t)}function n(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"day",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"YYYY年MM月DD日 hh:mm:ss",n=["minute","hour","day","week","month","year"],s=[1e3,6e4,36e5,864e5,6048e5,2592e6,31104e6],o=["秒前","分钟前","小时前","天前","周前","月前","年前"],c=Date.now()-t,r=0,l=s.length;r<l;r+=1){if(r+1===l||c<=s[r+1]){var u=Math.floor(c/s[r]);return 0===u?"刚刚":u+o[r]}if(e===n[r])return a(t,i)}return a(t,i)}function s(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hh:mm:ss",i=parseFloat(t)||0,a=[60,3600],n={60(t){return[0,0,t]},3600(t){var e=Math.floor(t/60);return[0,e,t-60*e]}},s=function(t){return"0".concat(t).slice(-2)},o={1(t){return t},2(t){return s(t)}},c=function(t,e,i){return e.replace(/(h+)(.?)(m+)(.?)(s+)/gi,(function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];var s=Array.prototype.slice.call(a,1,6),o=0;return s.map((e,a)=>{var n;return a%2===0?(n=i[e.length](t[o]),o+=1,n):e}).join("").replace(/^(00:)/g,"")}))},r=[],l=0,u=a.length;l<u;l+=1)if(i<a[l])return c(n[a[l]](i),e,o);return r[0]=Math.floor(i/3600),r[1]=Math.floor((i-3600*r[0])/60),r[2]=i-3600*r[0]-60*r[1],c(r,e,o)}function o(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}},e15a:function(t,e,i){}}]);
//# sourceMappingURL=chunk-2e2b227e.262ada8c.js.map