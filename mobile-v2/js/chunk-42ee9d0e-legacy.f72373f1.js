(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-42ee9d0e"],{"06bb":function(t,e,i){"use strict";var n=i("416b"),s=i.n(n);s.a},"151a":function(t,e,i){},"1baf":function(t,e,i){},2909:function(t,e,i){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}i("a4d3"),i("e01a"),i("d28b"),i("a630"),i("e260"),i("d3b7"),i("25f0"),i("3ca3"),i("ddb0");function s(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(t){return n(t)||s(t)||a()}i.d(e,"a",(function(){return o}))},"416b":function(t,e,i){},4214:function(t,e,i){"use strict";var n=i("bfef"),s=i.n(n);s.a},"45fc":function(t,e,i){"use strict";var n=i("23e7"),s=i("b727").some,a=i("a640"),o=i("ae40"),r=a("some"),c=o("some");n({target:"Array",proto:!0,forced:!r||!c},{some:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(t,e,i){"use strict";var n=i("0366"),s=i("7b0b"),a=i("9bdd"),o=i("e95a"),r=i("50c4"),c=i("8418"),u=i("35a1");t.exports=function(t){var e,i,l,d,f,h,v=s(t),m="function"==typeof this?this:Array,p=arguments.length,b=p>1?arguments[1]:void 0,_=void 0!==b,g=u(v),y=0;if(_&&(b=n(b,p>2?arguments[2]:void 0,2)),void 0==g||m==Array&&o(g))for(e=r(v.length),i=new m(e);e>y;y++)h=_?b(v[y],y):v[y],c(i,y,h);else for(d=g.call(v),f=d.next,i=new m;!(l=f.call(d)).done;y++)h=_?a(d,b,[l.value,y],!0):l.value,c(i,y,h);return i.length=y,i}},"4fce":function(t,e,i){"use strict";var n=i("151a"),s=i.n(n);s.a},"67d2":function(t,e,i){"use strict";var n=i("fbf9"),s=i.n(n);s.a},9039:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"fade"}},[t.show?i("div",{staticClass:"dialog",on:{click:function(e){return e.target!==e.currentTarget?null:t.closeHandler(e,"outside")}}},[i("div",{staticClass:"dialog__content"},[i("div",{staticClass:"dialog__close",on:{click:t.closeHandler}}),t._t("default",[i("div",{staticClass:"dialog__inner"},[t._t("icon"),i("div",{staticClass:"dialog__msg"},[t._t("title",[i("h1",{domProps:{innerHTML:t._s(t.title)}})]),t._t("msg",[i("p",{domProps:{innerHTML:t._s(t.msg)}})])],2),t._t("footer"),i("Button",{attrs:{customStyle:{width:"1.9rem",height:"0.43rem",fontSize:"0.16rem"}},on:{click:t.clickHandler}},[t._v(t._s(t.btnText))])],2)])],2)]):t._e()])},s=[],a=i("366e"),o={name:"Dialog",components:{Button:a["a"]},props:{show:{type:Boolean,default:!1},outsideClose:{type:Boolean,default:!0},title:{type:String,default:""},msg:{type:String,default:""},btnText:{type:String,default:""},clickHandler:{type:Function,default:function(){}}},methods:{closeHandler:function(t,e){("outside"!==e||this.outsideClose)&&this.$emit("update:show",!1)}}},r=o,c=(i("4214"),i("2877")),u=Object(c["a"])(r,n,s,!1,null,"98be046a",null);e["a"]=u.exports},9343:function(t,e,i){"use strict";var n=i("1baf"),s=i.n(n);s.a},a15b:function(t,e,i){"use strict";var n=i("23e7"),s=i("44ad"),a=i("fc6a"),o=i("a640"),r=[].join,c=s!=Object,u=o("join",",");n({target:"Array",proto:!0,forced:c||!u},{join:function(t){return r.call(a(this),void 0===t?",":t)}})},a630:function(t,e,i){var n=i("23e7"),s=i("4df4"),a=i("1c7e"),o=!a((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:o},{from:s})},b7d5:function(t,e,i){"use strict";i.d(e,"f",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"d",(function(){return o})),i.d(e,"e",(function(){return r})),i.d(e,"g",(function(){return c})),i.d(e,"a",(function(){return u})),i.d(e,"b",(function(){return l})),i.d(e,"h",(function(){return d})),i.d(e,"m",(function(){return f})),i.d(e,"l",(function(){return h})),i.d(e,"k",(function(){return v})),i.d(e,"j",(function(){return m})),i.d(e,"i",(function(){return p}));i("d3b7");var n=i("0c6d");function s(t){return n["b"].get("/api/v4/invitation/share",t).then((function(t){return 200!==t.data.status&&Object(n["a"])(t),Promise.resolve(t)}))}function a(t){return n["b"].get("/api/v4/invitation/activity",t).then((function(t){return 200!==t.data.status&&Object(n["a"])(t),Promise.resolve(t)}))}function o(t){return n["b"].get("/api/v4/disciple/my",t).then((function(t){return 200!==t.data.status&&Object(n["a"])(t),Promise.resolve(t)}))}function r(t){return n["b"].post("/api/v4/invitation/preinvited",t)}function c(t){return n["b"].get("/api/v4/invitation/f2f/packetRecords",t).then((function(t){return 200!==t.data.status?(Object(n["a"])(t),Promise.reject(t.data.data)):Promise.resolve(t.data.data)}))}function u(){return n["b"].get("/api/v4/invitation/f2f/home").then((function(t){return 200!==t.data.status?(Object(n["a"])(t),Promise.reject(t.data.data)):Promise.resolve(t.data.data)}))}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n["b"].post("/api/v4/invitation/f2f/packet",t)}function d(){return n["b"].get("/api/v4/invitation/f2f/refresh").then((function(t){return 200!==t.data.status?(Object(n["a"])(t),Promise.reject(t.data.data)):Promise.resolve(t.data.data)}))}function f(){return n["b"].post("/api/v4/invitation/tutorialAward").then((function(t){return 200!==t.data.status?(Object(n["a"])(t),Promise.reject(t.data.data)):Promise.resolve(t.data.data)}))}function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n["b"].post("/api/v4/invitation/sms/upload",t).then((function(t){return 200!==t.data.status?(Object(n["a"])(t),Promise.reject(t.data.data)):Promise.resolve(t.data.data)}))}function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n["b"].get("/api/v4/invitation/sms/status",t).then((function(t){return 200!==t.data.status?(Object(n["a"])(t),Promise.reject(t.data.data)):Promise.resolve(t.data.data)}))}function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n["b"].post("/api/v4/invitation/sms/invited",t).then((function(t){return 200!==t.data.status?(Object(n["a"])(t),Promise.reject(t.data.data)):Promise.resolve(t.data.data)}))}function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n["b"].get("/api/v4/invitation/sms/home",t).then((function(t){return 200!==t.data.status?(Object(n["a"])(t),Promise.reject(t.data.data)):Promise.resolve(t.data.data)}))}},bfef:function(t,e,i){},cadb:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"a",(function(){return s})),i.d(e,"d",(function(){return a})),i.d(e,"c",(function(){return o}));i("a15b"),i("d81d"),i("fb6a"),i("ac1f"),i("5319");function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY年MM月DD日 hh:mm:ss",i=new Date(t),n=i.getFullYear(),s=i.getMonth()+1,a=i.getDate(),o=i.getHours(),r=i.getMinutes(),c=i.getSeconds(),u=function(t){return"0".concat(t).slice(-2)},l={YYYY:n,YY:u(n),MM:u(s),M:s,DD:u(a),D:a,hh:u(o),h:o,mm:u(r),m:r,ss:u(c),s:c};return e.replace(/Y{2,4}|M{1,2}|D{1,2}|h{1,2}|m{1,2}|s{1,2}/g,(function(t){return l[t]||t}))}function s(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"day",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"YYYY年MM月DD日 hh:mm:ss",s=["minute","hour","day","week","month","year"],a=[1e3,6e4,36e5,864e5,6048e5,2592e6,31104e6],o=["秒前","分钟前","小时前","天前","周前","月前","年前"],r=Date.now()-t,c=0,u=a.length;c<u;c+=1){if(c+1===u||r<=a[c+1]){var l=Math.floor(r/a[c]);return 0===l?"刚刚":l+o[c]}if(e===s[c])return n(t,i)}return n(t,i)}function a(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hh:mm:ss",i=parseFloat(t)||0,n=[60,3600],s={60:function(t){return[0,0,t]},3600:function(t){var e=Math.floor(t/60);return[0,e,t-60*e]}},a=function(t){return"0".concat(t).slice(-2)},o={1:function(t){return t},2:function(t){return a(t)}},r=function(t,e,i){return e.replace(/(h+)(.?)(m+)(.?)(s+)/gi,(function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];var a=Array.prototype.slice.call(n,1,6),o=0;return a.map((function(e,n){var s;return n%2===0?(s=i[e.length](t[o]),o+=1,s):e})).join("").replace(/^(00:)/g,"")}))},c=[],u=0,l=n.length;u<l;u+=1)if(i<n[u])return r(s[n[u]](i),e,o);return c[0]=Math.floor(i/3600),c[1]=Math.floor((i-3600*c[0])/60),c[2]=i-3600*c[0]-60*c[1],r(c,e,o)}function o(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}},d3ea:function(t,e,i){"use strict";i.r(e),i.d(e,"shareMap",(function(){return n})),i.d(e,"dialogTrackMap",(function(){return s})),i.d(e,"faceTofaceRule",(function(){return a})),i.d(e,"video",(function(){return o})),i.d(e,"smsSuccessText",(function(){return r}));var n={qq:[1,"QQ","QQ邀请","QQ好友"],wechat:[2,"微信","微信邀请","微信好友"],moments:[3,"朋友圈","朋友圈邀请","朋友圈"],face:[-1,"面对面","面对面邀请","面对面分享"],sms:[-1,"短信","短信邀请","短信分享"]},s={remindNotice:"好友提醒师父弹窗",successNotice:"成功邀请弹窗",friendsRemind:"好友提醒分享弹窗"},a=['1. 好友使用微信扫描您的二维码，您可领到<span color="red">100-666</span>金币不等的随机红包，每日最高可领10次，同一微信好友只可领1次；',"2. 若好友（特指想看新用户）通过您的扫码链接下载想看并微信登录，只需连续三天每天认真阅读三条内容以上，您和好友均可领4元邀请奖励，首次邀请成功最高可得5元；","3. 若发现有不正当的手段刷金币行为，平台有权取消该用户已获得奖励并封号处理。"],o={url:"https://ts.market.mi-img.com/download/AppStore/018dac54db0264f8837323595f4a1a97c7450101e",poster:"https://ts.market.mi-img.com/download/AppStore/042185f767a5f7aa7d1376056b7c4c7cc0e4061a8",CSStyle:{width:"100vw",height:"172vw"}},r=["好友通过链接安装想看",'微信登录并<span style="color:#fa4137">绑定手机号</span>','每天认真阅读，各得<span style="color:#fa4137">4元现金</span>']},d81d:function(t,e,i){"use strict";var n=i("23e7"),s=i("b727").map,a=i("1dde"),o=i("ae40"),r=a("map"),c=o("map");n({target:"Array",proto:!0,forced:!r||!c},{map:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},e590:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("header",{class:"nav-bar "+(t.hairline?"Hairline Hairline_bottom":"")},[i("i",{class:[t.customBack?"nav-bar_backWhite":"nav-bar__back"],on:{click:t.backHandler}}),i("h1",{staticClass:"nav-bar__title",style:t.customTitleStyle},[t._v(t._s(t.title))]),i("div",{staticClass:"nav-bar__info"},[t._t("default")],2)])},s=[],a=i("edb0"),o={name:"NavBar",props:{title:{type:String,default:""},hairline:{type:Boolean,default:!0},finishExecute:{type:Boolean,default:!1},clickBackHandler:{type:Function,default:null},webview:{type:Boolean,default:!0},customBack:{type:Boolean,default:!1},customTitleStyle:{type:Object,default:function(){return{}}}},methods:{backHandler:function(){this.clickBackHandler&&(this.clickBackHandler(),this.finishExecute)||(this.webview?Object(a["D"])():this.$router.go(-1))}}},r=o,c=(i("4fce"),i("2877")),u=Object(c["a"])(r,n,s,!1,null,"d8cf0938",null);e["a"]=u.exports},f11d:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"invitation"},[i("nav-bar",{ref:"nav-bar",staticClass:"title-bar",attrs:{title:"邀请好友"}},[i("span",{staticClass:"rule-btn",on:{click:function(e){return t.setDialog("rule")}}},[t._v("活动规则")])]),t.baseInfo.invitationCarousel&&t.baseInfo.invitationCarousel.length?i("van-swipe",{staticClass:"swipe",attrs:{autoplay:3e3,"show-indicators":!1,vertical:!0}},t._l(t.baseInfo.invitationCarousel,(function(e,n){return i("van-swipe-item",{key:n,staticClass:"swipe-item"},[t._v(" "+t._s(e.user)+"邀请了"+t._s(e.discipleNum)+"位好友，预计获得"+t._s(4*e.discipleNum)+"元现金 ")])})),1):t._e(),i("div",{staticClass:"content"},[i("div",{staticClass:"invite-btn scale-infinite",on:{click:function(e){return t.quickShare("0")}}}),t.baseInfo.invitationCode?i("div",{staticClass:"code Hairline Hairline_box"},[t._v("我的邀请码 "),i("span",{staticClass:"number"},[t._v(t._s(t.baseInfo.invitationCode))]),i("span",{staticClass:"copy",on:{click:t.copyCode}},[t._v("点击复制")])]):t._e(),t.discipleList.length?i("div",{ref:"friends-list",staticClass:"income"},[i("h2",[t._v("我的邀请收益")]),t._m(0),i("van-list",{attrs:{finished:t.finished},on:{load:t.getMyfriends},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.discipleList,(function(e,n){return i("div",{key:n,staticClass:"disciple"},[i("div",{staticClass:"user"},[t._v(" "+t._s(e.discipleInfo.discipleUserInfo.nickname)+" ")]),1!==e.taskInfo.status?i("div",{staticClass:"day"},[t._v(" 第"),i("span",[t._v(t._s(e.taskInfo.currentDay))]),t._v("天")]):i("div",{staticClass:"day"},[i("span",[t._v("第"+t._s(e.taskInfo.currentDay)+"天未完成")])]),i("div",{staticClass:"money"},[i("span",[t._v(" ￥"+t._s(e.taskInfo.currentAward/100)+" ")])]),i("div",[i("span",{class:{action:!0,active:1===e.taskInfo.status},on:{click:function(i){return t.setDialog(1===e.taskInfo.status?"friendsRemind":"")}}},[t._v(t._s(e.taskInfo.statusText))])])])})),0)],1):t._e(),i("div",{staticClass:"lucky"},[i("h2",[t._v("如何快速获得奖励")]),t._m(1),i("h2",[t._v("我的奖励")]),t.baseInfo.taskDescription.awardCashList.length?i("div",{staticClass:"task"},[t._l(t.baseInfo.taskDescription.awardCashList,(function(e,n){return i("div",{key:n},[t._v(" 第"+t._s(t.day[n])+"天 "),i("p",{staticClass:"task-text"},[t._v(t._s(e)),i("i",[t._v("元")])])])})),t._m(2)],2):t._e(),i("p",[t._v(t._s(t.baseInfo.taskDescription.taskDesc))])]),0===t.discipleList.length?i("div",{staticClass:"income"},[i("h2",[t._v("我的邀请收益")]),i("p",[t._v("暂无收益")]),i("div",{staticClass:"income__btn",on:{click:function(e){return t.quickShare("1")}}},[t._v("马上邀请")])]):t._e(),i("div",{staticClass:"tips"},[i("h2",[t._v("财运锦囊")]),t._l(t.baseInfo.invitationTips,(function(e,n){return i("p",{key:n},[t._v(t._s(n+1+"."+e))])})),i("div",{staticClass:"teach"},[i("b",{on:{click:function(e){return t.watchVideo()}}},[t._v("观看视频教程领100金币>")])])],2)]),t.channels.length?i("share-bar",{staticClass:"share-bar",attrs:{channels:t.channels},on:{share:t.share}}):t._e(),i("gray-mask",{attrs:{show:t.moreInvite}},[i("div",{staticClass:"more-invite"},[i("div",{staticClass:"more-invite__close",on:{click:t.closeMoreInvite}}),i("div",{staticClass:"more-invite-btn",on:{click:function(e){return t.share("wechat",!0)}}},[t._v(" （"+t._s(t.moreInviteCount)+"/3） ")])])]),i("gray-mask",{staticClass:"video-container",attrs:{show:t.showVideo}},[i("div",{staticClass:"teach-video-title"},[i("div",{staticClass:"teach-video-title__back",on:{click:function(e){return t.setShowVideo(!1)}}}),t._v(" 邀请码视频教程 ")]),i("mi-video",{staticClass:"teach-video",attrs:{"video-url":t.baseInfo.config.videoUrl,poster:t.baseInfo.config.videoPoster,duration:0,"c-s-style":t.config.video.CSStyle}})],1),i("invi-dialog",{directives:[{name:"show",rawName:"v-show",value:"successNotice"===t.dialog,expression:"dialog === 'successNotice'"}],attrs:{title:"邀请成功通知",content:t.baseInfo.inviteSuccessPopText,"btn-text":"立即查看"},on:{btnClick:function(e){return t.toFriendsList("successNotice")},close:function(e){return t.setDialog("")}}}),i("invi-dialog",{directives:[{name:"show",rawName:"v-show",value:"remindNotice"===t.dialog,expression:"dialog === 'remindNotice'"}],attrs:{title:"好友提醒通知",content:t.baseInfo.inviteRemindPopText,"btn-text":"立即查看及提醒"},on:{btnClick:function(e){return t.toFriendsList("remindNotice")},close:function(e){return t.setDialog("")}}}),i("invi-dialog",{directives:[{name:"show",rawName:"v-show",value:"friendsRemind"===t.dialog,expression:"dialog === 'friendsRemind'"}],attrs:{title:"好友提醒",content:t.baseInfo.inviteRemindPopTextSpecial},on:{close:function(e){return t.setDialog("")}}},[i("share-bar",{staticClass:"friends-share",attrs:{channels:["wechat","qq"]},on:{share:t.wakeUp}})],1),i("invi-dialog",{directives:[{name:"show",rawName:"v-show",value:"rule"===t.dialog,expression:"dialog === 'rule'"}],staticClass:"rule",attrs:{title:"活动规则"},on:{close:function(e){return t.setDialog("")}}},[i("div",{staticClass:"rule-container"},[i("div",{ref:"rule-content"},[t._l(t.baseInfo.ruleDescription,(function(e,n){return i("p",{key:n,staticClass:"rule-row"},[t._v(t._s(n+1)+"."+t._s(e))])})),i("p",{staticClass:"rule-bottom"},[t._v("最终解释权归想看所有")])],2)])])],1)},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"income-title"},[i("div",{staticClass:"user"},[t._v("好友姓名")]),i("div",{staticClass:"day"},[t._v("当前阶段")]),i("div",{staticClass:"money"},[t._v("当前收益")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"way"},[i("div",[i("p",[t._v("点击按钮")]),i("p",[t._v("分享给好友")])]),i("div",[i("p",[t._v("好友下载")]),i("p",[t._v("安装想看")])]),i("div",[i("p",[t._v("好友登录阅读")]),i("p",[t._v("各得4元")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._v("首次邀请"),i("p",{staticClass:"task-text"},[t._v("1"),i("i",[t._v("元")])])])}],a=(i("99af"),i("4de4"),i("d81d"),i("fb6a"),i("45fc"),i("2909"));i("4160"),i("d3b7"),i("ac1f"),i("25f0"),i("1276");function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}var u=function(){function t(e){o(this,t),this.props=e,this.checkParams(e),this.startY=0,this.moveEndY=0,this.oldMoveY=0,this.offsetSum=0,this.curDistance=0,this.init()}return c(t,[{key:"checkParams",value:function(){var t=this,e=["Dom","slider"],i=["moveTopLimit","moveBottomLimit","modifyTopLimit","modifyBottomLimit"];e.forEach((function(e){if(!t.props[e])throw new Error("".concat(e,"传参错误，请检查之后重试"))})),i.forEach((function(e){if(void 0===t.props[e]||"[object Number]"!==Object.prototype.toString.call(t.props[e])&&"[object String]"!==Object.prototype.toString.call(t.props[e]))throw new Error("".concat(e,"传参错误，请传入数字或者字符类型的数字"))}))}},{key:"init",value:function(){this.Dom=this.props.Dom,this.slider=this.props.slider,this.moveTopLimit=parseInt(this.props.moveTopLimit,10)||0,this.moveBottomLimit=parseInt(this.props.moveBottomLimit,10)||0,this.modifyTopLimit=parseInt(this.props.modifyTopLimit,10)||0,this.modifyBottomLimit=parseInt(this.props.modifyBottomLimit,10)||0,this.addListenerWheel()}},{key:"addListenerWheel",value:function(){var t=this;this.Dom.addEventListener("touchstart",(function(e){t.touchStart(e)})),this.Dom.addEventListener("touchmove",(function(e){t.touchMove(e)})),this.Dom.addEventListener("touchend",(function(e){t.touchEnd(e)}))}},{key:"touchStart",value:function(t){this.startY=parseInt(t.touches[0].clientY,10),this.oldMoveY=this.startY}},{key:"touchMove",value:function(t){t.targetTouches.length>1||t.scale&&1!==t.scale||(t.preventDefault(),this.moveY=t.touches[0].clientY,this.offset=this.moveY-this.oldMoveY,this.getCurDistance(),this.offsetSum=this.offset+this.curDistance,this.offsetSum>0?this.offsetSum=Math.min(this.offsetSum,this.moveTopLimit):this.offsetSum<0&&(this.offsetSum=Math.max(this.offsetSum,this.moveBottomLimit)),this.oldMoveY=this.moveY,this.movePosition(this.offsetSum))}},{key:"touchEnd",value:function(t){this.moveEndY=parseInt(t.changedTouches[0].clientY,10),this.offset=this.moveEndY-this.startY,this.getCurDistance(),this.offsetSum=this.offset+this.curDistance}},{key:"getCurDistance",value:function(){this.slider.style.transform?this.curDistance=parseInt(this.slider.style.transform.split(",")[1],10)||0:this.curDistance=parseInt(this.slider.style.webkitTransform.split(",")[1],10)||0}},{key:"movePosition",value:function(t){this.slider.style.webkitTransform="translate3d(0,".concat(t,"px, 0)"),this.slider.style.transform="translate3d(0,".concat(t,"px, 0)")}},{key:"modifyPosition",value:function(t){t>this.modifyTopLimit?(this.curDistance=this.modifyTopLimit,this.movePosition(this.modifyTopLimit)):t<this.modifyBottomLimit&&(this.curDistance=this.modifyBottomLimit,this.movePosition(this.modifyBottomLimit))}}]),t}(),l=i("e590"),d=i("84bd"),f=i("9039"),h=i("a1ba"),v=i("b7d5"),m=i("edb0"),p=i("5962"),b=i("6b43"),_=i("cadb"),g=i("db49"),y=i("42a5"),k=i("c36a"),w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Dialog",{attrs:{show:t.showDialog,outsideClose:!0},on:{"update:show":function(e){t.showDialog=e}}},[i("h3",[t._v(t._s(t.title))]),t.content?i("p",{domProps:{innerHTML:t._s(t.content)}}):t._e(),t._t("default",[i("div",{staticClass:"btn",on:{click:t.btnClickHandler}},[t._v(t._s(t.btnText))])])],2)},C=[],I={name:"InvitationDialog",components:{Dialog:f["a"]},props:{title:{type:String,required:!0},content:{type:String,default:""},btnText:{type:String,default:"立即查看"}},data:function(){return{showDialog:!0}},watch:{showDialog:function(t){t||(this.$emit("close",!1),this.showDialog=!0)}},methods:{btnClickHandler:function(){this.$emit("btnClick")}}},D=I,j=(i("06bb"),i("2877")),O=Object(j["a"])(D,w,C,!1,null,"5ce60f91",null),T=O.exports,L=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"share"},t._l(t.channels,(function(e){return i("div",{key:e,class:e,on:{click:function(i){return t.share(e)}}},[t._v(" "+t._s(t.config.shareMap[e][2])+" ")])})),0)},S=[],M=i("d3ea"),x={name:"ShareBar",props:{channels:{type:Array,default:function(){return[]}}},data:function(){return{config:M}},methods:{share:function(t){this.$o2o({e_c:"邀请码",e_a:"点击",e_n:"邀请码分享",e_x:{platform:M["shareMap"][t][3]}}),this.$emit("share",t)}}},$=x,P=(i("9343"),Object(j["a"])($,L,S,!1,null,"7e83eba2",null)),Y=P.exports,B={name:"Invite",components:{NavBar:l["a"],ShareBar:Y,InviDialog:T,Dialog:f["a"],GrayMask:h["a"],MiVideo:d["a"]},data:function(){return{page:1,config:M,swipeLIst:[],steps:[],dialog:"",baseInfo:{shareInfos:[],taskDescription:{awardCashList:[]},myFriendsDefaultText:[],config:{videoUrl:"",videoPoster:""}},discipleList:[],loading:!0,finished:!1,isTrackRemindBtn:!1,rootConfig:g["a"],day:["一","二","三","四","五","六","七"],moreInvite:!1,moreInviteCount:1,showVideo:!1,isFirstOpenRule:!0}},computed:{channels:function(){var t=this.baseInfo.shareInfos.map((function(t){return t.type}));return t.length?[t[0],"face","sms"].concat(Object(a["a"])(t.slice(1))):[]}},created:function(){var t=this;Object(v["c"])({}).then((function(e){200===e.data.status?(t.baseInfo=e.data.data,t.baseInfo.inviteSuccessPopText?t.setDialog("successNotice"):t.baseInfo.inviteRemindPopText&&t.setDialog("remindNotice"),Object(b["f"])("shareInfo",JSON.stringify(t.baseInfo.shareInfos)),t.$o2o({e_c:"邀请码",e_a:"曝光",e_n:"邀请码详情页曝光",e_x:{login:t.baseInfo.invitationCode?1:0}})):t.$error(),t.$root.hidePlaceholder()})).catch((function(){t.$error(),t.$root.hidePlaceholder()})),this.$root.hidePlaceholder(),this.getMyfriends(),Object(y["a"])("backKey",this.backKeyHandler),this.userInfo=Object(m["t"])(),this.moreInviteCount=Object(b["a"])("lastMoreInviteday")===Object(_["b"])(Date.now(),"YY-MM-DD")?4:1},destroyed:function(){Object(m["z"])(!1),Object(y["f"])("backKey",this.backKeyHandler)},methods:{setShowVideo:function(t){this.showVideo=t,Object(m["z"])(t),t&&this.$o2o({e_c:"邀请码",e_a:"点击",e_n:"观看视频教程"}),Object(m["E"])(t?"false":"true")},watchVideo:function(){this.setShowVideo(!0),Object(v["m"])().then((function(){Object(m["H"])("100金币到账成功")}))},quickShare:function(t){this.$o2o({e_c:"邀请码",e_a:"点击",e_n:"立即邀请按钮点击",e_x:{position:t}}),this.share("wechat")},share:function(t,e){var i=this;if(this.baseInfo.invitationCode)if(1!==this.moreInviteCount||e||"wechat"!==t||setTimeout((function(){i.moreInvite=!0,i.setDialog(""),Object(m["z"])(!0),Object(b["c"])("lastMoreInviteday",Object(_["b"])(Date.now(),"YY-MM-DD")),i.$o2o({e_c:"邀请码",e_a:"曝光",e_n:"微信分享引导弹窗",e_x:{count:1}})}),1e3),e&&(this.$o2o({e_c:"邀请码",e_a:"点击",e_n:"微信分享引导弹窗",e_x:{count:this.moreInviteCount}}),3===this.moreInviteCount&&(Object(m["z"])(!1),this.moreInvite=!1),setTimeout((function(){i.moreInviteCount+=1,i.moreInviteCount<4&&i.$o2o({e_c:"邀请码",e_a:"曝光",e_n:"微信分享引导弹窗",e_x:{count:i.moreInviteCount}})}),1e3)),"face"!==t)if("sms"!==t){var n=this.baseInfo.shareInfos.filter((function(e){return e.type===t}));if(n.length)if("wechat"===t){var s=n[0].shareUrl;Object(k["i"])("".concat(s,"&share=wechat"),this.baseInfo.invitationCode)}else Object(p["i"])(n[0].title,n[0].shareUrl,n[0].summary,n[0].imageUrl,M["shareMap"][t][0])}else this.$router.push({name:"SmsInvite",query:{shareId:this.baseInfo.invitationCode}});else this.$router.push({name:"invitationFace",query:{shareId:this.baseInfo.invitationCode}});else Object(m["h"])("location.reload")},copyCode:function(){this.$o2o({e_c:"邀请码",e_a:"点击",e_n:"邀请码复制点击",e_x:{page:"邀请码详情页"}}),!1!==Object(m["f"])(this.baseInfo.invitationCode)?Object(m["H"])("复制邀请码成功"):Object(m["H"])("复制邀请码失败")},setDialog:function(t){this.dialog=t,Object(m["z"])(""!==t),t?(document.body.addEventListener("touchmove",this.stopSlide,{passive:!1}),M["dialogTrackMap"][t]&&this.$o2o({e_c:"邀请码弹窗",e_a:"曝光",e_n:M["dialogTrackMap"][t]}),"friendsRemind"===t?this.$o2o({e_c:"邀请码",e_a:"点击",e_n:"去提醒按钮"}):"rule"===t&&this.$o2o({e_c:"邀请码",e_a:"点击",e_n:"活动规则按钮"}),"rule"===t&&this.isFirstOpenRule&&(this.$nextTick(this.addListenerWheel),this.isFirstOpenRule=!1)):document.body.removeEventListener("touchmove",this.stopSlide,{passive:!1})},stopSlide:function(t){t.preventDefault()},wakeUp:function(t){var e=M["shareMap"][t][0],i="".concat(location.origin,"/mobile-v2/act/invitation/rouse?shareId=").concat(this.baseInfo.invitationCode),n={thumbUrl:g["a"].default.rectLogo,title:this.baseInfo.remindText.title,text:this.baseInfo.remindText.oldVersionDesc,url:i,socialType:e};if(this.$o2o({e_c:"邀请码弹窗",e_a:"点击",e_n:"好友提醒分享弹窗",e_x:{platform:M["shareMap"][t][3]}}),2===e)try{window.miui.shareText("".concat(this.baseInfo.remindText.newVersionDesc).concat(i),e)}catch(s){Object(p["k"])(n)}else Object(p["k"])(n);this.setDialog("")},toFriendsList:function(t){this.$o2o({e_c:"邀请码弹窗",e_a:"点击",e_n:M["dialogTrackMap"][t]}),window.scrollTo(0,this.$refs["friends-list"].offsetTop-this.$refs["nav-bar"].offsetHeight),this.setDialog("")},getMyfriends:function(){var t=this;this.loading=!0,Object(v["d"])({page:this.page}).then((function(e){200===e.data.status?(t.page+=1,t.discipleList=t.discipleList.concat(e.data.data.discipleList),t.finished=t.discipleList.length===e.data.data.discipleCount,!t.isTrackRemindBtn&&e.data.data.discipleList.some((function(t){return 1===t.taskInfo.status}))&&t.$o2o({e_c:"邀请码",e_a:"曝光",e_n:"去提醒按钮"}),t.loading=!1):t.$error()})).catch((function(e){t.finished=!0,t.loading=!1,e&&e.response&&401===e.response.status||t.$error()}))},closeMoreInvite:function(){this.moreInvite=!1,this.moreInviteCount=4,Object(m["z"])(!1)},backKeyHandler:function(){this.moreInvite?this.closeMoreInvite():this.showVideo?this.setShowVideo(!1):this.setDialog("")},addListenerWheel:function(){console.log(this.$refs["rule-content"].clientHeight),new u({Dom:this.$refs["rule-content"],slider:this.$refs["rule-content"],moveTopLimit:0,moveBottomLimit:380-this.$refs["rule-content"].clientHeight,modifyTopLimit:0,modifyBottomLimit:380-this.$refs["rule-content"].clientHeight})}}},H=B,E=(i("67d2"),Object(j["a"])(H,n,s,!1,null,"21e12336",null));e["default"]=E.exports},fbf9:function(t,e,i){}}]);
//# sourceMappingURL=chunk-42ee9d0e-legacy.f72373f1.js.map