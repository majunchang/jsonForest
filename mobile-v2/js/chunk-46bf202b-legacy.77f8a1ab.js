(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-46bf202b"],{"0caa":function(t,e,a){"use strict";var n=a("581c"),s=a.n(n);s.a},1105:function(t,e,a){"use strict";var n=a("6a94"),s=a.n(n);s.a},"168c":function(t,e,a){"use strict";var n=a("3ad4"),s=a.n(n);s.a},"1ccd":function(t,e,a){},"1fcb":function(t,e,a){},3126:function(t,e,a){"use strict";a.d(e,"i",(function(){return i})),a.d(e,"f",(function(){return r})),a.d(e,"d",(function(){return o})),a.d(e,"g",(function(){return c})),a.d(e,"c",(function(){return u})),a.d(e,"h",(function(){return d})),a.d(e,"b",(function(){return l})),a.d(e,"e",(function(){return f})),a.d(e,"a",(function(){return p}));a("99af");var n=a("db49"),s=a("2d8f");function i(t){var e=t.deepLink;return Object(s["b"])("openDeepLink",e)}function r(t){return Object(s["a"])("web.tab/".concat(t))}function o(t){return Object(s["a"])("goto/".concat(t))}function c(t){var e=t.headIcon,a=void 0===e?n["a"].default.userIcon:e,i=t.nickname,r=t.userId;return Object(s["a"])("goto/userInfoDetail?userId=".concat(r,"&headIcon=").concat(encodeURIComponent(a),"&nickName=").concat(i))}function u(t){return"bikan://web.goto/commonWebView?url_encode=".concat(encodeURIComponent(t))}function d(t){location.href=t}function l(t){return"bikan://goto/".concat(t)}function f(){var t="goto/mineTab/task";return Object(s["a"])(t)}function p(t,e){return"bikan://goto/".concat(t,"Detail?docId=").concat(e)}},"336e":function(t,e,a){},"3ad4":function(t,e,a){},4708:function(t,e,a){},"4b84":function(t,e,a){},"55d3":function(t,e,a){"use strict";var n=a("621f"),s=a.n(n);s.a},"581c":function(t,e,a){},5965:function(t,e,a){"use strict";var n=a("96d0"),s=a.n(n);s.a},6010:function(t,e,a){},6040:function(t,e,a){"use strict";a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return r})),a.d(e,"e",(function(){return o})),a.d(e,"d",(function(){return c})),a.d(e,"b",(function(){return u}));a("a4d3"),a("e01a"),a("99af"),a("db49"),a("7f46");function n(t){try{for(var e,a=arguments.length,n=new Array(a>1?a-1:0),s=1;s<a;s++)n[s-1]=arguments[s];return(e=window.miui)[t].apply(e,n)}catch(i){return!1}}function s(t){try{for(var e,a=arguments.length,n=new Array(a>1?a-1:0),s=1;s<a;s++)n[s-1]=arguments[s];return JSON.parse((e=window.miui)[t].apply(e,n)||"{}")}catch(i){return!1}}function i(){return s("getUserAccountInfo")||{}}function r(t){return n("doLogin",t)}function o(t){return n("toast",t)}function c(t){return n("signIn",t)}function u(t,e,a){return n("getSharedPrefBoolean",t,e,a)}},"621f":function(t,e,a){},"675f":function(t,e,a){"use strict";var n=a("9c81"),s=a.n(n);s.a},"69d1":function(t,e,a){"use strict";var n=a("1fcb"),s=a.n(n);s.a},"6a94":function(t,e,a){},"857a":function(t,e,a){var n=a("1d80"),s=/"/g;t.exports=function(t,e,a,i){var r=String(n(t)),o="<"+e;return""!==a&&(o+=" "+a+'="'+String(i).replace(s,"&quot;")+'"'),o+">"+r+"</"+e+">"}},"86cb":function(t,e,a){},8895:function(t,e,a){"use strict";var n=a("4b84"),s=a.n(n);s.a},"8cb5":function(t,e,a){"use strict";var n=a("336e"),s=a.n(n);s.a},"8d07":function(t,e,a){"use strict";var n=a("86cb"),s=a.n(n);s.a},"96d0":function(t,e,a){},9911:function(t,e,a){"use strict";var n=a("23e7"),s=a("857a"),i=a("af03");n({target:"String",proto:!0,forced:i("link")},{link:function(t){return s(this,"a","href",t)}})},"99de":function(t,e,a){},"9c81":function(t,e,a){},"9d73":function(t,e,a){"use strict";var n=a("6010"),s=a.n(n);s.a},"9ef6":function(t,e,a){"use strict";var n=a("bab0"),s=a.n(n);s.a},ad83:function(t,e,a){"use strict";var n=a("1ccd"),s=a.n(n);s.a},af03:function(t,e,a){var n=a("d039");t.exports=function(t){return n((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},b0c0:function(t,e,a){var n=a("83ab"),s=a("9bf2").f,i=Function.prototype,r=i.toString,o=/^\s*function ([^ (]*)/,c="name";!n||c in i||s(i,c,{configurable:!0,get:function(){try{return r.call(this).match(o)[1]}catch(t){return""}}})},b135:function(t,e,a){"use strict";var n=a("b1fb"),s=a.n(n);s.a},b199:function(t,e,a){"use strict";a.d(e,"d",(function(){return s})),a.d(e,"b",(function(){return i})),a.d(e,"e",(function(){return r})),a.d(e,"a",(function(){return o})),a.d(e,"f",(function(){return c})),a.d(e,"c",(function(){return u}));a("d3b7");var n=a("0c6d");function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n["b"].get("/api/v4/task/home",t)}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n["b"].post("/api/v1/task/finish",t)}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n["b"].post("/api/v4/task/novice/award",t)}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n["b"].post("/api/v4/task/finish_download",t)}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n["b"].get("/api/v4/task/Pdd2FinishedEntry",t).then((function(t){return 200!==t.data.status?Promise.reject(t.data):Promise.resolve(t.data.data)})).catch((function(t){return t.response&&401===t.response.status?Promise.resolve({status:401}):Promise.reject(t)}))}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n["b"].post("/api/v4/task/finishPdd2",t).then((function(t){return 200!==t.data.status?(Object(n["a"])(t),Promise.reject(t.data)):Promise.resolve(t.data.data)}))}},b1fb:function(t,e,a){},b760:function(t,e,a){"use strict";var n=a("99de"),s=a.n(n);s.a},bab0:function(t,e,a){},bb2f:function(t,e,a){var n=a("d039");t.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},c430b:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:{task:!t.isShowNewHeader(),"task-v40600":t.isShowNewHeader()}},[t.isShowNewHeader()?t._e():a("header",{class:{header:!0},style:{paddingTop:t.getStatusBarHeight()}},[t._v("任务中心")]),t.isShowNewHeader()?a("div",[a("NavBar",{staticClass:"header-v40600",attrs:{title:"任务中心"}})],1):t._e(),a("div",{class:{"task-content-v40600":t.isShowNewHeader(),"task-overflow":!t.isShowNewHeader()},style:{paddingTop:-(31+parseInt(t.getStatusBarHeight()))+"px",paddingBottom:t.isShowNewHeader()?"0.1rem":31+parseInt(t.getStatusBarHeight())+33+"px"}},[a("WithdrawSwipe"),a("div",{ref:"taskBanner",class:{"no-normal-task-banner":!(t.data.bannerList&&t.data.bannerList.length),"normal-task-banner":t.data.bannerList&&t.data.bannerList.length}},[t.data.bannerList&&t.data.bannerList.length?a("BannerSwipe",{staticClass:"task-banner",attrs:{banners:t.data.bannerList}}):t._e()],1),a("div",{staticClass:"task__main"},[t.data.inNoviceTask?a("NoviceTask",{attrs:{"is-new-novice-task":!t.data.isPreNoviceVersion,"novice-task":t.data.noviceTaskList,"novice-task-day":t.data.noviceTaskDay,"signed-days":t.data.signedDays,"novice-task-total-day":t.data.noviceTaskTotalDay,"novice-task-left-days":t.data.noviceTaskLeftDays}}):t._e(),t.data.taskList&&t.data.taskList.length>0?a("NormalTask",{attrs:{"normal-task":t.data.taskList}}):t._e()],1)],1)])},s=[],i=(a("a4d3"),a("4de4"),a("4160"),a("b0c0"),a("a9e3"),a("e439"),a("dbb4"),a("b64b"),a("159b"),a("ade3")),r=a("b199"),o=a("edb0"),c=a("db49"),u=a("42a5"),d=a("0c6d");function l(t){var e=c["a"].deviceInfo;if(e.miui_version){var a=Object(o["t"])(),n=Object(o["n"])(),s={channel:e.channel,appVersion:e.version_name,miuiVersion:e.miui_version,oaid:e.oaid,imei:n,userId:a.user_id},i=Object.assign({},t,s);d["b"].spost("https://r.browser.miui.com/log/uploadNewsFeedLog",i)}}var f=a("e590"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("van-swipe",{class:{swipe:!0,"novice-swipe":t.inNoviceTask},attrs:{duration:500,autoplay:2500,"show-indicators":!1,vertical:!0}},t._l(t.withdrawUsers,(function(e){return a("van-swipe-item",{key:e.userId,staticClass:"item"},[t._v(" "+t._s(e.nickName)+" 刚刚提现"+t._s(e.cash/100)+"元 ")])})),1)},h=[],g=a("5133"),b=a("6b43"),v={name:"WithdrawSwipe",props:{inNoviceTask:{required:!1,type:Boolean,default:!1}},data:function(){return{withdrawUsers:[]}},methods:{getWithdrawUser:function(t){var e=this;g["f"](t).then((function(a){if(200===a.data.status){if(0===a.data.data.length&&1!==t.page)return e.setRechargeListPage(1),e.getWithdrawUser({page:1});e.withdrawUsers=a.data.data,e.setRechargeListPage()}return!1}))},setRechargeListPage:function(t){b["c"]("task__rechargeListPage",t||this.getRechargeListPage()+1)},getRechargeListPage:function(){var t=b["a"]("task__rechargeListPage"),e=b["a"]("task__rechargeListPage_expires");if(t&&e&&Date.parse(e)>Date.now())return parseInt(t,10);var a=new Date;return b["c"]("task__rechargeListPage_expires",new Date(a.getFullYear(),a.getMonth(),a.getDate(),23,59,59)),b["c"]("task__rechargeListPage",1),1}},created:function(){var t=this,e=this.getRechargeListPage();this.getWithdrawUser({page:e}),u["a"]("focus",(function(){t.withdrawUsers=[];var e=t.getRechargeListPage();t.getWithdrawUser({page:e})}))}},k=v,w=(a("b760"),a("2877")),m=Object(w["a"])(k,p,h,!1,null,"52ec8851",null),T=m.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"novice-task"},[a("TaskHeader",{staticClass:"novice-header",attrs:{text:"新手任务",desc:t.desc}},[t.isNewNoviceTask?t._e():a("div",{staticClass:"novice-task__day"},[t._v(" 第"),a("span",[t._v(t._s(t.noviceTaskDay))]),t._v("/"+t._s(t.noviceTaskTotalDay)+"天 ")])]),a("TaskList",{staticClass:"novice-list",attrs:{task:t.tasks,"signed-days":t.signedDays,"novice-task-day":t.noviceTaskDay,"is-novice":!0,"is-new-novice-task":t.isNewNoviceTask}})],1)},_=[],S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("div",{staticClass:"header__main"},[a("span",[t._v(t._s(t.text))]),a("span",{staticClass:"desc"},[t._v(t._s(t.desc))])]),t._t("default")],2)},A=[],O={name:"TaskHeader",props:{text:{type:String,default:"日常任务"},desc:{type:String,default:""}}},C=O,N=(a("b135"),Object(w["a"])(C,S,A,!1,null,"0ec09780",null)),D=N.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list"},t._l(t.taskList,(function(e){return a("div",{key:e.id,staticClass:"item"},[a(t.getTaskComponent(e),t._b({tag:"component",class:{"customize-expose":t.isAdTask(e)},attrs:{"data-expose":t.isAdTask(e)?JSON.stringify({type:"VIEW",ex:e.ex}):"{}"},on:{download:t.handleDownload,award:t.handleAward,finish:t.handleFinish}},"component",{isNovice:t.isNovice,isNewNoviceTask:t.isNewNoviceTask,noviceTaskDay:t.noviceTaskDay,signedDays:t.signedDays,awardCount:t.getAwardCount(e),awardType:t.getAwardType(e),task:e},!1))],1)})),0)},I=[],L=(a("13d5"),a("a434"),a("b680"),a("7f46"));function P(t,e,a){return d["b"].post("/ad-api/stats/track/js/v1.0",{value:Object(L["a"])(JSON.stringify(t))}).then(e).catch(a)}function x(t){var e={H:{},B:[{H:{key:c["a"].configKey,pk:c["a"].packageName,eventTime:Date.now()},B:{_category_:"ad",_action_:t.type,ex:t.ex}}]};P(e)}var R="cachedAdTask",E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("task-item",{attrs:{"is-novice":t.isNovice&&!t.isNewNoviceTask,"novice-task-day":t.noviceTaskDay,"award-count":t.task.rewardString||t.awardCount,"award-type":t.awardType,label:t.task.name,tip:t.getTip(t.task),"button-label":t.getLabel(t.task),"button-status":t.task.status},on:{click:function(e){return t.taskClick(t.task)}}})},H=[],$=(a("99af"),a("ac1f"),a("5319"),a("d3b7"),a("9911"),a("f7fe")),B=a.n($),F=a("6040"),U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._g({staticClass:"task-item"},t.$listeners),[a("div",{staticClass:"task-item__main"},[a("task-label",{staticClass:"label",attrs:{"is-ad":t.isAd,"award-count":t.awardCount,"award-type":t.awardType,label:t.label,tip:t.tip}}),a("Button",{attrs:{"is-novice":t.isNovice,label:t.buttonLabel,status:t.buttonStatus,progress:t.progress}})],1),t._t("default")],2)},W=[],M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",t._g({class:t.getClassName(t.status)},t.$listeners),[null!==t.progress?a("span",{staticClass:"progress",style:{width:t.formattedProgress+"%"}}):t._e(),a("span",{staticClass:"label"},[t._v(t._s(t.label))])])},z=[],q={name:"Button",props:{isNovice:{type:Boolean,default:!1},label:{type:String,default:"Button"},status:{type:String,default:"START"},progress:{type:Number,default:null}},computed:{formattedProgress:function(){return this.progress>100?100:this.progress}},methods:{getClassName:function(t){return this.isNovice?{btn:!0,start:"START"===t||"NOT_START"===t,finish:!1,award:"FINISH"===t}:{btn:!0,start:"START"===t||"NOT_START"===t,finish:"FINISH"===t,award:"AWARD"===t}}}},J=q,K=(a("675f"),Object(w["a"])(J,M,z,!1,null,"2d151ccc",null)),V=K.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"task-label"},[a("p",{staticClass:"name"},[a("span",[t._v(t._s(t.label))]),t.isAd?a("span",{staticClass:"task-label__ad Hairline Hairline_box"},[t._v("广告")]):t._e(),t.awardCount?a("span",{class:["coin-count",t.awardType]},["number"===typeof t.awardCount?a("span",[t._v("+")]):t._e(),t._v(t._s(t.awardCount))]):t._e()]),a("p",{staticClass:"tip",domProps:{innerHTML:t._s(t.tip)}})])},Q=[],Y={name:"TaskLabel",props:{isAd:{type:Boolean,default:!1},awardCount:{type:[Number,String],default:0},awardType:{type:String,default:"coin"},label:{type:String,default:""},tip:{type:String,default:""}}},X=Y,Z=(a("8895"),Object(w["a"])(X,G,Q,!1,null,"73282a24",null)),tt=Z.exports,et={name:"TaskItem",components:{Button:V,TaskLabel:tt},props:{isNovice:{type:Boolean,default:!1},isAd:{type:Boolean,default:!1},awardCount:{type:[Number,String],default:0},awardType:{type:String,default:"coin"},label:{type:String,default:""},tip:{type:String,default:""},buttonLabel:{type:String,default:""},buttonStatus:{type:String,default:""},progress:{type:Number,default:null}}},at=et,nt=(a("0caa"),Object(w["a"])(at,U,W,!1,null,"bb84ce12",null)),st=nt.exports;function it(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function rt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?it(Object(a),!0).forEach((function(e){Object(i["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):it(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var ot={components:{TaskItem:st},props:{isNovice:{type:Boolean,default:!1},isNewNoviceTask:{type:Boolean,default:!1},noviceTaskDay:{type:Number,default:1},signedDays:{type:Number,default:0},awardCount:{type:[Number,String],default:0},awardType:{type:String,default:"coin"},task:{type:Object,default:function(){return{}}}},data:function(){return{taskLoginCallback:"taskLoginCallback"}},computed:{isNewUser:function(){return this.isNovice||this.isNewNoviceTask}},methods:{getAward:function(t){var e,a=this,n=t.task,s=t.isAd;return e=s?r["a"]:this.isNewNoviceTask&&n.noviceTaskType?r["e"]:r["b"],e(rt({task_id:n.id},n.sign&&{sign:n.sign})).then((function(t){if(200===t.data.status){try{window.miui.customToast(t.data.data.awardType,t.data.data.toastTitle,t.data.data[t.data.data.awardType.toLowerCase()]),window.miui.onReceiveCoinSuccess()}catch(e){console.log(e)}return a.emitAwardEvent(n.id),Promise.resolve()}return Object(F["e"])(t.data.msg||"领取失败"),Promise.reject()}),(function(t){return t.response&&401===t.response.status&&window.miui.loginByPosition("otherTasks",""),Object(F["e"])(t.data&&t.data.msg||"领取失败"),Promise.reject()}))},getLabel:function(t){var e;e=this.isNovice&&!this.isNewNoviceTask?{NOT_START:t.buttonText,START:t.buttonText,FINISH:"已完成",AWARD:"已完成"}:{NOT_START:t.buttonText,START:t.buttonText,FINISH:"可领取",AWARD:"已完成"};var a=e[t.status]||"去完成";return a},taskClick:B()((function(t){var e=Object(F["c"])().user_id;return"FINISH"===t.status||this.isNewUser||this.$o2o({e_c:"任务",e_a:"点击",e_n:"去完成",e_x:{task:t.name,task_status:"AWARD"===t.status?0:1,login:e?1:0}}),"FINISH"!==t.status&&this.isNewUser&&this.$o2o({e_c:"新手任务",e_a:"点击",e_n:"去完成",e_x:{task:t.name,task_day:this.noviceTaskDay}}),1===t.category&&"FINISH"===t.status&&t.time<=t.appUseTime.second||this.isNewNoviceTask&&"FINISH"===t.status?(this.$o2o({e_c:"任务",e_a:"领取",e_n:"任务点击领取",e_x:{task:t.name}}),void this.handleManualTask(e,t)):4===t.category?(console.log("signIn",this.signedDays),void Object(F["d"])(String(this.signedDays||0))):void this.handleNormalTask(e,t)}),200),emitAwardEvent:function(t){this.$emit("award",t)},handleNormalTask:function(t,e){t?"AWARD"!==e.status&&(location.href=e.link):Object(F["a"])()},handleManualTask:function(t,e){var a=this;this.handleTask(t,(function(){a.getAward({task:e})}))},handleTask:function(t,e){t?e():this.handleLogin(e)},handleLogin:function(t){window[this.taskLoginCallback]=t,Object(F["a"])(this.taskLoginCallback)}}},ct={name:"TaskListItem",mixins:[ot],methods:{getTip:function(t){switch(t.category){case 0:return"每日可完成 ".concat(t.maxTimes," 次，今日已完成 <span>").concat(t.maxTimes-t.leftTimes,"</span> 次");case 1:return"今日在线 <span>".concat(t.appUseTime.minute,"</span> 分钟");case 2:case 4:return"AWARD"===t.status||this.isNovice&&"FINISH"===t.status?"已完成":"未完成";case 3:return"今日已完成".concat(t.maxTimes-t.leftTimes,"次");case 6:return this.formatSubTitle(t);case 10:case 11:case 13:return this.formatSubTitle(t,t.maxTimes-t.leftTimes);case 12:return this.formatSubTitle(t,t.finishedDays);default:return t.subTitle}},formatSubTitle:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.subTitle.replace(/%s|{(\d+)}/,(function(t,a){return" <span>".concat(a||e,"</span> ")}))}}},ut=ct,dt=Object(w["a"])(ut,E,H,!1,null,null,null),lt=dt.exports,ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("task-item",{ref:"item",attrs:{"is-ad":!0,"is-novice":t.isNovice,"award-count":t.awardCount,"award-type":t.awardType,label:t.adTask.appName||t.adTask.name,tip:t.summary,"button-label":t.buttonLabel,"button-status":t.buttonStatus,progress:t.downloadProgress},on:{click:function(e){return t.handleAdClick(t.adTask)}}})},pt=[],ht=(a("dca8"),a("2d8f"));function gt(t,e){var a=t.packageName,n=t.appClientId,s=t.appSignature,i=t.nonce,r=t.appRef,o=t.appChannel,c=t.ex;try{return window.miui.miuiStartDownloadApp(a,n,s,i,r,o,c,e)}catch(u){return console.log("调用app方法","miuiStartDownloadApp",a,n,s,i,r,o,c,e),window.miui.miuiStartDownloadApp(a,n,s,i,r,o,e)}}function bt(t,e){var a=t.packageName;return Object(ht["b"])("miuiPauseDownloadApp",a,e)}function vt(t,e){var a=t.packageName;return Object(ht["b"])("miuiResumeDownloadApp",a,e)}function kt(t){var e=t.packageName;return Object(ht["c"])("getDownloadResult",e||"")}var wt=a("5962"),mt=a("3126"),Tt=a("7205"),yt={name:"TaskListAdItem",mixins:[ot],data:function(){return{downloadStatus:0,downloadProgress:0,downloadMsg:"",downloadCallback:"getDownloadResult",buttonLabelMap:Object.freeze({0:"下载",1:"开始下载",2:"下载完成",3:"开始安装",4:"打开应用",5:"正在下载",102:"打开应用",105:"继续下载",106:"安装中",200:"待领取",201:"已完成"}),buttonStatusMap:Object.freeze({4:"FINISH",102:"FINISH",200:"FINISH",201:"AWARD"}),adEventTypeMap:Object.freeze({1:"APP_START_DOWNLOAD",2:"APP_DOWNLOAD_SUCCESS",3:"APP_INSTALL_START",4:"APP_INSTALL_SUCCESS"}),appDownloadFailEventType:"APP_DOWNLOAD_FAIL",appInstallFailEventType:"APP_INSTALL_FAIL",appLaunchSuccessEventType:"APP_LAUNCH_SUCCESS_PACKAGENAME",appLaunchFailEventType:"APP_LAUNCH_FAIL_PACKAGENAME ",awardStatus:"AWARD",installedStatusCode:102,openSuccessStatusCode:200,awardStatusCode:201,cachedAdTask:null}},computed:{buttonLabel:function(){return this.buttonLabelMap[this.downloadStatus]||"下载"},buttonStatus:function(){return this.buttonStatusMap[this.downloadStatus]||"NOT_START"},adTask:function(){return this.cachedAdTask?this.cachedAdTask:this.task},summary:function(){return"下载并打开使用，立即领取".concat(this.adTask.coin,"金币")}},watch:{downloadStatus:function(t){t<-1&&Object(o["H"])(this.downloadMsg),this.isMiAppPlayADStats()||this.sendAdDownloadStats(t)},adTask:{handler:function(){this.getInitDownloadResult(this.adTask)},deep:!0,immediate:!0}},created:function(){l({page:"TaskCenter",logType:"adListType",tagIdList:this.adTask.tagId,count:1}),l({page:"TaskCenter",logType:"adExpose",tagIdList:this.adTask.tagId,count:1}),this.registerDownloadCallback(),this.registerFocusHandler(),this.registerBlurHandler()},destroyed:function(){this.unregisterFocusHandler(),this.unregisterBlurHandler()},methods:{isMiAppPlayADStats:function(){var t=c["a"].deviceInfo,e=Number(t.version_code);return!!(e&&e>=40730)},registerDownloadCallback:function(){window[this.downloadCallback]=this.getDownloadResult},registerFocusHandler:function(){Object(u["a"])("focus",this.validateDownloadResult)},unregisterFocusHandler:function(){Object(u["f"])("focus",this.validateDownloadResult)},registerBlurHandler:function(){Object(u["a"])("blur",this.removeCachedAdTask)},unregisterBlurHandler:function(){Object(u["f"])("blur",this.removeCachedAdTask)},validateDownloadResult:function(){this.downloadStatus!==this.openSuccessStatusCode&&this.downloadStatus!==this.awardStatusCode&&this.getInitDownloadResult(this.adTask),Object(Tt["c"])(this.$refs.item.$el,x)},removeCachedAdTask:function(){var t=Object(o["t"])().user_id;t&&this.cachedAdTask&&this.downloadStatus===this.awardStatusCode&&(this.cachedAdTask=null,Object(b["b"])(R),this.resetDownloadResult(),this.resetAdExpose())},getInitDownloadResult:function(t){if(this.downloadStatus!==this.openSuccessStatusCode){var e=kt(t);t.status===this.awardStatus&&e.code===this.installedStatusCode?this.setAwardStatus():e.code?this.getDownloadResult(e):this.resetDownloadResult()}},resetDownloadResult:function(){this.getDownloadResult({msg:"",code:0,progress:0})},getDownloadResult:function(t){this.downloadMsg=t.msg,this.downloadStatus=t.code,this.downloadProgress=t.progress},sendAdDownloadStats:function(t){var e=this.getAdDownloadEventType(t);this.sendAdStats(e)},getAdDownloadEventType:function(t){switch(!0){case t>0&&t<5:return this.adEventTypeMap[t];case t<0&&-3!==t:return this.appDownloadFailEventType;case-3===t:return this.appInstallFailEventType;default:return""}},handleAdClick:B()((function(t){switch(this.downloadStatus){case 0:this.startDownload(t);break;case 1:case 5:this.pauseDownload(t);break;case 4:case 102:this.openDownload(t);break;case 105:this.resumeDownload(t);break;case this.openSuccessStatusCode:this.getDownloadAward(t);break;case this.awardStatusCode:default:break}}),c["a"].debounceWait),startDownload:function(t){this.cacheAdTask(t),gt(t,this.downloadCallback),this.$emit("download"),this.sendAdStats("CLICK")},pauseDownload:function(t){bt(t,this.downloadCallback)},openDownload:function(t){this.cachedAdTask||this.cacheAdTask(t),Object(mt["i"])(t)||Object(wt["f"])(t)?(this.downloadStatus=this.openSuccessStatusCode,this.$emit("download"),x({type:this.appLaunchSuccessEventType,ex:t.ex})):x({type:this.appLaunchFailEventType,ex:t.ex}),this.sendAdStats("CLICK")},resumeDownload:function(t){vt(t,this.downloadCallback)},getDownloadAward:function(t){this.getAward({task:t,isAd:!0}).then(this.setAwardStatus).catch((function(){}))},sendAdStats:function(t){t&&("CLICK"===t&&l({page:"TaskCenter",logType:"adClick",tagIdList:this.adTask.tagId,count:1}),x({type:t,ex:this.adTask.ex}))},cacheAdTask:function(t){this.cachedAdTask=t,Object(b["c"])(R,JSON.stringify(t))},setAwardStatus:function(){this.downloadStatus=this.awardStatusCode,this.$emit("finish")},resetAdExpose:function(){if(this.$refs.item){var t=this.$refs.item.$el;t.dataset.isexpose="0"}}}},_t=yt,St=Object(w["a"])(_t,ft,pt,!1,null,null,null),At=St.exports,Ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("task-item",{attrs:{"is-novice":t.isNovice,"novice-task-day":t.noviceTaskDay,"award-count":t.task.rewardString||t.awardCount,"award-type":t.awardType,label:t.task.name,tip:t.getTip(t.task),"button-label":t.getLabel(t.task),"button-status":t.task.status},on:{click:function(e){return t.taskClick(t.task)}}},[t.task.tips?a("task-item-tip",{staticClass:"tip",attrs:{tip:t.task.tips}}):t._e()],1)},Ct=[],Nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"task-item-tip"},[a("div",{class:["title",t.showTip?"open":"close"]},[a("div",{on:{"!click":function(e){return e.stopPropagation(),t.toggleTip(e)}}},[t._v("小技巧")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showTip,expression:"showTip"}],staticClass:"content"},[t._v(t._s(t.tip))])])},Dt=[],jt={name:"TaskItemTip",props:{tip:{type:String,default:""}},data:function(){return{showTip:!1}},methods:{toggleTip:function(){this.showTip=!this.showTip}}},It=jt,Lt=(a("1105"),Object(w["a"])(It,Nt,Dt,!1,null,"0f18ed88",null)),Pt=Lt.exports,xt={name:"TaskListItem",mixins:[ot],components:{TaskItemTip:Pt},methods:{getTip:function(){switch(this.task.category){case 8:return"已被 <span>".concat(this.task.count,"</span> 个好友阅读，每日晚上24点开奖");case 9:return"收获 <span>".concat(this.task.count,"</span>/5 人评论可评为优质动态");default:return""}}}},Rt=xt,Et=(a("9d73"),Object(w["a"])(Rt,Ot,Ct,!1,null,"32ac1c2b",null)),Ht=Et.exports;function $t(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Bt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?$t(Object(a),!0).forEach((function(e){Object(i["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):$t(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Ft={name:"TaskList",components:{TaskListItem:lt,TaskListAdItem:At,TaskListTipItem:Ht},props:{isNovice:{type:Boolean,default:!1},isNewNoviceTask:{type:Boolean,default:!1},noviceTaskDay:{type:Number,default:1},signedDays:{type:Number,default:0},task:{type:Array,default:function(){return[]}}},data:function(){return{taskList:[],adTaskCategory:7,isDownloading:!1,adIndex:4}},watch:{task:{handler:function(t){var e=this.restoreAd(t,this.taskList);this.taskList=this.getFormattedTaskList(e)},immediate:!0}},created:function(){var t=this;Object(u["a"])("focus",(function(){t.taskList=t.getFormattedTaskList(t.taskList)})),this.$expose(window,x)},methods:{getTaskComponent:function(t){switch(t.category){case 7:return"TaskListAdItem";case 8:case 9:return"TaskListTipItem";default:return"TaskListItem"}},handleDownload:function(){this.isDownloading=!0},handleFinish:function(){this.isDownloading=!1},handleAward:function(t){this.taskList.forEach((function(e){e.id===t&&(e.status="AWARD")}))},restoreAd:function(t,e){var a,n=t,s=JSON.parse(Object(b["a"])(R));return this.isDownloading?(a=s||e[this.adIndex],a.adId&&!t[this.adIndex].adId&&n.splice(this.adIndex,0,a)):s&&Object(b["b"])(R),n},getAwardCount:function(t){var e=this.getAwardType(t);return this.getFormattedAward(t,e)},getAwardType:function(t){var e=t.awardType;return e&&(e.toLowerCase()||"coin")},getFormattedAward:function(t,e){var a=this.getAwardAmount(t,e);return"cash"===e?this.formatCash(a):a},formatCash:function(t){return"+".concat(t/100,"元")},getAwardAmount:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"coin";return t[e]},getFormattedTaskList:function(t){var e=this;return t.reduce((function(t,a){switch(a.category){case 1:return t.push(e.addAppUseTime(a)),t;case 7:return e.filterAdTask(t,a);default:return t.push(a),t}}),[])},filterAdTask:function(t,e){return e.adId&&t.push(e),t},addAppUseTime:function(t){var e=this.getAppUseTime();return Bt({},t,{appUseTime:e,status:this.getAppUseTimeTaskStatus(t,e)})},getAppUseTime:function(){var t=Object(o["s"])(),e=(parseInt(t,10)/1e3/60).toFixed(0);return{minute:e,second:t}},getAppUseTimeTaskStatus:function(t,e){return e.second>t.time&&"AWARD"!==t.status?"FINISH":t.status},isAdTask:function(t){return t.category===this.adTaskCategory}}},Ut=Ft,Wt=(a("f949"),Object(w["a"])(Ut,j,I,!1,null,"03abc2ba",null)),Mt=Wt.exports,zt={name:"NoviceTask",components:{TaskHeader:D,TaskList:Mt},props:{isNewNoviceTask:{type:Boolean,default:!1},noviceTask:{type:Object,default:function(){return{}}},noviceTaskDay:{type:Number,default:1},noviceTaskTotalDay:{type:Number,default:5},signedDays:{type:Number,default:0},noviceTaskLeftDays:{type:Number,default:7}},computed:{tasks:function(){return this.isNewNoviceTask?this.noviceTask[0]:this.noviceTask[this.noviceTaskDay]||[]},desc:function(){return this.isNewNoviceTask?"限时".concat(this.noviceTaskLeftDays,"天"):"完成后提现5元"}},created:function(){this.$o2o({e_c:"新手任务",e_a:"曝光",e_n:"5元解锁",e_x:{task_day:this.noviceTaskDay}})}},qt=zt,Jt=(a("9ef6"),Object(w["a"])(qt,y,_,!1,null,"0b7cc1c3",null)),Kt=Jt.exports,Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pig",on:{click:t.goPigActivity}},[a("div",{staticClass:"label"},[a("p",{staticClass:"sub-title"},[t._v("喂食300天，活猪邮到家")]),a("p",{staticClass:"title"},[t._v("您已喂养"),a("span",[t._v(t._s(t.day))]),t._v("天")]),a("p",{staticClass:"tip"},[t._v("连续喂养15天抽取节气奖励")])]),a("div",{class:["btn","btn-pig-"+t.status]})])},Gt=[],Qt=a("f7fe"),Yt={name:"PigTask",data:function(){return{statusMap:Object.freeze({"-1":"立即领养",0:"立即喂食",1:"已喂食"})}},props:{day:{type:Number,default:0},status:{type:String,default:"-1"}},methods:{goPigActivity:Qt((function(){this.$o2o({e_c:"任务",e_a:"点击",e_n:"送猪活动",e_x:{status:this.statusMap[this.status]||"立即领养"}},(function(){Object(o["B"])("/mobile-v2/act/sign-pig")}))}),c["a"].debounceWait)}},Xt=Yt,Zt=(a("55d3"),Object(w["a"])(Xt,Vt,Gt,!1,null,"38af766c",null)),te=Zt.exports,ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sign"},[a("div",{staticClass:"sign__label"},[a("p",{staticClass:"days"},[t._v(" 连续签到"),a("span",[t._v(t._s(t.signedDays))]),t._v("天 ")]),a("p",{staticClass:"award"},[t._v(" 再签"),a("span",[t._v(t._s(t.getLastDay()))]),t._v("天可获得"),a("span",[t._v(t._s(t.award))]),t._v("金币 ")])]),a("Button",{class:["sign__btn",{"sign__btn-disabled":t.signed}],on:{click:t.sign}},[t._v(" "+t._s(t.signed?"已签到":"签到")+" ")])],1)},ae=[],ne=a("366e"),se=a("f7fe"),ie={name:"Sign",components:{Button:ne["a"]},props:{signedDays:{type:Number,default:0},award:{type:Number,default:888},signed:{type:Boolean,default:!1}},methods:{sign:se((function(){Object(wt["m"])(String(this.signedDays||0)),this.$o2o({e_c:"任务",e_a:"点击",e_n:"签到"})}),c["a"].debounceWait),getLastDay:function(){return 7-this.signedDays===0?7:7-this.signedDays}}},re=ie,oe=(a("8d07"),Object(w["a"])(re,ee,ae,!1,null,"fbf40836",null)),ce=oe.exports,ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("van-swipe",{ref:"swipe",staticClass:"swipe",attrs:{duration:500,autoplay:2500},on:{change:t.swipeChange}},t._l(t.banners,(function(e){return a("van-swipe-item",{key:e.icon,staticClass:"item"},[a("ImageLoader",{staticClass:"img",attrs:{"is-big":!0,src:e.icon,"c-style":{width:"100%",height:"100%"}},on:{click:function(a){return t.open(e)}}})],1)})),1)},de=[],le=(a("c975"),a("1276"),a("4328")),fe=a.n(le),pe=a("f76b"),he=a("26a1"),ge=a("f7fe"),be={name:"BannerSwipe",components:{ImageLoader:pe["a"]},props:{banners:{type:Array,default:function(){return[]}}},methods:{swipeChange:function(t){console.log(this.$refs.swipe.$el),Object(he["c"])(this.$refs.swipe.$el)&&this.expose(this.banners[t].title)},open:ge((function(t){var e=Object(o["t"])().user_id,a=fe.a.parse(t.url.split("?")[1]);return this.$o2o({e_c:"banner",e_a:"点击",e_n:"赚金币banner点击",e_x:{bannerTitle:t.title}}),!e&&a.login?Object(o["u"])():t.url.indexOf("bikan://")>-1?(location.href=t.url,!0):Object(o["A"])(t.url,t.title||"")}),200),expose:function(t){this.$o2o({e_c:"banner",e_a:"曝光",e_n:"赚金币banner曝光",e_x:{bannerTitle:t}})}},watch:{banners:function(t){t[0]&&this.expose(t[0].title)}},created:function(){var t=this;Object(u["a"])("focus",(function(){console.log("focus"),t.banners[0]&&t.expose(t.banners[0].title)}))}},ve=be,ke=(a("8cb5"),Object(w["a"])(ve,ue,de,!1,null,"043537aa",null)),we=ke.exports,me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rank"},[a("div",{staticClass:"title"},[a("span",[t._v("想看财富榜")]),a("a",{on:{click:t.goWithdrawGuide}},[t._v("快速提现攻略")])]),a("div",{staticClass:"ranks",on:{click:t.goWithdrawRank}},t._l(t.rank,(function(e,n){return a("div",{key:e.id,staticClass:"item"},[a("div",[a("div",{class:["avator","rank-avator-"+(n+1)]},[a("ImageLoader",{staticClass:"usericon",attrs:{src:e.userIcon,"backup-src":t.defaultUserIcon,"c-style":{width:"100%",height:"100%",backgroundSize:"contain"}}}),a("i",{class:["rank-logo","rank-logo-"+(n+1)]})],1),a("p",{staticClass:"money"},[t._v("累计"+t._s(e.userCash)+"元")])])])})),0),a("a",{staticClass:"all Hairline Hairline_top",on:{click:t.goWithdrawRank}},[t._v("查看全部")])])},Te=[],ye={name:"WithdrawRank",components:{ImageLoader:pe["a"]},props:{rank:{type:Array,default:function(){return[]}}},methods:{goWithdrawGuide:function(){this.$o2o({e_c:"任务",e_a:"点击",e_n:"提现攻略点击",e_x:{source:"任务中心"}}),Object(o["B"])("/mobile-v2/withdraw/quick-guide","快速提现攻略")},goWithdrawRank:function(){this.$o2o({e_c:"财富榜",e_a:"点击",e_n:"赚金币页点击财富榜"}),Object(o["B"])("/news-v2/#page=withdrawRank","财富排行榜")},goUserProfile:function(t){try{var e=c["a"].deviceInfo,a=Object(o["t"])(),n=Number(e.version_code),s={id:t.userId||0,icon:t.userIcon||c["a"].default.userIcon,name:t.userName||""};if(n&&n>=40100){this.$o2o({e_c:"个人主页",e_a:"曝光",e_n:"个人主页曝光",e_x:{status:a.user_id===t.userId?0:1,source:13}});var i="bikan://goto/userInfoDetail?userId=".concat(s.id,"&headIcon=").concat(encodeURIComponent(s.icon),"&nickName=").concat(s.name);console.log(i),window.location.href=i}}catch(r){console.log(r)}}},data:function(){return{defaultUserIcon:c["a"].default.userIcon}}},_e=ye,Se=(a("69d1"),Object(w["a"])(_e,me,Te,!1,null,"12949e1c",null)),Ae=Se.exports,Oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"normal"},[a("TaskHeader"),a("TaskList",{attrs:{task:t.normalTask}})],1)},Ce=[],Ne={name:"NormalTask",components:{TaskHeader:D,TaskList:Mt},props:{normalTask:{type:Array,default:function(){return[]}}}},De=Ne,je=(a("168c"),Object(w["a"])(De,Oe,Ce,!1,null,"224498d8",null)),Ie=je.exports,Le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"mark",staticClass:"layer",on:{click:t.handleClick}})},Pe=[],xe={name:"MaskLayer",props:{click:{type:Function,required:!0,default:function(){}}},methods:{handleClick:function(){this.click(),this.$refs.mark.style.display="none"}}},Re=xe,Ee=(a("ad83"),Object(w["a"])(Re,Le,Pe,!1,null,"998a1488",null)),He=Ee.exports;function $e(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Be(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?$e(Object(a),!0).forEach((function(e){Object(i["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):$e(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Fe={name:"Task",components:{NavBar:f["a"],WithdrawSwipe:T,NoviceTask:Kt,Sign:ce,PigTask:te,BannerSwipe:we,WithdrawRank:Ae,NormalTask:Ie,MaskLayer:He},data:function(){return{marked:!1,loading:!0,data:{},finishedNoviceTask:!1,shouldRequestAd:!0,adParameters:null}},created:function(){var t=this;l({page:"TaskCenter",logType:"enter",tagIdList:"",count:0}),this.getAdParameters(),this.init(),Object(u["a"])("focus",(function(){console.log("focus","init"),t.init()})),window.JSRegister.taskSignIn=function(){console.log(t,"JSRegister.taskSignIn"),t.init()},document.addEventListener("visibilitychange",(function(){document.hidden?t.shouldRequestAd=!1:t.shouldRequestAd=!0}))},methods:{isShowPigTask:function(){var t=c["a"].deviceInfo,e=Number(t.version_code);return e&&e>=40400},isShowTimeLimitPacket:function(){return!1},isShowNewHeader:function(){var t=c["a"].deviceInfo,e=Number(t.version_code);return e&&e>=40600},getStatusBarHeight:function(){var t="".concat(Object(o["r"])()/window.devicePixelRatio+12,"px");return t},showError:function(){this.$error(this.$route.name)},setData:function(t){this.data=Be({},t)},setSwipeBannerHeight:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t&&setTimeout((function(){var a=t.getBoundingClientRect();t.style.height="".concat(.29411764705882354*(a.width-e),"px")}),0)},init:function(){var t=this;l({page:"TaskCenter",logType:"sendRequest",tagIdList:"",count:0}),r["d"](Be({ts:Date.now(),presentads:this.shouldRequestAd},this.adParameters)).then((function(e){if(200===e.data.status)return t.setData(e.data.data),e.data.data.bannerList&&e.data.data.bannerList.length&&t.setSwipeBannerHeight(t.$refs.taskBanner),void t.$root.hidePlaceholder();t.showError()})).catch((function(e){console.error(e),t.showError()}))},getAdParameters:function(){this.adParameters=Object(o["j"])()}}},Ue=Fe,We=(a("5965"),Object(w["a"])(Ue,n,s,!1,null,"ceaa32fc",null));e["default"]=We.exports},dca8:function(t,e,a){var n=a("23e7"),s=a("bb2f"),i=a("d039"),r=a("861d"),o=a("f183").onFreeze,c=Object.freeze,u=i((function(){c(1)}));n({target:"Object",stat:!0,forced:u,sham:!s},{freeze:function(t){return c&&r(t)?c(o(t)):t}})},f183:function(t,e,a){var n=a("d012"),s=a("861d"),i=a("5135"),r=a("9bf2").f,o=a("90e3"),c=a("bb2f"),u=o("meta"),d=0,l=Object.isExtensible||function(){return!0},f=function(t){r(t,u,{value:{objectID:"O"+ ++d,weakData:{}}})},p=function(t,e){if(!s(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,u)){if(!l(t))return"F";if(!e)return"E";f(t)}return t[u].objectID},h=function(t,e){if(!i(t,u)){if(!l(t))return!0;if(!e)return!1;f(t)}return t[u].weakData},g=function(t){return c&&b.REQUIRED&&l(t)&&!i(t,u)&&f(t),t},b=t.exports={REQUIRED:!1,fastKey:p,getWeakData:h,onFreeze:g};n[u]=!0},f949:function(t,e,a){"use strict";var n=a("4708"),s=a.n(n);s.a}}]);
//# sourceMappingURL=chunk-46bf202b-legacy.77f8a1ab.js.map