(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-566d7e88"],{1148:function(t,e,a){"use strict";var o=a("a691"),i=a("1d80");t.exports="".repeat||function(t){var e=String(i(this)),a="",n=o(t);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(e+=e))1&n&&(a+=e);return a}},"20e9":function(t,e,a){},"408a":function(t,e,a){var o=a("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=o(t))throw TypeError("Incorrect invocation");return+t}},4106:function(t,e,a){"use strict";var o=a("20e9"),i=a.n(o);i.a},"4e05":function(t,e,a){},"570e":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("pdd-layout",{attrs:{page:"shop-detail-layout","bottom-text":t.bottomText}},[a("div",{staticClass:"shop-detail-placeholder"}),a("div",{staticClass:"shop-detail"},[a("div",{staticClass:"shop-detail-info-placeholder"}),a("div",{staticClass:"shop-detail-info"},[a("img",{staticClass:"shop-img",attrs:{src:t.shopdetail.img_url}}),a("div",{staticClass:"shop-name"},[t._v(" "+t._s(t.shopdetail.mallName)+" ")]),a("span",{staticClass:"shop-act"},[t._v("内购专场")]),a("span",{staticClass:"share-count"},[t._v(t._s(t.shopdetail.salesTip))])]),a("van-list",{attrs:{finished:t.finished},on:{load:t.getShopDetail},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[a("div",{staticClass:"goods-list"},t._l(t.shopdetail.list,(function(e,o){return a("div",{key:o,staticClass:"good",on:{click:function(a){return t.goGoodsDetail(e.goodsId)}}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.imgUrl,expression:"item.imgUrl"}],staticClass:"good-img"}),a("div",{staticClass:"good-name"},[t._v(" "+t._s(e.name)+" ")]),a("div",{staticClass:"good-info"},[a("span",{staticClass:"good-tag"},[t._v("拼单价")]),a("p",{staticClass:"unit"},[t._v("￥")]),a("p",{staticClass:"price"},[t._v(t._s(e.computePrice))]),e.discount?a("s",{staticClass:"original-price"},[t._v("￥"+t._s(e.originalPrice))]):t._e()]),a("div",{staticClass:"purchase-button"},[t._v(" 立即抢购 ")])])})),0)])],1)])},i=[],n=(a("e260"),a("ddb0"),a("8e92")),s=a("6b43"),r=a("b053"),d=a("b289"),c={name:"PDDMallShopDetail",components:{pddLayout:r["a"]},created(){this.getShopInfo()},data(){return{shopdetail:{},page:1,pageSize:10,loading:!1,finished:!1,bottomText:""}},methods:{getShopInfo(){var t=this.$route.params.shop;t||(t=JSON.parse(Object(s["a"])(d["b"]))),t.list=[],this.shopdetail=t,Object(s["c"])(d["b"],JSON.stringify(this.shopdetail)),this.getShopDetail(),this.$root.hidePlaceholder()},getShopDetail(){this.loading=!0,Object(n["c"])({mallId:this.shopdetail.mallId,page:this.page,pageSize:this.pageSize}).then(t=>{this.page+=1,this.loading=!1,t.length||(this.finished=!0,this.bottomText="- 店铺全部优惠都在上面啦 -"),t.forEach(t=>{t.computePrice=this.computePrice(t.originalPrice,t.discount)}),this.shopdetail.list=Object.freeze([...this.shopdetail.list,...t])}).catch(()=>{this.$error()})},goGoodsDetail(t){this.$router.push({name:"pddMallGoodsDetail",query:{goodsId:t}})},computePrice(t,e){return Object(d["c"])(t,e)}}},l=c,u=(a("e687"),a("2877")),p=Object(u["a"])(l,o,i,!1,null,"c4cc1b12",null);e["default"]=p.exports},"8e92":function(t,e,a){"use strict";a.d(e,"d",(function(){return i})),a.d(e,"e",(function(){return n})),a.d(e,"b",(function(){return s})),a.d(e,"a",(function(){return r})),a.d(e,"c",(function(){return d}));a("e6cf");var o=a("0c6d");function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["b"].get("/api/v4/pinduoduo/goods/search/list",t).then(t=>200!==t.data.status?(Object(o["a"])(t),Promise.reject(t.data)):Promise.resolve(t.data.data))}function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["b"].get("/api/v4/pinduoduo/top/goods/list",t).then(t=>200!==t.data.status?(Object(o["a"])(t),Promise.reject(t.data)):Promise.resolve(t.data.data))}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["b"].get("/api/v4/pinduoduo/merchant/list",t).then(t=>200!==t.data.status?(Object(o["a"])(t),Promise.reject(t.data)):Promise.resolve(t.data.data))}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["b"].get("/api/v4/pinduoduo/goods/detail",t).then(t=>200!==t.data.status?(Object(o["a"])(t),Promise.reject(t.data)):Promise.resolve(t.data.data))}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o["b"].get("/api/v4/pinduoduo/mall/goods/list",t).then(t=>200!==t.data.status?(Object(o["a"])(t),Promise.reject(t.data)):Promise.resolve(t.data.data))}},b053:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},[a("div",{class:["top",t.page],attrs:{id:t.page}},[a("div",{staticClass:"back",on:{click:t.backHandler}}),t._t("top")],2),a("div",{staticClass:"content"},[t._t("default")],2),a("div",{class:["bottom",t.page]},[t._v(t._s(t.bottomText))])])},i=[],n=a("6b43"),s=a("685a"),r=a("edb0"),d="pddmall-backdialog",c={props:{bottomText:{type:String,default:""},page:{type:String,default:"channel"}},methods:{backHandler(){"pddMallChannel"===this.$route.name&&this.$o2o({e_c:"首页返回",e_a:"点击",e_n:"PDD商品列表页"}),Object(s["g"])()&&"true"===Object(n["d"])(d)&&"pddMallChannel"===this.$route.name?Object(r["D"])():this.$router.back()}}},l=c,u=(a("4106"),a("2877")),p=Object(u["a"])(l,o,i,!1,null,"6dfae2e1",null);e["a"]=p.exports},b289:function(t,e,a){"use strict";a.d(e,"d",(function(){return n})),a.d(e,"c",(function(){return s})),a.d(e,"f",(function(){return r})),a.d(e,"e",(function(){return d})),a.d(e,"g",(function(){return c})),a.d(e,"b",(function(){return l})),a.d(e,"a",(function(){return u}));a("b680");var o=a("6b43"),i=null,n="pddmall-backdialog";function s(t,e){var a=t-e;return Math.round(a)===a?a:a.toFixed(1)}function r(t){i=t}function d(t){"backDialog"===t.state&&i&&(i.dialogShow=!0,Object(o["f"])(n,"true"),window.removeEventListener("popstate",d))}var c=[{optId:-1,optName:"精选"},{optId:-11,optName:"清仓"},{optId:15,optName:"百货"},{optId:4,optName:"母婴"},{optId:1,optName:"食品"},{optId:14,optName:"女装"},{optId:18,optName:"电器"},{optId:1281,optName:"鞋包"},{optId:1282,optName:"内衣"},{optId:16,optName:"美妆"},{optId:743,optName:"男装"},{optId:13,optName:"水果"},{optId:818,optName:"家纺"},{optId:2478,optName:"文具"},{optId:1451,optName:"运动"},{optId:590,optName:"虚拟"},{optId:2048,optName:"汽车"},{optId:1917,optName:"家装"},{optId:2974,optName:"家具"},{optId:3279,optName:"医药"}],l="cashShopInfo",u="fe-config-xiangkan-common"},b680:function(t,e,a){"use strict";var o=a("23e7"),i=a("a691"),n=a("408a"),s=a("1148"),r=a("d039"),d=1..toFixed,c=Math.floor,l=function(t,e,a){return 0===e?a:e%2===1?l(t,e-1,a*t):l(t*t,e/2,a)},u=function(t){var e=0,a=t;while(a>=4096)e+=12,a/=4096;while(a>=2)e+=1,a/=2;return e},p=d&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r((function(){d.call({})}));o({target:"Number",proto:!0,forced:p},{toFixed:function(t){var e,a,o,r,d=n(this),p=i(t),h=[0,0,0,0,0,0],f="",g="0",m=function(t,e){var a=-1,o=e;while(++a<6)o+=t*h[a],h[a]=o%1e7,o=c(o/1e7)},v=function(t){var e=6,a=0;while(--e>=0)a+=h[e],h[e]=c(a/t),a=a%t*1e7},b=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==h[t]){var a=String(h[t]);e=""===e?a:e+s.call("0",7-a.length)+a}return e};if(p<0||p>20)throw RangeError("Incorrect fraction digits");if(d!=d)return"NaN";if(d<=-1e21||d>=1e21)return String(d);if(d<0&&(f="-",d=-d),d>1e-21)if(e=u(d*l(2,69,1))-69,a=e<0?d*l(2,-e,1):d/l(2,e,1),a*=4503599627370496,e=52-e,e>0){m(0,a),o=p;while(o>=7)m(1e7,0),o-=7;m(l(10,o,1),0),o=e-1;while(o>=23)v(1<<23),o-=23;v(1<<o),m(1,1),v(2),g=b()}else m(0,a),m(1<<-e,0),g=b()+s.call("0",p);return p>0?(r=g.length,g=f+(r<=p?"0."+s.call("0",p-r)+g:g.slice(0,r-p)+"."+g.slice(r-p))):g=f+g,g}})},e687:function(t,e,a){"use strict";var o=a("4e05"),i=a.n(o);i.a}}]);
//# sourceMappingURL=chunk-566d7e88.e4d45355.js.map