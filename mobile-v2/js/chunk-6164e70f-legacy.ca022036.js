(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6164e70f"],{"06fd":function(t,e,n){"use strict";var a=n("bafa"),i=n.n(a);i.a},"0e2f":function(t,e,n){"use strict";var a=n("643d"),i=n.n(a);i.a},"0e32":function(t,e,n){},"13cb":function(t,e,n){"use strict";var a=n("1d6f"),i=n.n(a);i.a},1632:function(t,e,n){"use strict";var a=n("842c"),i=n.n(a);i.a},"1d6f":function(t,e,n){},"224b":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return s}));n("d3b7");var a=n("0c6d");function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a["b"].get("/api/v1/news/popular",t).then((function(t){return 200!==t.data.status?(Object(a["a"])(t),Promise.reject(t.data.data)):Promise.resolve(t.data.data)}))}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a["b"].get("/api/v1/news/poster",t).then((function(t){return 200!==t.data.status?(Object(a["a"])(t),Promise.reject(t.data.data)):Promise.resolve(t.data.data)}))}},"24d4":function(t,e,n){"use strict";var a=n("0e32"),i=n.n(a);i.a},2597:function(t,e,n){},2909:function(t,e,n){"use strict";function a(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("e260"),n("d3b7"),n("25f0"),n("3ca3"),n("ddb0");function i(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function r(t){return a(t)||i(t)||s()}n.d(e,"a",(function(){return r}))},"2a9a":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hot"},[n("div",{staticClass:"header"},[n("div",{staticClass:"logo"},[n("img",{staticClass:"logo-img",attrs:{src:t.userIcon}}),n("div",{staticClass:"designation"})]),n("div",{staticClass:"title"},[n("div",{staticClass:"name"},[t._v("专属今日头条")]),n("div",{staticClass:"desc"},[t._v(t._s(t.headerCard))])]),n("div",{staticClass:"calendar"},[n("div",{staticClass:"day"},[t._v(" "+t._s(t.date.day)+" ")]),n("div",{staticClass:"solar"},[t._v(t._s(t.date.solar))]),n("div",{staticClass:"lunar"},[t._v(t._s(t.date.lunar))]),n("div",{staticClass:"year"},[t._v(t._s(t.date.year)+" "),n("span",{staticClass:"animail"},[t._v(t._s(t.date.animal))])])])]),n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.getNews},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(t){return n("card",{key:t.millisAtStartOfDay,attrs:{title:t.title,documents:t.documentList,limit:t.foldCount}})})),1),n("div",{staticClass:"van-more"}),n("div",{staticClass:"footer",on:{click:t.toMakeMyCard}},[n("div",{staticClass:"footer-btn"},[t._v(" 点击制作 ")])])],1)},i=[],s=(n("99af"),n("b0c0"),n("2909")),r=n("3126"),o=n("c36a"),c=n("224b"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.documents.length>0?n("div",{staticClass:"card border-top"},[n("div",{staticClass:"content"},[n("div",{staticClass:"title"},[n("div",{staticClass:"logo"}),n("div",{staticClass:"name"},[t._v(t._s(t.title))])]),n("div",{staticClass:"news-list"},t._l(t.list,(function(e){return n("news-item",{key:e.docid,staticClass:"news-item",attrs:{item:e},on:{click:function(n){return t.handleClickNewsItem(e)}}})})),1),t.hasMore&&!t.isShowAll?n("div",{staticClass:"more"},[n("div",{staticClass:"more-btn",on:{click:t.showMore}},[t._v("查看更多")])]):t._e()])]):t._e()},u=[],m=(n("fb6a"),n("a9e3"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.itemStyleMap[t.itemStyle],t._g({tag:"component",attrs:{item:t.item}},t.$listeners))}),d=[],f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("news-container",t._g({staticClass:"text",attrs:{item:t.item}},t.$listeners),[n("div",{staticClass:"title-container"},[n("p",{staticClass:"title"},[t._v(t._s(t.item.title))])]),n("div",{staticClass:"footer-container"},[n("news-footer",{attrs:{"author-name":t.item.authorName,"comment-count":t.item.commentCount,"publish-time":t.item.publishTime}})],1)])},h=[],v=n("db49"),g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._g({staticClass:"news-container Hairline Hairline_bottom"},t.$listeners),[t._t("default")],2)},b=[],p={name:"NewsContainer"},C=p,_=(n("13cb"),n("2877")),w=Object(_["a"])(C,g,b,!1,null,"045a55ad",null),y=w.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"news-footer"},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.authorName,expression:"authorName"}]},[t._v(t._s(t.authorName))]),n("span",{directives:[{name:"show",rawName:"v-show",value:t.commentCount,expression:"commentCount"}]},[t._v(t._s(t.commentCount)+"评论")])])},O=[],j={name:"NewsFooter",props:{authorName:{type:String,default:""},commentCount:{type:[Number,String],default:0}}},k=j,S=(n("06fd"),Object(_["a"])(k,I,O,!1,null,"4307dcdc",null)),N=S.exports,x={components:{NewsContainer:y,NewsFooter:N},props:{item:{type:Object,default:function(){return{}}}},data:function(){return{defaultImage:v["a"].default.cover}},computed:{images:function(){return this.item.images||[]}}},$={name:"TextItem",mixins:[x]},A=$,D=(n("24d4"),Object(_["a"])(A,f,h,!1,null,"5eb56b2e",null)),T=D.exports,M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("news-container",t._g({staticClass:"single-img",attrs:{item:t.item}},t.$listeners),[n("div",{staticClass:"title-container"},[n("p",{staticClass:"title"},[t._v(t._s(t.item.title))]),n("news-footer",{attrs:{"author-name":t.item.authorName,"comment-count":t.item.commentCount,"publish-time":t.item.publishTime}})],1),n("div",{staticClass:"img-container"},[n("div",{staticClass:"img",style:{backgroundImage:"url("+(t.images[0]||t.defaultImage)+")"}})])])},E=[],L={name:"SingleImgItem",mixins:[x]},H=L,F=(n("4bed"),Object(_["a"])(H,M,E,!1,null,"70a35e64",null)),P=F.exports,B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("news-container",t._g({staticClass:"large-img",attrs:{item:t.item}},t.$listeners),[n("div",{staticClass:"title-container"},[n("p",{staticClass:"title"},[t._v(t._s(t.item.title))])]),n("div",{staticClass:"img-container"},[n("div",{staticClass:"img",style:{backgroundImage:"url("+t.images[0]+")"}})]),n("div",{staticClass:"footer-container"},[n("news-footer",{attrs:{"author-name":t.item.authorName,"comment-count":t.item.commentCount,"publish-time":t.item.publishTime}})],1)])},J=[],U={name:"LargeImgItem",mixins:[x]},R=U,V=(n("1632"),Object(_["a"])(R,B,J,!1,null,"27ba4088",null)),Y=V.exports,q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("news-container",t._g({staticClass:"three-img",attrs:{item:t.item}},t.$listeners),[n("div",{staticClass:"title-container"},[n("p",{staticClass:"title"},[t._v(t._s(t.item.title))])]),n("div",{staticClass:"img-container"},t._l(t.images,(function(t){return n("div",{key:t,staticClass:"img",style:{backgroundImage:"url("+t+")"}})})),0),n("div",{staticClass:"footer-container"},[n("news-footer",{attrs:{"author-name":t.item.authorName,"comment-count":t.item.commentCount,"publish-time":t.item.publishTime}})],1)])},K=[],W={name:"ThreeImgItem",mixins:[x],computed:{images:function(){return this.item.images?this.item.images.slice(0,3):[]}}},z=W,G=(n("d90a"),Object(_["a"])(z,q,K,!1,null,"9275d9b2",null)),Q=G.exports,X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("news-container",t._g({staticClass:"video-inline",attrs:{item:t.item}},t.$listeners),[n("div",{staticClass:"title-container"},[n("p",{staticClass:"title"},[t._v(t._s(t.item.title))])]),n("div",{staticClass:"img-container"},[n("div",{staticClass:"poster",style:{backgroundImage:"url("+t.images[0]+")"}},[n("div",{staticClass:"play"})])]),n("div",{staticClass:"footer-container"},[n("news-footer",{attrs:{"author-name":t.item.authorName,"comment-count":t.item.commentCount,"publish-time":t.item.publishTime}})],1)])},Z=[],tt={name:"ThreeImgItem",mixins:[x]},et=tt,nt=(n("8bc4"),Object(_["a"])(et,X,Z,!1,null,"0d5f7722",null)),at=nt.exports,it={name:"NewsItem",components:{TextItem:T,SingleImgItem:P,LargeImgItem:Y,ThreeImgItem:Q,VideoInlineItem:at},props:{item:{type:Object,default:function(){return{}}}},computed:{itemStyle:function(){return"0"===this.item.style?0:1}},data:function(){return{itemStyleMap:{0:"TextItem",1:"SingleImgItem",2:"LargeImgItem",3:"ThreeImgItem",inline_video_item:"videoInlineItem",short_video_item:"videoInlineItem"}}}},st=it,rt=Object(_["a"])(st,m,d,!1,null,null,null),ot=rt.exports,ct=n("6b43"),lt="readNewsCount",ut="亲爱的朋友,清晨第一缕阳光，赐予我们智慧与梦想，幸运永远属于拥有明智选择的人。",mt="todayHotNews",dt="CK1429645648411",ft="https://ts.market.mi-img.com/download/Browser/0dfcc57b54685de3ec6acf774097c1d5f67406458/logo_to_share.png",ht={name:"HotCard",components:{NewsItem:ot},props:{title:{type:String,default:"今日热点"},documents:{type:Array,default:function(){return[]}},limit:{type:Number,default:3}},data:function(){return{isShowAll:!1,limitCount:3}},computed:{list:function(){return this.isShowAll?this.documents:this.limit?this.documents.slice(0,this.limit):this.documents},count:function(){return this.documents.length},hasMore:function(){return this.count>this.limit}},methods:{showMore:function(){this.isShowAll=!0},handleClickNewsItem:function(t){var e=JSON.parse(Object(ct["a"])(lt)||"{}"),n=e.count||0,a=new Date,i=new Date(e.time),s=this.isSameDay(a,i);s||Object(ct["b"])(lt),n>=this.limitCount||"video"===t.type?Object(o["a"])(Object(r["a"])(t.type,t.docId)):(Object(ct["c"])(lt,JSON.stringify({count:n+1,time:a})),location.href="".concat(t.shareUrl,"&backflow=0"))},isSameDay:function(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}}},vt=ht,gt=(n("0e2f"),Object(_["a"])(vt,l,u,!1,null,"57d4b01c",null)),bt=gt.exports,pt={name:"Hot",components:{Card:bt},data:function(){return{list:[],millisAtStartOfDay:null,loading:!1,finished:!1,userIcon:"",headerCard:ut,date:{day:"",solar:"",lunar:"",year:"",animal:""}}},created:function(){this.$root.setBackflow(),this.getHotCardContent(),this.$o2o({e_c:"专属头条页",e_a:"曝光",e_n:"热点资讯专属头条"})},methods:{getHotCardContent:function(){var t=this,e={sharedBy:this.$route.query.sharedBy};Object(c["a"])(e).then((function(e){t.userIcon=e.userInfo&&e.userInfo.headIcon||ft,t.headerCard=e.greet,t.date={day:e.date.day,solar:"".concat(e.date.month,"月").concat(e.date.day,"日"),lunar:"".concat(e.lunar.month).concat(e.lunar.dayOfMonth),year:e.lunar.year,animal:e.lunar.animal}})).catch((function(){t.$error()}))},getNews:function(){var t=this,e=this.getStartTimestamp();Object(c["b"])({startTime:e}).then((function(n){if(t.loading=!1,t.finished=!n.hasMore,t.list=[].concat(Object(s["a"])(t.list),Object(s["a"])(n.newsList)),t.millisAtStartOfDay=(n.newsList[n.newsList.length-1]||{}).millisAtStartOfDay,!e){var a=t.list[0].documentList[0]||{},i=t.list[0].documentList[1]||{};Object(o["h"])({title:"今日热点资讯精选",summary:"".concat(a.title,";").concat(i.title),pic:a.images?a.images[0]:"",url:location.href})}t.$root.hidePlaceholder()})).catch((function(){t.$error(t.$route.name)}))},getStartTimestamp:function(){if(!this.millisAtStartOfDay)return null;var t=new Date(this.millisAtStartOfDay);return t.setDate(t.getDate()-1),t.getTime()},toMakeMyCard:function(){this.$o2o({e_c:"制作按钮",e_a:"点击",e_n:"制作我的专属头条"}),Object(o["a"])(Object(r["b"])(mt),void 0,dt)}}},Ct=pt,_t=(n("a6b8"),Object(_["a"])(Ct,a,i,!1,null,"68e13880",null));e["default"]=_t.exports},3126:function(t,e,n){"use strict";n.d(e,"i",(function(){return s})),n.d(e,"f",(function(){return r})),n.d(e,"d",(function(){return o})),n.d(e,"g",(function(){return c})),n.d(e,"c",(function(){return l})),n.d(e,"h",(function(){return u})),n.d(e,"b",(function(){return m})),n.d(e,"e",(function(){return d})),n.d(e,"a",(function(){return f}));n("99af");var a=n("db49"),i=n("2d8f");function s(t){var e=t.deepLink;return Object(i["b"])("openDeepLink",e)}function r(t){return Object(i["a"])("web.tab/".concat(t))}function o(t){return Object(i["a"])("goto/".concat(t))}function c(t){var e=t.headIcon,n=void 0===e?a["a"].default.userIcon:e,s=t.nickname,r=t.userId;return Object(i["a"])("goto/userInfoDetail?userId=".concat(r,"&headIcon=").concat(encodeURIComponent(n),"&nickName=").concat(s))}function l(t){return"bikan://web.goto/commonWebView?url_encode=".concat(encodeURIComponent(t))}function u(t){location.href=t}function m(t){return"bikan://goto/".concat(t)}function d(){var t="goto/mineTab/task";return Object(i["a"])(t)}function f(t,e){return"bikan://goto/".concat(t,"Detail?docId=").concat(e)}},"4bed":function(t,e,n){"use strict";var a=n("2597"),i=n.n(a);i.a},"4df4":function(t,e,n){"use strict";var a=n("0366"),i=n("7b0b"),s=n("9bdd"),r=n("e95a"),o=n("50c4"),c=n("8418"),l=n("35a1");t.exports=function(t){var e,n,u,m,d,f,h=i(t),v="function"==typeof this?this:Array,g=arguments.length,b=g>1?arguments[1]:void 0,p=void 0!==b,C=l(h),_=0;if(p&&(b=a(b,g>2?arguments[2]:void 0,2)),void 0==C||v==Array&&r(C))for(e=o(h.length),n=new v(e);e>_;_++)f=p?b(h[_],_):h[_],c(n,_,f);else for(m=C.call(h),d=m.next,n=new v;!(u=d.call(m)).done;_++)f=p?s(m,b,[u.value,_],!0):u.value,c(n,_,f);return n.length=_,n}},"643d":function(t,e,n){},"842c":function(t,e,n){},"8bc4":function(t,e,n){"use strict";var a=n("c3b3"),i=n.n(a);i.a},"926a":function(t,e,n){},a630:function(t,e,n){var a=n("23e7"),i=n("4df4"),s=n("1c7e"),r=!s((function(t){Array.from(t)}));a({target:"Array",stat:!0,forced:r},{from:i})},a6b8:function(t,e,n){"use strict";var a=n("926a"),i=n.n(a);i.a},b0c0:function(t,e,n){var a=n("83ab"),i=n("9bf2").f,s=Function.prototype,r=s.toString,o=/^\s*function ([^ (]*)/,c="name";!a||c in s||i(s,c,{configurable:!0,get:function(){try{return r.call(this).match(o)[1]}catch(t){return""}}})},bafa:function(t,e,n){},c3b3:function(t,e,n){},d5c4:function(t,e,n){},d90a:function(t,e,n){"use strict";var a=n("d5c4"),i=n.n(a);i.a}}]);
//# sourceMappingURL=chunk-6164e70f-legacy.ca022036.js.map