{"version":3,"sources":["webpack:///./src/api/partner.js","webpack:///./node_modules/core-js/modules/es.regexp.to-string.js","webpack:///./src/views/withdraw/withdrawVisitorMixin.js","webpack:///./src/views/act/partner/PartnerWithdraw.vue?95d7","webpack:///./src/views/act/partner/WithdrawComponents/Balance.vue?749c","webpack:///src/views/act/partner/WithdrawComponents/Balance.vue","webpack:///./src/views/act/partner/WithdrawComponents/Balance.vue?49a6","webpack:///./src/views/act/partner/WithdrawComponents/Balance.vue?848e","webpack:///src/views/act/partner/PartnerWithdraw.vue","webpack:///./src/views/act/partner/PartnerWithdraw.vue?f497","webpack:///./src/views/act/partner/PartnerWithdraw.vue?1adf","webpack:///./src/views/act/partner/WithdrawComponents/Balance.vue?4983","webpack:///./src/views/act/partner/PartnerWithdraw.vue?66d2","webpack:///./src/filters/index.js","webpack:///./src/views/withdraw/WithdrawDialog.vue?5c60","webpack:///./src/views/withdraw/WithdrawDialog.vue?abca","webpack:///src/views/withdraw/WithdrawDialog.vue","webpack:///./src/views/withdraw/WithdrawDialog.vue?993f","webpack:///./src/views/withdraw/WithdrawDialog.vue?4b3a","webpack:///./src/api/miVerify.js","webpack:///./src/utils/miVerify.js","webpack:///./static/v.js"],"names":["getActInfo","data","request","get","then","response","status","apiResError","Promise","reject","resolve","joinPartner","post","getFriendsList","getIncome","getDetail","getPartnerWithdrawInfo","postPartnerWithdraw","redefine","anObject","fails","flags","TO_STRING","RegExpPrototype","RegExp","prototype","nativeToString","NOT_GENERIC","call","source","INCORRECT_NAME","name","R","this","p","String","rf","f","undefined","unsafe","props","isVisitor","type","Boolean","default","isWechatAuth","showLoginDialog","wechatNickname","wechatCode","bindWechatSuccessCallback","wechatCodeCallback","wechatLoginCallback","wechatCodeLoginCallback","created","registerWechatCallback","methods","window","getWechatCode","getWechatCodeAndLogin","handleLoginResult","code","getLoginStatus","key","hasBind","nickname","openLoginDialog","startLoginWithWX","catch","$error","toast","goLoginWithWX","isSuccess","closeLoginDialog","$emit","handleBindWechat","callback","bindWxWithCallback","handleBindPhone","goLoginWithPhone","handleLogin","$o2o","e_c","e_a","e_n","render","_vm","_h","$createElement","_c","_self","staticClass","isShowNavbar","attrs","on","convertDescribe","_v","_e","withdrawInfo","cash","goProgress","_m","value","withdrawOptions","selectCash","_s","limitSignDays","length","loading","coin","$event","withdrawHandler","handleWithdrawSuccess","handleWithdrawError","reasons","reasonBtnText","reasonHandler","showReasonDialog","staticRenderFns","label","_f","_t","component","formatCash","num","Number","parseFloat","toFixed","formatNumber","toString","replace","formatDay","timestamp","currentDay","Date","getDate","date","day","time","getHours","getMinutes","getSeconds","map","t","join","diff","format","target","currentTarget","closeHandler","title","_l","msg","domProps","width","height","fontSize","background","clickHandler","btnText","getRegMethod","cb","res","console","log","miVerify","register","handler","initMiverify","regMethod","onSuccess","token","onSuccessRequest","onClose","onCloseRequest","taskTime","withdraw","partnerWithdraw","o","r","e","exports","n","i","l","m","c","d","Object","defineProperty","enumerable","Symbol","toStringTag","__esModule","create","bind","hasOwnProperty","s","74","url","a","timeout","u","success","fail","timeoutCb","y","Error","v","document","createElement","loaded","head","getElementsByTagName","h","w","b","push","concat","encodeURIComponent","j","parseInt","Math","random","valueOf","g","E","appendChild","src","readyState","setTimeout","onerror","removeChild","startMiverify","conf","jsVersion","forEach"],"mappings":"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","file":"js/chunk-b459c790.262e8044.js","sourcesContent":["import request, { apiResError } from './request';\n\nexport function getActInfo(data = {}) {\n    return request.get('/api/v4/promotion/home', data)\n        .then((response) => {\n            if (response.data.status !== 200) {\n                apiResError(response);\n\n                return Promise.reject(response.data);\n            }\n\n            return Promise.resolve(response.data.data);\n        });\n}\n\nexport function joinPartner(data = {}) {\n    return request.post('/api/v4/promotion/create', data)\n        .then((response) => {\n            if (response.data.status !== 200) {\n                apiResError(response);\n\n                return Promise.reject(response.data);\n            }\n\n            return Promise.resolve(response.data.data);\n        });\n}\n\nexport function getFriendsList(data = {}) {\n    return request.get('/api/v4/promotion/disciple', data)\n        .then((response) => {\n            if (response.data.status !== 200) {\n                apiResError(response);\n\n                return Promise.reject(response.data);\n            }\n\n            return Promise.resolve(response.data.data);\n        });\n}\n\nexport function getIncome(data = {}) {\n    return request.get('/api/v4/promotion/bonus/page', data)\n        .then((response) => {\n            if (response.data.status !== 200) {\n                apiResError(response);\n\n                return Promise.reject(response.data);\n            }\n\n            return Promise.resolve(response.data.data);\n        });\n}\n\nexport function getDetail(data = {}) {\n    return request.get('/api/v4/promotion/bonus/detail', data)\n        .then((response) => {\n            if (response.data.status !== 200) {\n                apiResError(response);\n\n                return Promise.reject(response.data);\n            }\n\n            return Promise.resolve(response.data.data);\n        });\n}\n\nexport function getPartnerWithdrawInfo(data = {}) {\n    return request.get('/api/v4/exchange/withdraw/promotion/page', data)\n        .then((response) => {\n            if (response.data.status !== 200) {\n                apiResError(response);\n\n                return Promise.reject(response.data);\n            }\n\n            return Promise.resolve(response.data.data);\n        });\n}\n\nexport function postPartnerWithdraw(data = {}) {\n    return request.post('/api/v4/exchange/withdraw/promotion', data)\n        .then((response) => {\n            if (response.data.status !== 200) {\n                apiResError(response);\n\n                return Promise.reject(response.data);\n            }\n\n            return Promise.resolve(response.data.data);\n        });\n}\n","'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","import {\n    toast,\n    goLoginWithWX,\n    startLoginWithWX,\n    goLoginWithPhone,\n    bindWxWithCallback,\n} from '@/utils/jsApiV2/client';\nimport {\n    getLoginStatus,\n} from '@/api/withdraw';\n\nexport default {\n    props: {\n        isVisitor: {\n            type: Boolean,\n            default: false,\n        },\n        isWechatAuth: {\n            type: Boolean,\n            default: false,\n        },\n    },\n    data() {\n        return {\n            showLoginDialog: false,\n            wechatNickname: '',\n            wechatCode: '',\n            bindWechatSuccessCallback: null,\n            wechatCodeCallback: 'wechatCodeCallback',\n            wechatLoginCallback: 'wechatLoginCallback',\n            wechatCodeLoginCallback: 'wechatCodeLoginCallback',\n        };\n    },\n    created() {\n        this.registerWechatCallback();\n    },\n    methods: {\n        registerWechatCallback() {\n            window[this.wechatCodeCallback] = this.getWechatCode;\n            window[this.wechatCodeLoginCallback] = this.getWechatCodeAndLogin;\n            window[this.wechatLoginCallback] = this.handleLoginResult;\n        },\n        getWechatCode({ code } = {}) {\n            if (!code) {\n                return toast('微信授权失败，请重试');\n            }\n\n            this.wechatCode = code;\n\n            return getLoginStatus({\n                type: this.type,\n                key: code,\n            })\n                .then(({ hasBind, nickname }) => {\n                    if (hasBind) {\n                        this.wechatNickname = nickname;\n\n                        // 存在老账号，清空提现回调\n                        if (this.bindWechatSuccessCallback) {\n                            this.bindWechatSuccessCallback = null;\n                        }\n\n                        this.openLoginDialog();\n                    } else {\n                        startLoginWithWX(this.wechatCodeLoginCallback);\n                    }\n                })\n                .catch(() => this.$error());\n        },\n        getWechatCodeAndLogin({ code }) {\n            this.wechatCode = code;\n\n            goLoginWithWX(this.wechatCode, this.wechatLoginCallback);\n        },\n        handleLoginResult(isSuccess) {\n            if (isSuccess) {\n                if (this.showLoginDialog) this.closeLoginDialog();\n\n                // 微信绑定成功，调用成功回调（发提现请求）\n                if (this.bindWechatSuccessCallback) {\n                    this.bindWechatSuccessCallback();\n                    this.bindWechatSuccessCallback = null;\n                }\n\n                this.$emit('login');\n            } else {\n                toast('登录失败，请重试');\n            }\n        },\n        handleBindWechat(callback) {\n            this.bindWechatSuccessCallback = callback;\n\n            if (this.isVisitor) {\n                startLoginWithWX(this.wechatCodeCallback);\n            } else {\n                bindWxWithCallback(this.wechatLoginCallback);\n            }\n        },\n        handleBindPhone() {\n            goLoginWithPhone();\n        },\n        handleLogin() {\n            this.$o2o({\n                e_c: '提现',\n                e_a: '点击',\n                e_n: '切换账号弹窗点击继续登录',\n            });\n\n            startLoginWithWX(this.wechatCodeLoginCallback);\n        },\n        openLoginDialog() {\n            this.$o2o({\n                e_c: '提现',\n                e_a: '曝光',\n                e_n: '提现切换账号弹窗曝光',\n            });\n\n            this.showLoginDialog = true;\n        },\n        closeLoginDialog() {\n            this.$o2o({\n                e_c: '提现',\n                e_a: '点击',\n                e_n: '切换账号弹窗点击取消',\n            });\n\n            this.showLoginDialog = false;\n        },\n    },\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"withdraw\"},[(_vm.isShowNavbar())?_c('nav-bar',{attrs:{\"title\":\"提现兑换\",\"hairline\":false}},[_c('span',{on:{\"click\":_vm.convertDescribe}},[_vm._v(\" 兑换说明 \")])]):_vm._e(),_c('div',{staticClass:\"withdraw__base\"},[_c('balance',{attrs:{\"label\":\"我的分红\",\"cash\":_vm.withdrawInfo.cash}},[_c('span',{staticClass:\"withdraw__progress\",on:{\"click\":_vm.goProgress}},[_vm._v(\"提现进度\")])]),_vm._m(0),_c('withdraw-options',{attrs:{\"value\":_vm.value,\"cash\":_vm.withdrawInfo.cash,\"options\":_vm.withdrawInfo.withdrawOptions},on:{\"input\":_vm.selectCash}}),_c('div',{staticClass:\"withdraw__hint\"},[_c('p',[_vm._v(\"注意事项:\")]),_c('p',[_vm._v(\"1.提现申请将在10分钟内审批到账，如遇节假日时间顺延\")]),_c('p',[_vm._v(\"2.连续签到\"+_vm._s(_vm.limitSignDays)+\"天即可提现，两次提现间隔需大于3天。\")]),_c('p',[_vm._v(\"3.因微信提现每日有额度上限，若遇到提示“今日额度已发完”，请明日再来兑换\")]),_c('p',[_vm._v(\"4.如兑换遇到问题，请在「想看资讯」公众号里反馈\")]),_c('p',[_vm._v(\"5.最终解释权归想看App所有\")])]),_c('div',{staticClass:\"withdraw__btn\"},[(_vm.withdrawInfo.withdrawOptions && _vm.withdrawInfo.withdrawOptions.length)?_c('Button',{attrs:{\"loading\":_vm.loading,\"disabled\":!_vm.value.coin},on:{\"click\":function($event){return _vm.withdrawHandler(_vm.handleWithdrawSuccess, _vm.handleWithdrawError)}}},[_vm._v(\" 立即兑换\")]):_vm._e()],1),_c('withdraw-dialog',{attrs:{\"msgs\":_vm.reasons,\"btn-text\":_vm.reasonBtnText,\"click-handler\":_vm.reasonHandler,\"show\":_vm.showReasonDialog},on:{\"update:show\":function($event){_vm.showReasonDialog=$event}}})],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"withdraw__label\"},[_c('div',{staticClass:\"withdraw__label_txt\"},[_vm._v(\"金币兑换：\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"balance\"},[_c('div',{staticClass:\"balance__info\"},[_c('div',{staticClass:\"balance__label\"},[_vm._v(_vm._s(_vm.label))]),_c('div',{staticClass:\"balance__coin\"},[_c('span',{staticClass:\"balance__coin-num\"},[_vm._v(\" \"+_vm._s(_vm._f(\"formatNumber\")(_vm.cash))),_c('span',{staticClass:\"balance_unit\"},[_vm._v(\"元 \")])])]),_vm._t(\"tip\")],2),_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"balance\">\n        <div class=\"balance__info\">\n            <div class=\"balance__label\">{{ label }}</div>\n            <div class=\"balance__coin\">\n                <span class=\"balance__coin-num\">\n                    {{ cash | formatNumber }}<span class=\"balance_unit\">元 </span>\n                </span>\n            </div>\n            <slot name=\"tip\" />\n        </div>\n        <slot />\n    </div>\n</template>\n\n<script>\nimport { formatNumber, formatCash } from '@/filters';\n\nexport default {\n    name: 'Balance',\n    props: {\n        label: {\n            type: String,\n            default: '我的金币：',\n        },\n        cash: {\n            type: [Number, String],\n            default: '0',\n        },\n    },\n    filters: {\n        formatNumber,\n        formatCash,\n    },\n};\n</script>\n<style scoped>\n.balance {\n    position: relative;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    border-bottom: 7px solid #f7f7f7;\n    font-size: 15px;\n}\n\n.balance__info {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    justify-content: space-between;\n}\n\n.balance__label {\n    color: #333;\n}\n\n.balance__coin {\n    margin-top: 10px;\n}\n\n.balance__coin-num {\n    font-family: \"Mitype2018\";\n    font-size: 33px;\n    line-height: 33px;\n    color: #eb4940;\n}\n\n.balance_unit {\n    font: 17px/22px miui;\n    color: #000;\n}\n\n.balance__cash {\n    display: inline-flex;\n    align-items: center;\n    height: 17px;\n    font-family: miui;\n    font-size: 10px;\n    line-height: 13px;\n    color: #fff;\n    padding: 0 7px;\n    margin-left: 7px;\n    vertical-align: super;\n    background-color: #ffa928;\n    border-radius: 10px 10px 10px 0;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Balance.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Balance.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Balance.vue?vue&type=template&id=47c137f6&scoped=true&\"\nimport script from \"./Balance.vue?vue&type=script&lang=js&\"\nexport * from \"./Balance.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Balance.vue?vue&type=style&index=0&id=47c137f6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"47c137f6\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"withdraw\">\n        <nav-bar\n            v-if=\"isShowNavbar()\"\n            title=\"提现兑换\"\n            :hairline=\"false\">\n            <span\n                @click=\"convertDescribe\">\n                兑换说明\n            </span>\n        </nav-bar>\n        <div class=\"withdraw__base\">\n            <balance\n                label='我的分红'\n                :cash=\"withdrawInfo.cash\">\n                <span\n                    class=\"withdraw__progress\"\n                    @click=\"goProgress\">提现进度</span></balance>\n            <div class=\"withdraw__label\">\n                <div class=\"withdraw__label_txt\">金币兑换：</div>\n            </div>\n            <withdraw-options\n                :value=\"value\"\n                :cash=\"withdrawInfo.cash\"\n                :options=\"withdrawInfo.withdrawOptions\"\n                @input=\"selectCash\" />\n            <div class=\"withdraw__hint\">\n                <p>注意事项:</p>\n                <p>1.提现申请将在10分钟内审批到账，如遇节假日时间顺延</p>\n                <p>2.连续签到{{ limitSignDays }}天即可提现，两次提现间隔需大于3天。</p>\n                <p>3.因微信提现每日有额度上限，若遇到提示“今日额度已发完”，请明日再来兑换</p>\n                <p>4.如兑换遇到问题，请在「想看资讯」公众号里反馈</p>\n                <p>5.最终解释权归想看App所有</p>\n            </div>\n            <div class=\"withdraw__btn\">\n                <Button\n                    v-if=\"withdrawInfo.withdrawOptions && withdrawInfo.withdrawOptions.length\"\n                    :loading=\"loading\"\n                    :disabled=\"!value.coin\"\n                    @click=\"withdrawHandler(handleWithdrawSuccess, handleWithdrawError)\">\n                    立即兑换</Button>\n            </div>\n            <withdraw-dialog\n                :msgs=\"reasons\"\n                :btn-text=\"reasonBtnText\"\n                :click-handler=\"reasonHandler\"\n                :show.sync=\"showReasonDialog\" />\n        </div>\n    </div>\n</template>\n\n<script>\nimport NavBar from '@/components/NavBar';\nimport { getPartnerWithdrawInfo, postPartnerWithdraw } from '@/api/partner';\nimport { isXiangkan } from '@/utils/ua';\nimport Button from '@/components/Button';\nimport miVerify from '@/utils/miVerify';\nimport config from '@/config';\nimport { set } from '@/utils/cache';\nimport {\n    addCalendarEvent,\n    setSwipeBackStatus,\n    openCommonWebViewByPath,\n    toast,\n    hasCalendarEventExist,\n    quitCurrentWebview,\n} from '@/utils/jsApiV2/client';\nimport {\n    goTab,\n} from '@/utils/jsApiV2/deeplink';\nimport debounce from 'lodash.debounce';\nimport Balance from './WithdrawComponents/Balance';\nimport WithdrawOptions from '../../withdraw/WithdrawOptions';\nimport WithdrawDialog from '../../withdraw/WithdrawDialog';\nimport withdrawVisitorMixin from '../../withdraw/withdrawVisitorMixin';\nimport '../../../../static/v';\n\nconst cacheSelectedCashKey = 'selectedCash';\n\nexport default {\n    name: 'PartnerWithdraw',\n    mixins: [withdrawVisitorMixin],\n    data() {\n        return {\n            withdrawInfo: {},\n            value: {},\n            loading: false,\n            showReasonDialog: false,\n            reasons: [],\n            reasonBtnText: '',\n            reasonHandler: this.closeReasonDialog,\n            defaultReasons: ['网络不太好，请稍后重试'],\n            defaultReasonBtnText: '我知道了',\n        };\n    },\n    created() {\n        this.$root.hidePlaceholder();\n        this.getPartnerWithdrawInfo();\n        this.$o2o({\n            e_c: '地推提现曝光',\n            e_a: '曝光',\n            e_n: '地推合伙人平台提现页',\n        });\n        // 人机验证初始化\n        miVerify(\n            { type: '时长任务' },\n            (verify) => {\n                window.miVerify.partnerWithdraw.verify = verify;\n            },\n            'partnerWithdraw',\n        );\n    },\n    components: {\n        NavBar,\n        Balance,\n        WithdrawOptions,\n        WithdrawDialog,\n        Button,\n    },\n    computed: {\n        limitSignDays() {\n            return (this.value && this.value.limitSignDays) || 3;\n        },\n    },\n    methods: {\n        isShowNavbar() {\n            return isXiangkan();\n        },\n        convertDescribe() {\n            openCommonWebViewByPath('/mobile-v2/withdraw/withdraw-manual');\n            this.$o2o({ e_c: '提现', e_a: '点击', e_n: '地推合伙人平台提现页' });\n        },\n        getPartnerWithdrawInfo() {\n            getPartnerWithdrawInfo().then((res) => {\n                this.withdrawInfo = res;\n                // 进入提现兑换页面，如果金币资产充足，则选中满足条件的最大金额档位\n                // eslint-disable-next-line max-len\n                this.value = this.getMaxCashOption(this.withdrawInfo.coin, this.withdrawInfo.withdrawOptions);\n            }).catch((e) => {\n                console.error(e);\n                this.$error();\n            });\n        },\n        goProgress() {\n            this.$o2o({\n                e_c: '提现',\n                e_a: '点击',\n                e_n: '地推合伙人平台提现进度按钮点击',\n            });\n            openCommonWebViewByPath('/mobile-v2/withdraw/progress');\n        },\n        selectCash(cash) {\n            this.value = cash;\n        },\n        getMaxCashOption(coin, options) {\n            let maxCashOption = {};\n            let option;\n            for (let i = 0; i < options.length; i += 1) {\n                option = options[i];\n\n                if (option.canClick\n                    && coin >= option.coin\n                    && (maxCashOption.coin || 3000) <= option.coin) {\n                    if (option.coin === 3000) return option;\n\n                    maxCashOption = option;\n                }\n            }\n            return maxCashOption;\n        },\n        withdrawHandler: debounce(function handler(onSuccess, onError) {\n            if (!this.value) return;\n            this.$o2o({\n                e_c: '立即兑换',\n                e_a: '点击',\n                e_n: '地推合伙人平台提现页',\n            });\n            this.withdraw({}, onSuccess, onError);\n        }, 200),\n        withdraw(params, onSuccess, onError) {\n            const typeName = '想看合伙人提现';\n            if (window.miVerify.register === false) {\n                toast('网络异常，请退出后重试');\n                return;\n            }\n            if (!window.miVerify.partnerWithdraw.verify) {\n                toast('网络延迟，请稍后重试');\n                return;\n            }\n            // 待添加验证步骤\n            window.miVerify.partnerWithdraw.onSuccessRequest = (token) => {\n                this.loading = true;\n                setSwipeBackStatus('true');\n                this.$o2o({\n                    e_c: '滑动验证码',\n                    e_a: '成功',\n                    e_n: '滑动验证码解锁成功',\n                    e_x: { trigger_source: `${typeName}提现` },\n                });\n                postPartnerWithdraw({\n                    type: this.value.type || 'wechat',\n                    cash: this.value.cash,\n                    ...token,\n                })\n                    .then((res) => {\n                        if (typeof onSuccess === 'function') {\n                            onSuccess(res);\n                        }\n                        this.loading = false;\n                    })\n                    .catch((res) => {\n                        if (res && res.status === '1001') {\n                            this.$o2o({\n                                e_c: '滑动验证码',\n                                e_a: '失败',\n                                e_n: '滑动验证码解锁失败',\n                                e_x: { trigger_source: `${typeName}提现` },\n                            });\n                        }\n\n                        this.$o2o({\n                            e_c: '提现',\n                            e_a: '失败',\n                            e_n: '提现失败',\n                            e_x: { type: typeName },\n                        });\n\n                        if (typeof onError === 'function') {\n                            onError(res);\n                        }\n\n                        this.loading = false;\n                    });\n            };\n            window.miVerify.partnerWithdraw.onCloseRequest = (code) => {\n                setSwipeBackStatus('true');\n                switch (code) {\n                case 0:\n                    this.$o2o({ e_c: '滑动验证码', e_a: '成功', e_n: '滑动验证码解锁成功', e_x: { trigger_source: `${typeName}提现` } }); break;\n                case 1:\n                    this.$o2o({ e_c: '滑动验证码', e_a: '关闭', e_n: '滑动验证码手动关闭', e_x: { trigger_source: `${typeName}提现` } }); break;\n                case 2:\n                    this.$o2o({ e_c: '滑动验证码', e_a: 'eventId 过期', e_n: '滑动验证码 eventId 过期', e_x: { trigger_source: `${typeName}提现` } }); break;\n                case 3:\n                    this.$o2o({ e_c: '滑动验证码', e_a: '系统错误', e_n: '滑动验证码系统错误', e_x: { trigger_source: `${typeName}提现` } }); break;\n                default:\n                    break;\n                }\n            };\n            setSwipeBackStatus('false');\n            window.miVerify.partnerWithdraw.verify.start({\n                activeVerify: 'false',\n            });\n        },\n        handleWithdrawSuccess() {\n            this.$o2o({\n                e_c: '提现',\n                e_a: '成功',\n                e_n: '地推合伙人平台提现页',\n            }, () => {\n                this.commitWithdraw();\n            });\n        },\n        commitWithdraw() {\n            const withdraw = this.value.cash / 100;\n            let cash;\n            switch (withdraw) {\n            case 0.3:\n                cash = 1;\n                break;\n            case 1:\n                cash = 5;\n                break;\n            default:\n                break;\n            }\n            openCommonWebViewByPath(`/mobile-v2/withdraw/progress?withdraw=${withdraw}${cash ? `&cash=${cash}` : ''}`);\n        },\n        handleWithdrawError(res) {\n            if (res.data) {\n                this.checkCode(res.data);\n            } else if (res.msg) {\n                toast(res.msg);\n            } else {\n                toast('网络异常，请稍后重试');\n            }\n        },\n        configReasonDialog({ msg, btnText, handler }) {\n            this.reasons = msg ? msg.split('|') : this.defaultReasons;\n            this.reasonBtnText = btnText;\n            this.reasonHandler = handler;\n            this.openReasonDialog();\n        },\n        openReasonDialog() {\n            this.showReasonDialog = true;\n        },\n        closeReasonDialog() {\n            this.showReasonDialog = false;\n        },\n        goBack() {\n            quitCurrentWebview();\n        },\n        goAuth() {\n            if (!this.isAuth) {\n                this.closeReasonDialog();\n                set(cacheSelectedCashKey, JSON.stringify(this.value));\n                openCommonWebViewByPath('/mobile-v2/withdraw/auth');\n            }\n            this.$o2o({\n                e_c: '提现',\n                e_a: '点击',\n                e_n: '去认证',\n            });\n        },\n        goTask() {\n            if (config.versionCode >= 40600) {\n                goTab('mineTab');\n            } else {\n                goTab('taskTab');\n            }\n        },\n        checkCode(res) {\n            switch (res.code) {\n            case 14:\n                this.configReasonDialog({\n                    msg: res.msg,\n                    btnText: '去认证',\n                    handler: this.goAuth,\n                });\n                break;\n            case 18:\n                if (res.expMonStatus) {\n                    this.configReasonDialog({\n                        msg: `${res.msg}|可尝试兑换0.3元，秒到账！`,\n                        btnText: this.defaultReasonBtnText,\n                        handler: this.closeReasonDialog,\n                    });\n                } else {\n                    this.configReasonDialog({\n                        msg: res.msg,\n                        btnText: '返回继续地推',\n                        handler: this.goBack,\n                    });\n                }\n                break;\n            case 20:\n                this.configReasonDialog({\n                    msg: res.msg,\n                    btnText: '去完成新手任务',\n                    handler: this.goTask,\n                });\n                break;\n            case 23:\n                if (!res.expMonStatus && config.versionCode >= 40770) {\n                    const title = '【想看】今天可提现1元零钱了，点击提现>>';\n                    const description = '想看1元提现';\n                    const hasCalendar = !!hasCalendarEventExist(title, description);\n                    if (hasCalendar) {\n                        this.configReasonDialog({\n                            msg: res.msg,\n                            btnText: this.defaultReasonBtnText,\n                            handler: this.closeReasonDialog,\n                        });\n                    } else {\n                        this.configReasonDialog({\n                            msg: res.msg,\n                            btnText: '加入日历提醒，不错过提现',\n                            handler: () => {\n                                this.handleAddCalendar(title, description);\n                                this.closeReasonDialog();\n                            },\n                        });\n                    }\n                } else {\n                    this.configReasonDialog({\n                        msg: res.msg,\n                        btnText: this.defaultReasonBtnText,\n                        handler: this.closeReasonDialog,\n                    });\n                }\n                break;\n            case 24:\n                this.configReasonDialog({\n                    msg: res.msg,\n                    btnText: '绑定并兑换',\n                    handler: () => {\n                        this.closeReasonDialog();\n                        this.handleBindWechat(() => {\n                            this.withdrawHandler(this.handleWithdrawSuccess,\n                                this.handleWithdrawError);\n                        });\n                    },\n                });\n                break;\n            default:\n                this.configReasonDialog({\n                    msg: res.msg,\n                    btnText: this.defaultReasonBtnText,\n                    handler: this.closeReasonDialog,\n                });\n                break;\n            }\n        },\n        handleAddCalendar(title = '【想看】今天可提现1元零钱了，点击提现>>', description = '想看1元提现', mode = 'FREQ=DAILY;INTERVAL=1;COUNT=1', offsetDay = 1) {\n            const target = new Date();\n            target.setDate(target.getDate() + offsetDay);\n            target.setHours(7);\n            target.setMinutes(0);\n            target.setSeconds(0);\n            addCalendarEvent({\n                title,\n                description,\n                startTime: target.getTime(),\n                endTime: target.getTime() + 600000,\n                location: 'http://www.xiangkannews.cn/a?dLHost=goto&dLPath=newsTab&start_source=calendar',\n                mode,\n            });\n        },\n    },\n};\n</script>\n\n<style scoped>\n\n.withdraw-header-myprofit {\n    font: 15px/20px miui;\n    color: #333;\n}\n\n.withdraw-header-money {\n    font: 33px/25px miui;\n    color: #eb4940;\n}\n\n.withdraw-header-unit {\n    font: 17px/22px miui;\n    color: #333;\n}\n\n.withdraw__base .balance {\n    padding: 15px;\n}\n\n.withdraw__progress {\n    position: absolute;\n    right: 15px;\n    bottom: 15px;\n    font-size: 13px;\n    color: #0097ff;\n    text-decoration: underline;\n}\n\n.withdraw__label {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 16px 15px 10px 15px;\n}\n\n.withdraw__label_txt {\n    font-size: 15px;\n}\n\n.withdraw__btn {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: fixed;\n    bottom: 0;\n    width: 100%;\n    height: 73px;\n    padding: 0 30px;\n    background-color: #fff;\n    box-shadow: 0 0 23px 0 rgba(0, 0, 0, 0.1);\n}\n\n.withdraw__btn button.button {\n    width: 330px;\n    height: 47px;\n    font-size: 16px;\n    margin: 0;\n}\n\n.withdraw__hint {\n    padding: 0 15px;\n    margin-top: 11px;\n    font-size: 13px;\n    line-height: 17px;\n    color: #666;\n    text-align: left;\n}\n\n.withdraw__hint p {\n    margin-top: 5px;\n}\n\n.withdraw__hint p:first-child {\n    margin-bottom: 11px;\n    font-size: 15px;\n    color: #333;\n    line-height: 20px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PartnerWithdraw.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PartnerWithdraw.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PartnerWithdraw.vue?vue&type=template&id=784ecf34&scoped=true&\"\nimport script from \"./PartnerWithdraw.vue?vue&type=script&lang=js&\"\nexport * from \"./PartnerWithdraw.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PartnerWithdraw.vue?vue&type=style&index=0&id=784ecf34&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"784ecf34\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Balance.vue?vue&type=style&index=0&id=47c137f6&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Balance.vue?vue&type=style&index=0&id=47c137f6&scoped=true&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PartnerWithdraw.vue?vue&type=style&index=0&id=784ecf34&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PartnerWithdraw.vue?vue&type=style&index=0&id=784ecf34&scoped=true&lang=css&\"","import { format } from '../utils/time';\n\nexport function formatCash(value = 0) {\n    const num = Number(value);\n\n    if (num % 1 !== 0) return num;\n\n    return parseFloat(value / 100).toFixed(2);\n}\n\nexport function formatNumber(value = 0) {\n    return value.toString().replace(/(\\d)(?=(?:\\d{3})+$)/g, '$1,');\n}\n\nexport function formatLargeNumber(value = 0) {\n    const limit = 100000;\n    const divider = 10000;\n    let res;\n\n    if (value > limit) {\n        res = (value / divider).toFixed(2).slice(0, -1);\n        res = `${res}万`;\n    } else {\n        res = value.toLocaleString();\n    }\n\n    return res;\n}\n\nexport function formatDate(timestamp = 0) {\n    return new Date(timestamp).toLocaleString('zh', { hour12: false });\n}\n\nexport function formatTimeAgo(timestamp, limit = 'week') {\n    const array = ['minute', 'hour', 'day', 'week', 'month', 'year'];\n    const milliseconds = [\n        1000, // 1 * 1000\n        60000, // 60 * 1000,\n        3600000, // 60 * 60 * 1000,\n        86400000, // 24 * 60 * 60 * 1000,\n        604800000, // 7 * 24 * 60 * 60 * 1000,\n        2592000000, // 30 * 24 * 60 * 60 * 1000,\n        31104000000, // 12 * 30 * 24 * 60 * 60 * 1000,\n    ];\n    const text = ['秒前', '分钟前', '小时前', '天前', '周前', '月前', '年前'];\n    const durationMilliseconds = Date.now() - timestamp;\n\n    // 职责链模式\n    for (let i = 0, len = milliseconds.length; i < len; i += 1) {\n        if (i + 1 === len || durationMilliseconds <= milliseconds[i + 1]) {\n            const duration = Math.floor(durationMilliseconds / milliseconds[i]);\n\n            if (duration === 0) {\n                return '刚刚';\n            }\n            return duration + text[i];\n        }\n\n        if (limit === array[i]) {\n            return formatDate(timestamp);\n        }\n    }\n\n    return '刚刚';\n}\n\nexport function formatDay(timestamp = 0) {\n    const currentDay = new Date().getDate();\n    const date = new Date(timestamp);\n    const day = date.getDate();\n    const time = [date.getHours(), date.getMinutes(), date.getSeconds()]\n        .map(t => (t < 10 ? `0${t}` : t))\n        .join(':');\n\n    const diff = currentDay - day;\n\n    switch (diff) {\n    case 0:\n        return `今天 ${time}`;\n    case 1:\n        return `昨天 ${time}`;\n    case 2:\n        return `前天 ${time}`;\n    default:\n        return format(date);\n    }\n}\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WithdrawDialog.vue?vue&type=style&index=0&id=4bb353ad&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WithdrawDialog.vue?vue&type=style&index=0&id=4bb353ad&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.show)?_c('div',{staticClass:\"dialog\",on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.closeHandler($event, 'outside')}}},[_c('div',{staticClass:\"withdraw-dialog__content\"},[_c('div',{staticClass:\"withdraw-dialog__close\",on:{\"click\":_vm.closeHandler}}),_c('div',{staticClass:\"withdraw-dialog__inner\"},[(_vm.title)?_c('h1',[_vm._v(_vm._s(_vm.title))]):_vm._e(),_vm._t(\"default\",[_c('div',{staticClass:\"withdraw-dialog__msg\"},[_vm._t(\"msg\",_vm._l((_vm.msgs),function(msg){return _c('p',{key:msg,domProps:{\"innerHTML\":_vm._s(msg)}})}))],2),_c('Button',{attrs:{\"customStyle\":{\n                            width: '100%',\n                            height: '0.43rem',\n                            fontSize: '0.16rem',\n                            background: '#0EC217'\n                        }},on:{\"click\":_vm.clickHandler}},[_vm._v(_vm._s(_vm.btnText))])])],2)])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <transition name=\"fade\">\n        <div\n            v-if=\"show\"\n            class=\"dialog\"\n            @click.self=\"closeHandler($event, 'outside')\">\n            <div class=\"withdraw-dialog__content\">\n                <div\n                    @click=\"closeHandler\"\n                    class=\"withdraw-dialog__close\" />\n                <div class=\"withdraw-dialog__inner\">\n                    <h1 v-if=\"title\">{{ title }}</h1>\n                    <slot>\n                        <div class=\"withdraw-dialog__msg\">\n                            <slot name=\"msg\">\n                                <p\n                                    v-for=\"msg in msgs\"\n                                    :key=\"msg\"\n                                    v-html=\"msg\" />\n                            </slot>\n                        </div>\n                        <Button\n                            :customStyle=\"{\n                                width: '100%',\n                                height: '0.43rem',\n                                fontSize: '0.16rem',\n                                background: '#0EC217'\n                            }\"\n                            @click=\"clickHandler\">{{ btnText }}</Button>\n                    </slot>\n                </div>\n            </div>\n        </div>\n    </transition>\n</template>\n\n<script>\nimport Button from '@/components/Button';\n\nexport default {\n    name: 'Dialog',\n    components: {\n        Button,\n    },\n    props: {\n        show: {\n            type: Boolean,\n            default: false,\n        },\n        outsideClose: {\n            type: Boolean,\n            default: true,\n        },\n        title: {\n            type: String,\n            default: '',\n        },\n        msgs: {\n            type: Array,\n            default: () => ([]),\n        },\n        btnText: {\n            type: String,\n            default: '',\n        },\n        clickHandler: {\n            type: Function,\n            default: () => {},\n        },\n    },\n    methods: {\n        closeHandler(e, position) {\n            if (position === 'outside' && !this.outsideClose) return;\n\n            this.$emit('update:show', false);\n            this.$emit('close');\n        },\n    },\n};\n</script>\n\n<style scoped>\n.dialog {\n    position: absolute;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n    align-items: center;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.6);\n    z-index: 999;\n}\n\n.withdraw-dialog__content {\n    width: 100%;\n    background-color: #fff;\n    border-radius: 22px 22px 0 0;\n    z-index: 1000;\n}\n\n.withdraw-dialog__close {\n    width: 30px;\n    height: 30px;\n    margin: 7px 7px -7px auto;\n    background: url(./image/close.png) no-repeat;\n    background-size: 12px 12px;\n    background-position: center center;\n}\n\n.withdraw-dialog__inner {\n    margin: 0 30px 23px 30px;\n}\n\n.withdraw-dialog__inner h1 {\n    font-size: 18px;\n    font-weight: 600;\n    line-height: 25px;\n    text-align: center;\n    margin: 0 0 13px 0;\n}\n\n.withdraw-dialog__msg {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    font-size: 17px;\n    margin-bottom: 35px;\n}\n\n.withdraw-dialog__msg p {\n    text-align: center;\n    font-weight: 600;\n    line-height: 22px;\n}\n\n.withdraw-dialog__msg p >>> span {\n    color: #fbb212;\n}\n\n.fade-enter-active,\n.fade-leave-active {\n    transition: opacity 0.2s;\n}\n\n.fade-enter,\n.fade-leave-to {\n    opacity: 0;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WithdrawDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WithdrawDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WithdrawDialog.vue?vue&type=template&id=4bb353ad&scoped=true&\"\nimport script from \"./WithdrawDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./WithdrawDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./WithdrawDialog.vue?vue&type=style&index=0&id=4bb353ad&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4bb353ad\",\n  null\n  \n)\n\nexport default component.exports","// import axios from 'axios';\nimport request from './request';\n\nexport function getRegMethod(data) {\n    return (cb) => {\n        // instance.defaults.headers.post['Content-Type'] = 'application/json';\n        request.get('/api/v4/sec/captcha/register', data)\n            .then((res) => {\n                if (res.data.code === 0) {\n                    console.log('Register success!');\n                    if (typeof cb === 'function') {\n                        cb(res.data.data);\n                        window.miVerify.register = true;\n                    }\n                } else {\n                    console.log('Register callback error!');\n                    window.miVerify.register = false;\n                }\n            })\n            .catch((res) => {\n                console.log('Register request error!');\n                window.miVerify.register = false;\n                console.log(res);\n            });\n    };\n}\n\nexport function test() { }\n","import { getRegMethod } from '../api/miVerify';\n\n/**\n * https://wiki.n.miui.com/pages/viewpage.action?pageId=73330071\n *\n * @author 文桥 <wenqiao1@xiaomi.com>\n * @export\n * @param {Functuon} handler(verifyObj)\n */\nexport default function miVerify(data, handler, type) {\n    // 在页面加载完成后尽可能早的调用初始化方法，以搜集更多的信息，注意：对于一项验证只需初始化一次!!!\n    window.initMiverify(\n        {\n            // 和业务方后端约定的注册验证服务的API，http method默认为get。不满足需求的可以使用regMethod。\n            // registerApi: '/biz/register',\n            // 如果后端对请求格式有要求或http method为其他方式的，\n            // 可以传入自定义的注册函数，参数中传入返回格式化好的response的callback，\n            // 参见下面的regMethod示例。有此参数时就不用再传registerApi这个参数\n            regMethod: getRegMethod(data),\n            onSuccess: function onSuccess(token) { // 成功回调\n                console.log('Verify success!');\n                console.log(token);\n                // 4. 二次验证 start\n                // 此时成功只是客户端与人机验证平台获取了成功的结果\n                // 为避免作恶者篡改结果，还需要业务方 Server 与人机验证平台Server进行二次验证\n                // if (typeof onSuccessRequest === 'function') {\n                //     onSuccessRequest(token);\n                // }\n                window.miVerify[type].onSuccessRequest(token);\n                // 二次验证 end\n            },\n            // 交互验证关闭的回调，code标志不同情况\n            onClose: function onClose(code) {\n                console.log('Verifying close!');\n                // code 关闭原因：0 验证成功，1 用户手动关闭，2 eventId 过期，3 系统错误\n                console.log(code);\n                // if (typeof onCloseRequest === 'function') {\n                //     onCloseRequest(code);\n                // }\n                window.miVerify[type].onCloseRequest(code);\n            },\n        },\n        handler,\n    );\n}\n\nwindow.miVerify = {\n    taskTime: {},\n    withdraw: {},\n    partnerWithdraw: {},\n};\n// window.miVerify.taskTime.onSuccessRequest = () => {\n//     console.log('taskTime.onSuccessRequest');\n// };\n// window.miVerify.taskTime.onCloseRequest = () => {\n//     console.log('taskTime.onCloseRequest');\n// };\n\n// window.miVerify.withdraw.onSuccessRequest = () => {\n//     console.log('withdraw.onSuccessRequest');\n// };\n// window.miVerify.withdraw.onCloseRequest = () => {\n//     console.log('withdraw.onCloseRequest');\n// };\n\n// miVerify({ type: '时长任务' }, (verify) => {\n//     window.miVerify.taskTime.verify = verify;\n// }, window.miVerify.taskTime.onSuccessRequest, window.miVerify.taskTime.onCloseRequest);\n\n// miVerify({ type: '提现' }, (verify) => {\n//     window.miVerify.withdraw.verify = verify;\n// }, window.miVerify.withdraw.onSuccessRequest, window.miVerify.withdraw.onCloseRequest);\n","!function(t){var o={};function r(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=o,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(n,e){if(1&e&&(n=r(n)),8&e)return n;if(4&e&&\"object\"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,\"default\",{enumerable:!0,value:n}),2&e&&\"string\"!=typeof n)for(var o in n)r.d(t,o,function(e){return n[e]}.bind(null,o));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,\"a\",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p=\"\",r(r.s=74)}({74:function(e,n){function t(e,n){var t={};for(var o in n)o in t||(e[o]=n[o]);return e}function o(e){var n=e.url,t=void 0===n?\"\":n,o=e.type,r=void 0===o?\"js\":o,i=e.data,c=void 0===i?{}:i,a=e.timeout,u=void 0===a?6e4:a,f=e.success,d=void 0===f?function(){}:f,l=e.fail,s=void 0===l?function(e){throw e}:l,p=e.timeoutCb,y=void 0===p?function(e){throw e}:p;if(\"function\"!=typeof d)throw new Error(\"传入的success fn 错误\");if(\"function\"!=typeof s)throw new Error(\"传入的fail fn 错误\");if(\"function\"!=typeof y)throw new Error(\"传入的timeoutCb fn 错误\");var v=document.createElement(\"script\");v.loaded=!1;var m=document.head||document.getElementsByTagName(\"head\")[0],h=\"onload\"in v?\"onload\":\"onreadystatechange\",w=[];for(var b in c)w.push(\"\".concat(encodeURIComponent(b),\"=\").concat(encodeURIComponent(c[b])));if(\"jsonp\"===r){var j=parseInt(1e4*Math.random(),10)+(new Date).valueOf(),g=\"miVerify_\".concat(j);w.push(\"callback=miVerify_\".concat(j)),window[g]=function(e){v.loaded=!0,d(e)}}var E=t;0<w.length&&(E=\"\".concat(t,\"?\").concat(w.join(\"&\"))),m.appendChild(v),v.src=E,v[h]=function(){v.readyState&&\"loaded\"!==v.readyState&&\"complete\"!==v.readyState||\"js\"===r&&(v.loaded=!0,setTimeout(function(){d()},100))},v.onerror=function(){s(new Error(\"初始化人机服务失败\")),m.removeChild(v),v=null},setTimeout(function(){v&&!v.loaded&&(s(new Error(\"初始化人机服务超时\")),y())},u)}var r=[],i=null;window.initMiverify=function(e,n){if(!e)throw new Error(\"请传入人机识别配置\");if(\"function\"!=typeof n)throw new Error(\"请传入人机识别回调函数\");i?window.startMiverify(t(e,i),n):r.push({conf:e,handler:n})};o({url:\"https://verify.sec.xiaomi.com/captcha/config\",data:{type:1},type:\"jsonp\",success:function(e){o({url:\"https://static.verify.sec.xiaomi.com/js/\".concat(e.jsVersion,\"/miVerify.min.js\"),success:function(){i=e,r.forEach(function(e){window.startMiverify(t(e.conf,i),e.handler)})}})}})}});\n"],"sourceRoot":""}