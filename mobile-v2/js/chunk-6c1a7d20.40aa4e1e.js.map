{"version":3,"sources":["webpack:///./src/views/chat/share/index.vue?0765","webpack:///./src/api/chat.js","webpack:///src/views/chat/share/index.vue","webpack:///./src/views/chat/share/index.vue?54fb","webpack:///./src/views/chat/share/index.vue?6154","webpack:///./src/views/chat/share/index.vue?b6d0"],"names":["render","_vm","this","_h","$createElement","_c","_self","team","staticClass","on","$event","goAppChat","class","user","attrs","borderRadius","headIcon","_v","_s","nickname","_e","icon","teamName","memberNumber","redPackageNumber","staticRenderFns","getShareDetail","data","request","get","then","response","status","Promise","resolve","apiResError","reject","component"],"mappings":"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","file":"js/chunk-6c1a7d20.40aa4e1e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.team.teamId)?_c('div',{staticClass:\"container\",on:{\"click\":function($event){return _vm.goAppChat()}}},[_c('div',{staticClass:\"tip\"}),_c('div',{staticClass:\"package\"},[_c('div',{staticClass:\"user\"},[_c('ImageLoader',{class:['headIcon', 'gender', (\"gender-\" + (_vm.user.gender))],attrs:{\"c-style\":{\n                    borderRadius: '100%',\n                },\"src\":_vm.user.headIcon}}),_c('p',{staticClass:\"nickname\"},[_vm._v(_vm._s(_vm.user.nickname))])],1),_c('div',{staticClass:\"invation one-line-clamp\"},[(_vm.team.teamName)?_c('span',[_vm._v(\"看友“\"+_vm._s(_vm.user.nickname)+\"”邀请你加入\")]):_vm._e()]),_c('div',{staticClass:\"team\"},[_c('ImageLoader',{staticClass:\"team-icon\",attrs:{\"src\":_vm.team.icon}}),_c('div',{staticClass:\"team-info\"},[_c('p',{staticClass:\"team-name one-line-clamp\"},[_vm._v(_vm._s(_vm.team.teamName))]),_c('p',{staticClass:\"team-intro\"},[(_vm.team.memberNumber)?_c('span',[_vm._v(\"当前\"+_vm._s(_vm.team.memberNumber)+\"人 \")]):_vm._e(),(_vm.team.redPackageNumber)?_c('span',[_vm._v(\"昨日红包\"+_vm._s(_vm.team.redPackageNumber))]):_vm._e()])])],1),_c('div',{staticClass:\"package-btn scale-infinite\"})])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request, { apiResError } from './request';\n\n// https://wiki.n.miui.com/pages/viewpage.action?pageId=165232918#id-%E8%81%8A%E5%A4%A9%E5%AE%A4%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3-%E5%B0%8F%E5%88%86%E9%98%9F%E5%88%86%E4%BA%AB%E8%AF%A6%E6%83%85%E9%A1%B5\nexport function getShareDetail(data = {}) {\n    return request.get('/api/v4/chat/share/detail', data)\n        .then((response) => {\n            if (response.data.status === 200) {\n                return Promise.resolve(response.data.data);\n            }\n\n            apiResError(response);\n\n            return Promise.reject(response.data.data);\n        });\n}\n\nexport const _ = '';\n","<template>\n    <div\n        v-if=\"team.teamId\"\n        @click=\"goAppChat()\"\n        class='container'>\n        <div class='tip' />\n        <div class=\"package\">\n            <div class='user'>\n                <ImageLoader\n                    :c-style=\"{\n                        borderRadius: '100%',\n                    }\"\n                    :class=\"['headIcon', 'gender', `gender-${user.gender}`]\"\n                    :src='user.headIcon' />\n                <p class='nickname'>{{ user.nickname }}</p>\n            </div>\n            <div class='invation one-line-clamp'>\n                <span v-if='team.teamName'>看友“{{ user.nickname }}”邀请你加入</span>\n            </div>\n            <div class='team'>\n                <ImageLoader\n                    class='team-icon'\n                    :src='team.icon' />\n                <div class=\"team-info\">\n                    <p class='team-name one-line-clamp'>{{ team.teamName }}</p>\n                    <p class='team-intro'>\n                        <span v-if='team.memberNumber'>当前{{ team.memberNumber }}人 </span>\n                        <span v-if='team.redPackageNumber'>昨日红包{{ team.redPackageNumber }}</span>\n                    </p>\n                </div>\n            </div>\n            <div class=\"package-btn scale-infinite\" />\n        </div>\n    </div>\n</template>\n\n<script>\nimport { getShareDetail } from '@/api/chat';\nimport ImageLoader from '@/components/ImageLoader';\nimport config from '@/config';\nimport { goApp, setShareInfo } from '@/utils/share';\nimport { copy } from '@/utils/string';\n\nexport default {\n    name: 'Share',\n    components: {\n        ImageLoader,\n    },\n    methods: {\n        goAppChat() {\n            this.copyTeamInfo();\n\n            const callback = () => {\n                goApp(`bikan://web.tab/newsTab?groupId=${this.team.teamId}`);\n            };\n\n            this.$o2o({\n                e_c: '小分队邀请',\n                e_a: '点击',\n                e_n: '小分队邀请页面点击',\n                e_x: {\n                    teamId: this.team.teamId,\n                    sharedBy: this.$route.query.sharedBy,\n                },\n            }, callback, callback);\n        },\n        copyTeamInfo() {\n            if (this.team.teamId && this.invitationCode) {\n                const pasteString = JSON.stringify({\n                    type: 'team',\n                    teamId: this.$route.query.teamId,\n                    invitationCode: this.invitationCode,\n                    sharedBy: this.$route.query.sharedBy,\n                });\n\n                copy(pasteString);\n            }\n        },\n    },\n    data() {\n        return {\n            invitationCode: '',\n            user: {\n                headIcon: config.default.userIcon,\n                nickname: '',\n                gender: 0,\n            },\n            team: {\n                teamId: 0,\n                teamName: '',\n                icon: 'https://ts.market.mi-img.com/download/Browser/0b26254d06dac47c330937438265b8ddb66c4c6fc/team.png',\n                memberNumber: 0,\n                redPackageNumber: 0,\n            },\n        };\n    },\n    created() {\n        window.document.title = '想看资讯-加入小分队领红包';\n\n        getShareDetail({\n            sharedBy: this.$route.query.sharedBy,\n            teamId: this.$route.query.teamId,\n        }).then((res) => {\n            this.user = {\n                headIcon: (res.userInfo && res.userInfo.headIcon) || config.default.userIcon,\n                nickname: (res.userInfo && res.userInfo.nickname) || '',\n                gender: (res.userInfo && res.userInfo.gender) || -1,\n            };\n            this.team = {\n                teamId: (res.teamInfo && res.teamInfo.teamId) || 0,\n                teamName: (res.teamInfo && res.teamInfo.teamName) || '',\n                icon: (res.teamInfo && res.teamInfo.icon) || 'https://ts.market.mi-img.com/download/Browser/0b26254d06dac47c330937438265b8ddb66c4c6fc/team.png',\n                memberNumber: (res.teamInfo && res.teamInfo.memberNumber) || 0,\n                redPackageNumber: (res.teamInfo && res.teamInfo.redPackageNumber) || 0,\n            };\n            this.invitationCode = res.invitationCode;\n\n            this.$root.hidePlaceholder();\n\n            const shareInfo = {\n                title: '想看-加入小分队领红包',\n                summary: `看友“${res.userInfo.nickname}”邀请你加入${res.teamInfo.teamName}小分队`,\n                pic: res.teamInfo.icon,\n                url: window.location.href,\n            };\n            setShareInfo(shareInfo);\n\n            this.$o2o({\n                e_c: '小分队邀请',\n                e_a: '曝光',\n                e_n: '小分队邀请页面曝光',\n                e_x: {\n                    teamId: this.team.teamId,\n                    sharedBy: this.$route.query.sharedBy,\n                },\n            });\n        }).catch(() => {\n            this.$root.hidePlaceholder();\n            this.$error();\n        });\n    },\n};\n</script>\n\n<style scoped>\n.container {\n    height: 100%;\n    width: 100%;\n    background: rgba(255, 255, 255, 1);\n    font-size: 14px;\n    background-image: url(./image/bg.png);\n    background-size: 100% 100%;\n}\n\n.tip {\n    background-image: url(./image/tip.png);\n    background-size: 100% 100%;\n    height: 82px;\n    width: 300px;\n    margin: 0 auto;\n    position: relative;\n    top: 24px;\n}\n\n.package {\n    background-image: url(./image/package.png);\n    background-size: 100% 100%;\n    height: 413px;\n    width: 100%;\n    margin: 0 auto;\n    position: absolute;\n    bottom: 42px;\n}\n\n.package-btn {\n    background-image: url(./image/package-btn.png);\n    background-size: 100% 100%;\n    height: 73px;\n    width: 275px;\n    position: absolute;\n    margin-left: -137.5px;\n    left: 50%;\n    bottom: 20px;\n}\n\n.user .headIcon {\n    height: 70px;\n    width: 70px;\n    margin: 0 auto;\n    border: 5px solid #fff;\n    border-radius: 100%;\n    position: relative;\n    top: -5px;\n}\n\n.gender::after {\n    position: absolute;\n    content: \"\";\n    height: 16px;\n    width: 16px;\n    bottom: 0;\n    right: 0;\n    background-size: 100% 100%;\n    background-repeat: no-repeat;\n}\n\n.gender-0::after {\n    background-image: url(./image/0.png);\n}\n\n.gender-1::after {\n    background-image: url(./image/1.png);\n}\n\n.nickname {\n    text-align: center;\n    color: rgba(0, 0, 0, 1);\n    font-size: 15px;\n    line-height: 20px;\n    margin-top: 5px;\n}\n\n.invation {\n    color: rgba(235, 73, 64, 1);\n    padding: 0 48px;\n    font-size: 16px;\n    line-height: 20px;\n    min-height: 20px;\n    max-height: 20px;\n    font-weight: 600;\n    margin-top: 24px;\n    text-align: center;\n}\n\n.team {\n    width: 240px;\n    height: 74px;\n    margin: 15px auto;\n    padding: 12px 20px;\n    background-color: rgba(255, 248, 221, 1);\n    border-radius: 5px;\n}\n\n.team .team-icon {\n    height: 50px;\n    width: 50px;\n    margin-right: 10px;\n    float: left;\n}\n\n.team-name {\n    color: rgba(0, 0, 0, 1);\n    font-size: 16px;\n    line-height: 21px;\n    margin-bottom: 7px;\n}\n\n.team-info {\n    height: 50px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: flex-start;\n}\n\n.team-intro {\n    color: rgba(0, 0, 0, 0.4);\n    font-size: 12px;\n    line-height: 16px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=39fd4704&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=39fd4704&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"39fd4704\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=39fd4704&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=39fd4704&scoped=true&lang=css&\""],"sourceRoot":""}