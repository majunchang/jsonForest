{"version":3,"file":"fmonitor-0.1.2.min.js","sources":["../node_modules/lodash.merge/index.js","../node_modules/lodash.get/index.js","../node_modules/js-cookie/src/js.cookie.js","../src/config/index.js","../src/utils/uuid.js","../src/logger/body.js","../src/utils/string.js","../src/utils/function.js","../src/logger/ping.js","../src/utils/img.js","../src/utils/location.js","../src/utils/window.js","../src/plugins/hash-change-tracker.js","../src/method-chain.js","../src/plugins/url-change-tracker.js","../src/plugins/page-visibility-tracker.js","../src/utils/url.js","../src/logger/modules/api.js","../src/logger/modules/performance.js","../src/logger/index.js","../src/logger/modules/page.js","../src/index.js","../src/config/app.default.js"],"sourcesContent":["/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright JS Foundation and other contributors <https://js.foundation/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Gets the value at `key`, unless `key` is \"__proto__\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  return key == '__proto__'\n    ? undefined\n    : object[key];\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n    getPrototype = overArg(Object.getPrototypeOf, Object),\n    objectCreate = Object.create,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeMax = Math.max,\n    nativeNow = Date.now;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map'),\n    nativeCreate = getNative(Object, 'create');\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    if (isObject(srcValue)) {\n      stack || (stack = new Stack);\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || (srcIndex && isFunction(objValue))) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\n/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable string keyed properties of source objects into the\n * destination object. Source properties that resolve to `undefined` are\n * skipped if a destination value exists. Array and plain object properties\n * are merged recursively. Other objects and value types are overridden by\n * assignment. Source objects are applied from left to right. Subsequent\n * sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = {\n *   'a': [{ 'b': 2 }, { 'd': 4 }]\n * };\n *\n * var other = {\n *   'a': [{ 'c': 3 }, { 'e': 5 }]\n * };\n *\n * _.merge(object, other);\n * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n */\nvar merge = createAssigner(function(object, source, srcIndex) {\n  baseMerge(object, source, srcIndex);\n});\n\n/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\n/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = merge;\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    symbolTag = '[object Symbol]';\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/,\n    reLeadingDot = /^\\./,\n    rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Symbol = root.Symbol,\n    splice = arrayProto.splice;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = isKey(path, object) ? [path] : castPath(path);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value) {\n  return isArray(value) ? value : stringToPath(value);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoize(function(string) {\n  string = toString(string);\n\n  var result = [];\n  if (reLeadingDot.test(string)) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, string) {\n    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result);\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Assign cache to `_.memoize`.\nmemoize.Cache = MapCache;\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","/*!\n * JavaScript Cookie v2.2.0\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader = false;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api (key, value, attributes) {\n\t\t\tvar result;\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Write\n\n\t\t\tif (arguments.length > 1) {\n\t\t\t\tattributes = extend({\n\t\t\t\t\tpath: '/'\n\t\t\t\t}, api.defaults, attributes);\n\n\t\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\t\tvar expires = new Date();\n\t\t\t\t\texpires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\n\t\t\t\t\tattributes.expires = expires;\n\t\t\t\t}\n\n\t\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\t\ttry {\n\t\t\t\t\tresult = JSON.stringify(value);\n\t\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\t\tvalue = result;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\n\t\t\t\tif (!converter.write) {\n\t\t\t\t\tvalue = encodeURIComponent(String(value))\n\t\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\t\t\t\t} else {\n\t\t\t\t\tvalue = converter.write(value, key);\n\t\t\t\t}\n\n\t\t\t\tkey = encodeURIComponent(String(key));\n\t\t\t\tkey = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\n\t\t\t\tkey = key.replace(/[\\(\\)]/g, escape);\n\n\t\t\t\tvar stringifiedAttributes = '';\n\n\t\t\t\tfor (var attributeName in attributes) {\n\t\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName];\n\t\t\t\t}\n\t\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t\t}\n\n\t\t\t// Read\n\n\t\t\tif (!key) {\n\t\t\t\tresult = {};\n\t\t\t}\n\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all. Also prevents odd result when\n\t\t\t// calling \"get()\"\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar rdecode = /(%[0-9A-Z]{2})+/g;\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!this.json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = parts[0].replace(rdecode, decodeURIComponent);\n\t\t\t\t\tcookie = converter.read ?\n\t\t\t\t\t\tconverter.read(cookie, name) : converter(cookie, name) ||\n\t\t\t\t\t\tcookie.replace(rdecode, decodeURIComponent);\n\n\t\t\t\t\tif (this.json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tresult = cookie;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!key) {\n\t\t\t\t\t\tresult[name] = cookie;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\tapi.set = api;\n\t\tapi.get = function (key) {\n\t\t\treturn api.call(api, key);\n\t\t};\n\t\tapi.getJSON = function () {\n\t\t\treturn api.apply({\n\t\t\t\tjson: true\n\t\t\t}, [].slice.call(arguments));\n\t\t};\n\t\tapi.defaults = {};\n\n\t\tapi.remove = function (key, attributes) {\n\t\t\tapi(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n","/**\n * @file mfm 配置\n */\n\nconst config = {\n  prefix: '_mfm_',\n  session: {\n    expires: 30 * 60 * 1000 // 30 min\n  }\n};\n\nexport default config;\n","/**\n * @file uuid 工具方法\n */\n\nexport function $uuid() {\n  return String(Math.round(2147483647 * Math.random()));\n}\n\nexport function uuid() {\n  try {\n    // 优先使用 crypto API 来生成 uuid\n    const u32a = new Uint32Array(1);\n    window.crypto.getRandomValues(u32a);\n\n    return String(u32a[0] & 2147483647); // eslint-disable-line\n  } catch (b) {\n    return $uuid();\n  }\n}\n","/**\n * @file logger body\n */\nimport cookie from 'js-cookie';\nimport LMerge from 'lodash.merge';\nimport config from '../config';\nimport * as uuid from '../utils/uuid';\n\nfunction getLoogerBodyItem(key, defaultValue, expires) {\n  const currentCookie = cookie.get(`${config.prefix}${key}`);\n\n  if (currentCookie) {\n    return currentCookie;\n  }\n\n  cookie.set(`${config.prefix}${key}`, defaultValue, {\n    expires: new Date(Date.now() + expires),\n    path: '/'\n  });\n\n  return defaultValue;\n}\n\nfunction setLoogerBodyItem(key, value) {\n  if (!value) {\n    return false;\n  }\n\n  cookie.set(`${config.prefix}${key}`, value);\n\n  return value;\n}\n\nexport default class LoggerBody {\n  constructor(appConfig, loggerBody = {}) {\n    this.appConfig = appConfig;\n    this.$set(appConfig, loggerBody);\n  }\n\n  /**\n   * 设置通用的 Logger 参数，每次刷新页面只调用一次\n   *\n   * @param {Logger} data\n   */\n  $set(appConfig, data = {}) {\n    const cookieBody = {\n      imei: uuid.uuid(),\n      uid: uuid.uuid(),\n      did: uuid.uuid(),\n      isLog: Number(Math.ceil(Math.random() * 100) <= this.appConfig.sampleRate),\n      isSpeedLog: Number(Math.ceil(Math.random() * 100) <= this.appConfig.siteSpeedSampleRate)\n    };\n    const body = {\n      appVersion: window.navigator.appVersion,\n      appName: window.navigator.appName,\n      appid: this.appConfig.appid,\n      appname: this.appConfig.appname\n    };\n    const cookieBodyKeys = Object.keys(cookieBody);\n    const bodyKeys = Object.keys(body);\n\n    for (let cbkey of cookieBodyKeys) { // eslint-disable-line\n      this[cbkey] = getLoogerBodyItem(cbkey, data[cbkey] || cookieBody[cbkey], appConfig.expires);\n    }\n\n    for (let bkey of bodyKeys) { // eslint-disable-line\n      this[bkey] = data[bkey] || body[bkey];\n    }\n\n    // set sessionId\n    LoggerBody.$setSessionId();\n  }\n\n  get(data = {}) {\n    const body = {\n      imei: this.imei,\n      uid: this.uid,\n      did: this.did,\n      appVersion: this.appVersion,\n      appName: this.appName,\n      appid: this.appid,\n      appname: this.appname,\n\n      network: window.navigator.connection && window.navigator.connection.effectiveType,\n      userAgent: window.navigator.userAgent\n    };\n\n    body.sessionId = LoggerBody.$getSessionId();\n\n    // merge data to logger body\n    const nextBody = LMerge({}, body, data);\n\n    // URL 过滤，再加工；id 等用 * 打码处理\n    if (nextBody.url) {\n      nextBody.url = this.appConfig.parseUrl(nextBody.url);\n    }\n\n    // 将 URL 解析为对应的页面名称\n    if (nextBody.title) {\n      nextBody.title = this.appConfig.parseTitle(nextBody.url);\n    }\n\n    return nextBody;\n  }\n\n  getIsLog() {\n    return Boolean(Number(this.isLog));\n  }\n\n  getIsSpeedLog() {\n    return Boolean(Number(this.isSpeedLog));\n  }\n\n  static $setSessionId() {\n    const sessionId = uuid.uuid();\n    cookie.set(`${config.prefix}sessionId`, sessionId, { expires: new Date(Date.now() + config.session.expires) });\n\n    return sessionId;\n  }\n\n  static $getSessionId() {\n    const sessionId = cookie.get(`${config.prefix}sessionId`);\n    // 判断 sessionId 是否过期，如果过期重新生成\n    // OPTIMIZE: 现在使用 cookie 后期可以考虑使用 localStorage 优化\n    if (sessionId) {\n      return sessionId;\n    }\n\n    return LoggerBody.$setSessionId();\n  }\n\n  /**\n   * 手动更新通用的 Logger 参数；imei, uid 等\n   *\n   * @param {Logger} data\n   */\n  update(data) {\n    const dkeys = Object.key(data);\n\n    for (let dkey of dkeys) { // eslint-disable-line\n      if (this[dkey]) {\n        this[dkey] = setLoogerBodyItem(dkey, data[dkey]);\n      }\n    }\n  }\n\n  /**\n   * 获取 logger body 的数据\n   *\n   * @return {Object} logger Logger 的实例，logger.parameters 是一个 String\n   */\n  getBody(data = {}) {\n    const body = Object.assign({}, this.get(data));\n\n    return body;\n  }\n}\n","/**\n * @file string 工具方法\n */\n\nexport function params(data) {\n  return Object.keys(data).map(key => `${encodeURIComponent(key)}=${encodeURIComponent(data[key])}`).join('&');\n}\n\nexport function test() {}\n","export function noop() {}\n\nexport function test() { }\n","/**\n * @file 日志发送器\n *\n * 目前发送器不会自动重试，业务逻辑如果需要使用请自行实现；后续评估是否加入自动重试机制\n */\nimport * as img from '../utils/img';\nimport * as string from '../utils/string';\nimport * as uuid from '../utils/uuid';\nimport { noop } from '../utils/function';\n\nfunction imgPing(imgUrl, data, url, callback = noop) {\n  const src = imgUrl;\n  const id = uuid.uuid();\n  const key = `${id}_IMGPING_MFM`;\n  const imgCallback = () => {\n    window[key] = null;\n    callback(true, data, url);\n  };\n\n  window[key] = img.create(src);\n  window[key].onload = imgCallback;\n  window[key].onerror = imgCallback;\n\n  return true;\n}\n\nfunction xhrPing(data, url, callback = noop) { // NOTE: 服务端需要支持跨域\n  let xhr = new window.XMLHttpRequest();\n\n  if (!xhr) {\n    return callback(false, data, url);\n  }\n\n  xhr.open('POST', url, true);\n  // xhr.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\n  // xhr.setRequestHeader('Content-Type', 'text/plain;charset=UTF-8');\n  xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded;charset=UTF-8');\n  xhr.onreadystatechange = () => {\n    if (xhr.readyState === 4) {\n      callback(true, data, url);\n      xhr = null;\n    } else {\n      callback(false, data, url);\n    }\n  };\n\n  xhr.send(string.params(data));\n  return true;\n}\n\nfunction beaconPing(data, url, callback = noop) {\n  const headers = { type: 'application/x-www-form-urlencoded;charset=UTF-8' };\n  const blob = new window.Blob([string.params(data)], headers);\n\n  const isSend = window.navigator.sendBeacon(\n    url,\n    blob\n  );\n\n  callback(isSend, data, url);\n  return isSend;\n}\n\nfunction smartPost(data, url, callback = noop) {\n  if (window.navigator.sendBeacon) {\n    return beaconPing(data, url, callback);\n  }\n\n  return xhrPing(data, url, callback);\n}\n\n// https://gist.github.com/zmmbreeze/ddb4b3a619187b923dc2c009b4323a42#file-analytics-js-L317\n// NOTE: 接口需要同时支持 get 和 post 接口；content-type: application/x-www-form-urlencoded\nfunction smartGet(data, url, callback = noop) {\n  // if content maximum HTTP GET allowed length, use smartPost\n  // if content maximum HTTP POST allowed length, no send\n  const query = string.params(data);\n  const imgUrl = `${url}?${query}`;\n\n  if (query.length <= 2036) {\n    return imgPing(imgUrl, data, url, callback);\n  }\n\n  return smartPost(data, url, callback);\n}\n\n/**\n * mfm.logger.get 方法，日志发送器 get 请求\n *\n * @author 郭俊鳞 <guojunlin1@xiaomi.com>\n * @author 文桥 <wenqiao1@xiaomi.com>\n * @export\n * @param {*} data\n * @param {String} url 请求地址\n * @param {Function} [callback=noop] 回调函数，callback(isSend:Boolean, data:<Any>, url:String)\n * @returns\n */\nexport function get(data, url, callback = noop, length = 0) {\n  return smartGet(data, url, callback, length);\n}\n\n/**\n * mfm.logger.post 方法，日志发送器 post 请求\n *\n * @author 郭俊鳞 <guojunlin1@xiaomi.com>\n * @author 文桥 <wenqiao1@xiaomi.com>\n * @export\n * @param {*} data\n * @param {String} url 请求地址\n * @param {Function} [callback=noop] 回调函数，callback(isSend:Boolean, data:<Any>, url:String)\n * @returns\n */\nexport function post(data, url, callback = noop) {\n  return smartPost(data, url, callback);\n}\n","/**\n * @file img 工具方法\n */\n\nexport function create(src) {\n  const $img = window.document.createElement('img');\n\n  $img.width = 1;\n  $img.height = 1;\n  $img.src = src;\n\n  return $img;\n}\n\nexport function test() {}\n","/**\n * @return {string} The path value of the current URL.\n */\nexport function getPath() {\n  return window.location.pathname + window.location.search + window.location.hash;\n}\n\nexport function test() {}\n","export function getVisibilityState() {\n  const map = {\n    hidden: 1,\n    VISIBLE: 0\n  };\n\n  return map[window.document.visibilityState] || 0;\n}\n\nexport function test() {}\n","/**\n * @file hash 变化监听\n */\nimport { getPath } from '../utils/location';\nimport * as win from '../utils/window';\n\nfunction onhashchangePolyfill() {\n  (function (window) { // eslint-disable-line\n    // exit if the browser implements that event\n    if ('onhashchange' in window) {\n      return;\n    }\n\n    const { location } = window.location;\n    let oldURL = location.href;\n    let oldHash = location.hash;\n\n    // check the location hash on a 100ms interval\n    window.setInterval(function () { // eslint-disable-line\n      const newURL = location.href;\n      const newHash = location.hash;\n\n      // if the hash has changed and a handler has been bound...\n      if (newHash !== oldHash && typeof window.onhashchange === 'function') {\n        // execute the handler\n        window.onhashchange({\n          type: 'hashchange',\n          oldURL,\n          newURL\n        });\n\n        oldURL = newURL;\n        oldHash = newHash;\n      }\n    }, 100);\n  })(window);\n}\n\n/**\n * Class for the `urlChangeTracker` plugin.\n */\nexport default class HashChangeTracker {\n  /**\n   * Adds handler for the history API methods\n   * @param {!Tracker} tracker Passed internally by analytics.js\n   * @param {?Object} opts Passed by the require command.\n   */\n  constructor(opts) {\n    onhashchangePolyfill();\n\n    // Feature detects to prevent errors in unsupporting browsers.\n    if (!window.addEventListener) {\n      throw new Error('use addEventListener in unsupporting browsers');\n    }\n\n    /** @type {UrlChangeTrackerOpts} */\n    const defaultOpts = {\n      shouldTrackHashChange: this.shouldTrackHashChange\n    };\n\n    this.opts = Object.assign(defaultOpts, opts);\n    this.trackerQeueu = [];\n\n    // Sets the initial page field.\n    // Don't set this on the tracker yet so campaign data can be retreived\n    // from the location field.\n    this.path = getPath();\n\n    window.addEventListener('hashchange', this.handleHashChange, false);\n  }\n\n  addTracker(trackerFun, context = null) {\n    this.trackerQeueu.push({\n      tracker: trackerFun,\n      context\n    });\n  }\n\n  tracker(data) {\n    this.trackerQeueu.forEach((item) => {\n      item.tracker.call(item.context, data);\n    });\n  }\n\n  /**\n   * Updates the page and title fields on the tracker and sends a pageview\n   * if a new history entry was created.\n   */\n  handleHashChange() {\n    const timestamp = Date.now();\n\n    // Calls the update logic asychronously to help ensure that app logic\n    // responding to the HASH change happens prior to this.\n    setTimeout(() => {\n      const oldPath = this.path;\n      const newPath = getPath();\n\n      if (oldPath !== newPath\n        && this.opts.shouldTrackUrlChange.call(this, newPath, oldPath)) {\n        this.path = newPath;\n\n        const log = {\n          body: {\n            timestamp,\n            type: 'pv',\n            url: window.location.href,\n            hostname: window.location.hostname,\n            pathname: window.location.pathname,\n            title: window.document.title,\n            referer: window.document.referrer,\n            visibility: win.getVisibilityState()\n          }\n        };\n\n        // 当 hash 变化时发送所有 tracker\n        this.tracker(log);\n      }\n    }, 0);\n  }\n\n  /**\n   * Determines whether or not the tracker should send a hit with the new page\n   * data. This default implementation can be overrided in the config options.\n   * @param {string} newPath The path after the URL change.\n   * @param {string} oldPath The path prior to the URL change.\n   * @return {boolean} Whether or not the URL change should be tracked.\n   */\n  shouldTrackHashChange(newPath, oldPath) { // eslint-disable-line\n    return !!(newPath && oldPath);\n  }\n}\n","/**\n * @fileoverview\n * The functions exported by this module make it easier (and safer) to override\n * foreign object methods (in a modular way) and respond to or modify their\n * invocation. The primary feature is the ability to override a method without\n * worrying if it's already been overridden somewhere else in the codebase. It\n * also allows for safe restoring of an overridden method by only fully\n * restoring a method once all overrides have been removed.\n *\n * 这个模块暴露出一个函数，使用它可以更简单更安全的（使用模块化的方式）去复写原生对象的方法，可以回应或修改它们的调用。\n * 这个特性的主要功能是复写一个方法而不用担心它是否已经被代码库中的其他地方覆盖了。\n * 它也允许安全的去恢复一个被复写的方法，通过一次移除所有被复写的内容。\n */\n\nconst instances = [];\n\n/**\n * Gets a MethodChain instance for the passed object and method. If the method\n * has already been wrapped via an existing MethodChain instance, that\n * instance is returned.\n *\n * 获取传递的对象和方法的MethodChain实例。如果方法已经被包装，也就是存在 MethodChain 实例，直接返回它。\n *\n * @param {!Object} context The object containing the method.\n * @param {string} methodName The name of the method on the object.\n * @return {!MethodChain}\n */\nfunction getOrCreateMethodChain(context, methodName) {\n  let methodChain = instances\n    .filter(h => h.context == context && h.methodName == methodName)[0]; // eslint-disable-line\n\n  if (!methodChain) {\n    methodChain = new MethodChain(context, methodName);  // eslint-disable-line\n    instances.push(methodChain);\n  }\n  return methodChain;\n}\n\n/**\n * A class that wraps a foreign object method and emit events before and\n * after the original method is called.\n */\nexport default class MethodChain {\n  /**\n   * Adds the passed override method to the list of method chain overrides.\n   * @param {!Object} context The object containing the method to chain.\n   * @param {string} methodName The name of the method on the object.\n   * @param {!Function} methodOverride The override method to add.\n   */\n  static add(context, methodName, methodOverride) {\n    getOrCreateMethodChain(context, methodName).add(methodOverride);\n  }\n\n  /**\n   * Removes a method chain added via `add()`. If the override is the\n   * only override added, the original method is restored.\n   * @param {!Object} context The object containing the method to unchain.\n   * @param {string} methodName The name of the method on the object.\n   * @param {!Function} methodOverride The override method to remove.\n   */\n  static remove(context, methodName, methodOverride) {\n    getOrCreateMethodChain(context, methodName).remove(methodOverride);\n  }\n\n  /**\n  * Wraps a foreign object method and overrides it. Also stores a reference\n  * to the original method so it can be restored later.\n  * @param {!Object} context The object containing the method.\n  * @param {string} methodName The name of the method on the object.\n  */\n  constructor(context, methodName) {\n    this.context = context;\n    this.methodName = methodName;\n    this.originalMethodReference = context[methodName];\n    this.methodChain = [];\n    this.boundMethodChain = [];\n\n    // Wraps the original method.\n    this.wrappedMethod = (...args) => {\n      const lastBoundMethod = this.boundMethodChain[this.boundMethodChain.length - 1];\n\n      return lastBoundMethod(...args);\n    };\n\n    // Override original method with the wrapped one.\n    context[methodName] = this.wrappedMethod; // eslint-disable-line\n  }\n\n  /**\n   * Adds a method to the method chain.\n   * @param {!Function} overrideMethod The override method to add.\n   */\n  add(overrideMethod) {\n    this.methodChain.push(overrideMethod);\n    this.rebindMethodChain();\n  }\n\n  /**\n   * Removes a method from the method chain and restores the prior order.\n   * @param {!Function} overrideMethod The override method to remove.\n   */\n  remove(overrideMethod) {\n    const index = this.methodChain.indexOf(overrideMethod);\n    if (index > -1) {\n      this.methodChain.splice(index, 1);\n      if (this.methodChain.length > 0) {\n        this.rebindMethodChain();\n      } else {\n        this.destroy();\n      }\n    }\n  }\n\n  /**\n   * Loops through the method chain array and recreates the bound method\n   * chain array. This is necessary any time a method is added or removed\n   * to ensure proper original method context and order.\n   */\n  rebindMethodChain() {\n    this.boundMethodChain = [];\n\n    for (let method, i = 0; method = this.methodChain[i]; i++) { // eslint-disable-line\n      const previousMethod = this.boundMethodChain[i - 1]\n        || this.originalMethodReference.bind(this.context);\n\n      this.boundMethodChain.push(method(previousMethod));\n    }\n  }\n\n  /**\n   * Calls super and destroys the instance if no registered handlers remain.\n   */\n  destroy() {\n    const index = instances.indexOf(this);\n    if (index > -1) {\n      instances.splice(index, 1);\n      this.context[this.methodName] = this.originalMethodReference;\n    }\n  }\n}\n","/**\n * @file url 变化监听\n */\n\nimport MethodChain from '../method-chain';\nimport { getPath } from '../utils/location';\nimport * as win from '../utils/window';\n\n/**\n * Class for the `urlChangeTracker` plugin.\n */\nexport default class UrlChangeTracker {\n  /**\n   * Adds handler for the history API methods\n   * @param {!Tracker} tracker Passed internally by analytics.js\n   * @param {?Object} opts Passed by the require command.\n   */\n  constructor(opts) {\n    // Feature detects to prevent errors in unsupporting browsers.\n    if (!window.history.pushState || !window.addEventListener) return;\n\n    /** @type {UrlChangeTrackerOpts} */\n    const defaultOpts = {\n      shouldTrackUrlChange: UrlChangeTracker.shouldTrackUrlChange,\n      trackReplaceState: true\n    };\n\n    this.opts = Object.assign(defaultOpts, opts);\n    // Sets the initial page field.\n    // Don't set this on the tracker yet so campaign data can be retreived\n    // from the location field.\n    this.path = getPath();\n    this.trackerQeueu = [];\n\n    // Binds methods.\n    this.pushStateOverride = this.pushStateOverride.bind(this);\n    this.replaceStateOverride = this.replaceStateOverride.bind(this);\n    this.handlePopState = this.handlePopState.bind(this);\n\n    // Watches for history changes.\n    MethodChain.add(window.history, 'pushState', this.pushStateOverride);\n    MethodChain.add(window.history, 'replaceState', this.replaceStateOverride);\n    window.addEventListener('popstate', this.handlePopState);\n  }\n\n  addTracker(trackerFun, context = null) {\n    this.trackerQeueu.push({\n      tracker: trackerFun,\n      context\n    });\n  }\n\n  tracker(data) {\n    this.trackerQeueu.forEach((item) => {\n      item.tracker.call(item.context, data);\n    });\n  }\n\n  /**\n   * Handles invocations of the native `history.pushState` and calls\n   * `handleUrlChange()` indicating that the history updated.\n   * @param {!Function} originalMethod A reference to the overridden method.\n   * @return {!Function}\n   */\n  pushStateOverride(originalMethod) {\n    return (...args) => {\n      originalMethod(...args);\n      this.handleUrlChange(true);\n    };\n  }\n\n  /**\n   * Handles invocations of the native `history.replaceState` and calls\n   * `handleUrlChange()` indicating that history was replaced.\n   * @param {!Function} originalMethod A reference to the overridden method.\n   * @return {!Function}\n   */\n  replaceStateOverride(originalMethod) {\n    return (...args) => {\n      originalMethod(...args);\n      this.handleUrlChange(false);\n    };\n  }\n\n  /**\n   * Handles responding to the popstate event and calls\n   * `handleUrlChange()` indicating that history was updated.\n   */\n  handlePopState() {\n    this.handleUrlChange(true);\n  }\n\n  /**\n   * Updates the page and title fields on the tracker and sends a pageview\n   * if a new history entry was created.\n   * @param {boolean} historyDidUpdate True if the history was changed via\n   *     `pushState()` or the `popstate` event. False if the history was just\n   *     modified via `replaceState()`.\n   */\n  handleUrlChange(historyDidUpdate) {\n    const timestamp = Date.now();\n    // Calls the update logic asychronously to help ensure that app logic\n    // responding to the URL change happens prior to this.\n    setTimeout(() => {\n      const oldPath = this.path;\n      const newPath = getPath();\n\n      if (oldPath !== newPath\n        && this.opts.shouldTrackUrlChange.call(this, newPath, oldPath)) {\n        this.path = newPath;\n        const log = {\n          body: {\n            timestamp,\n            type: 'pv',\n            url: window.location.href,\n            hostname: window.location.hostname,\n            pathname: window.location.pathname,\n            title: window.document.title,\n            referer: window.document.referrer,\n            visibility: win.getVisibilityState()\n          }\n        };\n\n        if (historyDidUpdate || this.opts.trackReplaceState) {\n          // 当 url 变化时发送所有 tracker\n          this.tracker(log);\n        }\n      }\n    }, 0);\n  }\n\n  /**\n   * Determines whether or not the tracker should send a hit with the new page\n   * data. This default implementation can be overrided in the config options.\n   * @param {string} newPath The path after the URL change.\n   * @param {string} oldPath The path prior to the URL change.\n   * @return {boolean} Whether or not the URL change should be tracked.\n   */\n  static shouldTrackUrlChange(newPath, oldPath) { // eslint-disable-line\n    return !!(newPath && oldPath);\n  }\n\n  /**\n   * Removes all event listeners and restores overridden methods.\n   */\n  // remove() {\n  //   MethodChain.remove(window.history, 'pushState', this.pushStateOverride);\n  //   MethodChain.remove(window.history, 'replaceState', this.replaceStateOverride);\n  //   window.removeEventListener('popstate', this.handlePopState);\n  // }\n}\n","/**\n * @file page visibility 变化监听\n */\nimport cookie from 'js-cookie';\nimport config from '../config';\nimport * as uuid from '../utils/uuid';\nimport * as win from '../utils/window';\n\nconst HIDDEN = 'hidden';\nconst VISIBLE = 'visible';\n\nfunction getCommonLoggerBody(data = {}) {\n  const log = {\n    body: {\n      timestamp: Date.now(),\n      url: window.location.href,\n      hostname: window.location.hostname,\n      pathname: window.location.pathname,\n      title: window.document.title,\n      referer: window.document.referrer,\n      visibility: win.getVisibilityState()\n    }\n  };\n\n  log.body = Object.assign({}, log.body, data);\n\n  return log;\n}\n\n/**\n * Class for the `pageVisibilityTracker` plugin.\n */\nexport default class PageVisibilityTracker {\n  /**\n   * @param {?Object} opts Passed by the require command.\n   */\n  constructor(appConfig, opts = {}) {\n    // Feature detects to prevent errors in unsupporting browsers.\n    if (!window.document.visibilityState) {\n      console.error('use visibilityState in unsupporting browsers');\n    }\n\n    const defaultOpts = {\n      sessionTimeout: config.session.expires,\n      visibleThreshold: 5 * 1000, // 5s\n      sendInitialPageview: true\n    };\n\n    this.appConfig = appConfig;\n    this.opts = Object.assign(defaultOpts, opts);\n\n    this.lastPageState = window.document.visibilityState;\n    this.$isInitialPageviewSent = false;\n    this.$visibleThresholdTimeout = null;\n\n    // some typed tracker qeueu\n    this.pageLoadTrackerQeueu = [];\n    this.pageviewTrackerQeueu = [];\n    this.pageVisibilityEventTrackerQeueu = [];\n    this.pageUnloadTrackerQeueu = [];\n\n    // Binds methods to `this`.\n    this.handleWindowLoad = this.handleWindowLoad.bind(this);\n    this.handleWindowUnload = this.handleWindowUnload.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n\n    window.addEventListener('load', this.handleWindowLoad);\n    window.addEventListener('unload', this.handleWindowUnload);\n    window.document.addEventListener('visibilitychange', this.handleChange);\n  }\n\n  /**\n   * Inspects the last visibility state change data and determines if a\n   * visibility event needs to be tracked based on the current visibility\n   * state and whether or not the session has expired. If the session has\n   * expired, a change to `visible` will trigger an additional pageview.\n   * This method also sends as the event value (and optionally a custom metric)\n   * the elapsed time between this event and the previously reported change\n   * in the same session, allowing you to more accurately determine when users\n   * were actually looking at your page versus when it was in the background.\n   */\n  handleChange() {\n    if (!(window.document.visibilityState === VISIBLE\n      || window.document.visibilityState === HIDDEN)) {\n      return;\n    }\n\n    // If the visibilityState has changed to visible and the initial pageview\n    // has not been sent (and the `sendInitialPageview` option is `true`).\n    // Send the initial pageview now.\n    if (window.document.visibilityState === VISIBLE\n      && this.opts.sendInitialPageview\n      && !this.$isInitialPageviewSent) {\n      this.sendPageview(getCommonLoggerBody({ type: 'pv' }));\n      this.$isInitialPageviewSent = true;\n    }\n\n    // If the visibilityState has changed to hidden, clear any scheduled\n    // pageviews waiting for the visibleThreshold timeout.\n    if (window.document.visibilityState === HIDDEN && this.$visibleThresholdTimeout) {\n      clearTimeout(this.$visibleThresholdTimeout);\n    }\n\n    // NOTE: 根据 sessionId 是否过期判断是否发送 pv 统计\n    if (cookie.get(`${this.appConfig.prefix}sessionId`)) {\n      if (this.lastPageState === HIDDEN\n        && window.document.visibilityState === VISIBLE) {\n        // If the session has expired, changes from hidden to visible should\n        // be considered a new pageview rather than a visibility event.\n        // This behavior ensures all sessions contain a pageview so\n        // session-level page dimensions and metrics (e.g. ga:landingPagePath\n        // and ga:entrances) are correct.\n        // Also, in order to prevent false positives, we add a small timeout\n        // that is cleared if the visibilityState changes to hidden shortly\n        // after the change to visible. This can happen if a user is quickly\n        // switching through their open tabs but not actually interacting with\n        // and of them. It can also happen when a user goes to a tab just to\n        // immediately close it. Such cases should not be considered pageviews.\n        clearTimeout(this.$visibleThresholdTimeout); // NOTE: 双保险，清除无效 pageview\n        this.$visibleThresholdTimeout = setTimeout(() => {\n          this.sendPageview(getCommonLoggerBody({ type: 'pv' }));\n        }, this.opts.visibleThreshold);\n      }\n    } else {\n      cookie.set(`${this.appConfig.prefix}sessionId`, uuid.uuid(), {\n        expires: new Date(Date.now() + this.sessionTimeout),\n        path: '/'\n      });\n    }\n    // else {\n    //   this.sendPageVisibilityEvent(getCommonLoggerBody({\n    //     type: 'pve'\n    //   }));\n    // }\n\n    this.lastPageState = window.document.visibilityState;\n  }\n\n  addPageloadTracker(trackerFun, context = null) {\n    this.pageLoadTrackerQeueu.push({\n      tracker: trackerFun,\n      context\n    });\n  }\n\n  /**\n   * Sends a page load event.\n   */\n  sendPageLoad(data) {\n    this.pageLoadTrackerQeueu.forEach((item) => {\n      item.tracker.call(item.context, data);\n    });\n  }\n\n  addPageviewTracker(trackerFun, context = null) {\n    this.pageviewTrackerQeueu.push({\n      tracker: trackerFun,\n      context\n    });\n  }\n\n  /**\n   * Sends a pageview, optionally calculating an offset if hitTime is passed.\n   */\n  sendPageview(data) {\n    this.pageviewTrackerQeueu.forEach((item) => {\n      item.tracker.call(item.context, data);\n    });\n  }\n\n  addPageVisibilityEventTracker(trackerFun, context = null) {\n    this.pageVisibilityEventTrackerQeueu.push({\n      tracker: trackerFun,\n      context\n    });\n  }\n\n  /**\n   * Sends a Page Visibility event to track the time this page was in the\n   * visible state (assuming it was in that state long enough to meet the\n   * threshold).\n   */\n  sendPageVisibilityEvent(data) {\n    this.pageVisibilityEventTrackerQeueu.forEach((item) => {\n      item.tracker.call(item.context, data);\n    });\n  }\n\n  addPageUnloadTracker(trackerFun, context = null) {\n    this.pageUnloadTrackerQeueu.push({\n      tracker: trackerFun,\n      context\n    });\n  }\n\n  /**\n   * Sends a page unload event.\n   */\n  sendPageUnload(data) {\n    this.pageUnloadTrackerQeueu.forEach((item) => {\n      item.tracker.call(item.context, data);\n    });\n  }\n\n  /**\n  * Handles responding to the `load` event.\n  */\n  handleWindowLoad() {\n    if (this.lastPageState === VISIBLE) {\n      this.handleChange();\n      this.sendPageLoad(getCommonLoggerBody({ type: 'pl' }));\n    }\n  }\n\n  /**\n   * Handles responding to the `unload` event.\n   * Since some browsers don't emit a `visibilitychange` event in all cases\n   * where a page might be unloaded, it's necessary to hook into the `unload`\n   * event to ensure the correct state is always stored.\n   */\n  handleWindowUnload() {\n    // If the stored visibility state isn't hidden when the unload event\n    // fires, it means the visibilitychange event didn't fire as the document\n    // was being unloaded, so we invoke it manually.\n    if (this.lastPageState !== HIDDEN) {\n      this.handleChange();\n      this.sendPageUnload(getCommonLoggerBody({ type: 'pul' }));\n    }\n  }\n\n  /**\n   * Removes all event listeners and restores overridden methods.\n   */\n  // remove() {\n  //   window.removeEventListener('unload', this.handleWindowUnload);\n  //   window.document.removeEventListener('visibilitychange', this.handleChange);\n  // }\n}\n","export function parse(url, type) {\n  const a = window.document.createElement('a');\n  a.href = url;\n\n  return a[type] || url;\n}\n\nexport function test() { }\n","/**\n * @file api ajax 监控\n */\nimport { uuid } from '../../utils/uuid';\nimport * as url from '../../utils/url';\nimport * as win from '../../utils/window';\n\nfunction initialAjaxListener(window) {\n  (function (window) { // eslint-disable-line\n    try {\n      // a : While a window.CustomEvent object exists, it cannot be called as a constructor.\n      // b : There is no window.CustomEvent object\n      new window.CustomEvent('T'); // eslint-disable-line\n    } catch (e) {\n      function CustomEvent(event, params = {}) { // eslint-disable-line\n        const nextParams = Object.assign({ bubbles: false, cancelable: false, detail: undefined },\n          params);\n        const evt = window.document.createEvent('CustomEvent');\n\n        evt.initCustomEvent(event, nextParams.bubbles, nextParams.cancelable, nextParams.detail);\n        return evt;\n      }\n\n      CustomEvent.prototype = window.Event.prototype;\n      window.CustomEvent = CustomEvent; // eslint-disable-line\n    }\n  })(window);\n\n  function ajaxEventTrigger(event) {\n    const ajaxEvent = new window.CustomEvent(event, { detail: this });\n    window.dispatchEvent(ajaxEvent);\n  }\n\n  const OriginXHR = window.XMLHttpRequest;\n\n  function OverrideXHR() {\n    const overrideXHR = new OriginXHR();\n    const originXHROpen = overrideXHR.open;\n\n    overrideXHR.open = function overrideXHROpen(method, url, async = true, user = null, password = null) { // eslint-disable-line\n      overrideXHR.requestURL = url; // eslint-disable-line\n      return originXHROpen.apply(this, arguments); // eslint-disable-line\n    };\n\n    overrideXHR.addEventListener('loadstart', function ajaxLoadStart() { ajaxEventTrigger.call(this, 'ajaxLoadStart'); }, false);\n    overrideXHR.addEventListener('progress', function ajaxProgress() { ajaxEventTrigger.call(this, 'ajaxProgress'); }, false);\n    overrideXHR.addEventListener('abort', function ajaxAbort() { ajaxEventTrigger.call(this, 'ajaxAbort'); }, false);\n    overrideXHR.addEventListener('error', function ajaxError() { ajaxEventTrigger.call(this, 'ajaxError'); }, false);\n    overrideXHR.addEventListener('load', function ajaxLoad() { ajaxEventTrigger.call(this, 'ajaxLoad'); }, false);\n    overrideXHR.addEventListener('timeout', function ajaxTimeout() { ajaxEventTrigger.call(this, 'ajaxTimeout'); }, false);\n    overrideXHR.addEventListener('loadend', function ajaxLoadEnd() { ajaxEventTrigger.call(this, 'ajaxLoadEnd'); }, false);\n    overrideXHR.addEventListener('readystatechange', function ajaxReadyStateChange() { ajaxEventTrigger.call(this, 'ajaxReadyStateChange'); }, false);\n\n    return overrideXHR;\n  }\n\n  window.XMLHttpRequest = OverrideXHR; // eslint-disable-line\n}\n\nexport default function api(logger) {\n  initialAjaxListener(window);\n\n  const XHRMap = {};\n  const getCommonLoggerBody = (xhr, data = {}) => {\n    let response;\n\n    try {\n      response = JSON.stringify(xhr.response); // TODO: 暂时只支持 JSON\n    } catch (e) {\n      response = {};\n    }\n\n    const { requestURL } = xhr;\n    const log = {\n      body: {\n        type: 'api',\n        timestamp: Date.now(),\n        url: window.location.href,\n        hostname: window.location.hostname,\n        pathname: window.location.pathname,\n        title: window.document.title,\n        referer: window.document.referrer,\n        visibility: win.getVisibilityState(),\n        apiUrl: url.parse(requestURL, 'pathname'),\n        apiStatus: xhr.status,\n        apiCode: response.errCode\n      }\n    };\n\n    const nextLog = Object.assign({}, log, data);\n    return nextLog;\n  };\n  const isIgnoreAPI = (xhr) => { // eslint-disable-line\n    const pathname = url.parse(xhr.requestURL, 'pathname');\n\n    return logger.appConfig.ignoreUrl(pathname);\n  };\n\n  window.addEventListener('ajaxLoadStart', function (e) { // eslint-disable-line\n    // XMLHttpRequest Object\n    // console.log('ajaxLoadStart', e.detail);\n    e.detail.id = uuid();\n    XHRMap[e.detail.id] = window.performance.now();\n  });\n\n  // window.addEventListener('ajaxProgress', function (e) { // eslint-disable-line\n  //   // XMLHttpRequest Object\n  //   console.log('ajaxProgress', e.detail);\n  // });\n\n  // window.addEventListener('ajaxAbort', function (e) { // eslint-disable-line\n  //   // XMLHttpRequest Object\n  //   console.log('ajaxAbort', e.detail);\n  // });\n\n  window.addEventListener('ajaxError', function (e) { // eslint-disable-line\n    // XMLHttpRequest Object\n    // console.log('ajaxError', e.detail);\n    if (!isIgnoreAPI(e.detail)) {\n      logger.send(getCommonLoggerBody(e.detail, {\n        apiTime: window.performance.now() - XHRMap[e.detail.id]\n      }));\n      delete XHRMap[e.detail.id];\n    }\n  });\n\n  // window.addEventListener('ajaxLoad', function (e) { // eslint-disable-line\n  //   // XMLHttpRequest Object\n  //   console.log('ajaxLoad', e.detail);\n  // });\n\n  window.addEventListener('ajaxTimeout', function (e) { // eslint-disable-line\n    // XMLHttpRequest Object\n    // console.log('ajaxTimeout', e.detail);\n    if (!isIgnoreAPI(e.detail)) {\n      logger.send(getCommonLoggerBody(e.detail, {\n        apiTime: window.performance.now() - XHRMap[e.detail.id]\n      }));\n      delete XHRMap[e.detail.id];\n    }\n  });\n\n  window.addEventListener('ajaxLoadEnd', function (e) { // eslint-disable-line\n    // XMLHttpRequest Object\n    // console.log('ajaxLoadEnd', e.detail);\n    if (!isIgnoreAPI(e.detail)) {\n      logger.send(getCommonLoggerBody(e.detail, {\n        apiTime: window.performance.now() - XHRMap[e.detail.id]\n      }));\n      delete XHRMap[e.detail.id];\n    }\n  });\n\n  // window.addEventListener('ajaxReadyStateChange', function (e) { // eslint-disable-line\n  //   // XMLHttpRequest Object\n  //   console.log('ajaxReadyStateChange', e.detail);\n  // });\n\n  return true;\n}\n","/**\n * @file Page Load 监控\n */\nimport * as win from '../../utils/window';\n\nfunction getEntriesTime(types, logger) {\n  const entry = [];\n\n  types.forEach((type) => {\n    // https://developer.mozilla.org/en-US/docs/Web/API/Performance/getEntries#Browser_compatibility\n    // Safari 11 才支持\n    if (window.performance && window.performance.getEntries) {\n      window.performance.getEntries({ entryType: type }).forEach((item) => {\n        const data = {\n          type: item.initiatorType,\n          name: item.name,\n          duration: item.duration,\n          time: item.startTime + item.duration // 资源需要排队\n        };\n\n        // 上报加载慢的资源；针对不同类型定义不同标准\n        if (item.entryType === 'resource'\n          && item.initiatorType !== 'xmlhttprequest'\n          && item.initiatorType !== 'beacon') {\n          const timeout = item.initiatorType === 'img' ? logger.appConfig.resource.imgTimeout : logger.appConfig.resource.timeout;\n\n          if (item.duration > timeout) {\n            entry.push(data);\n          }\n        } else if (entry.entryType === 'paint') {\n          entry.push({\n            type: 'paint',\n            name: item.name,\n            duration: item.duration,\n            time: item.startTime + item.duration\n          });\n        }\n      });\n    }\n  });\n\n  return entry;\n}\n\nexport default function performance(logger) {\n  // TODO: async 代码能否监听 load\n  window.addEventListener('load', function (e) { // eslint-disable-line\n    // https://developer.mozilla.org/en-US/docs/Web/API/Performance/getEntries#Browser_compatibility\n    // Safari 11 才支持\n    let timing = {};\n    if (window.performance.timing) {\n      timing = window.performance.timing; // eslint-disable-line\n    }\n    const body = {\n      type: 'p',\n      timestamp: Date.now(),\n      url: window.location.href,\n      hostname: window.location.hostname,\n      pathname: window.location.pathname,\n      title: window.document.title,\n      referer: window.document.referrer,\n      visibility: win.getVisibilityState(),\n      pDns: timing.domainLookupEnd - timing.domainLookupStart,\n      pTcp: timing.connectEnd - timing.connectStart,\n      pSsl: timing.connectEnd - timing.secureConnectionStart,\n      pTtfb: timing.responseStart - timing.requestStart,\n      pTrans: timing.responseEnd - timing.responseStart,\n      pDom: timing.domInteractive - timing.responseEnd,\n      pRes: timing.loadEventStart - timing.domContentLoadedEventEnd,\n      pFirstbyte: timing.responseStart - timing.domainLookupStart,\n      pFpt: timing.responseEnd - timing.fetchStart,\n      pTti: timing.domInteractive - timing.fetchStart,\n      pReady: timing.domContentLoadedEventEnd - timing.fetchStart,\n      pLoad: timing.loadEventStart - timing.fetchStart,\n      pEntry: getEntriesTime(['paint', 'resource'], logger)\n    };\n\n    logger.send({\n      body\n    });\n  });\n\n  return true;\n}\n","import LGet from 'lodash.get';\nimport LoggerBody from './body';\nimport { get, post } from './ping';\nimport HashChangeTracker from '../plugins/hash-change-tracker';\nimport UrlChangeTracker from '../plugins/url-change-tracker';\nimport PageVisibilityTracker from '../plugins/page-visibility-tracker';\nimport api from './modules/api';\nimport page from './modules/page';\nimport performance from './modules/performance';\nimport { noop } from '../utils/function';\n\nfunction ELKFormatter(data = {}) {\n  // @Param(\"imei\") String imei,\n  // @Param(\"uid\") String uid,\n  // @Param(\"ua\") String ua,\n  // @Param(\"hostname\") String hostname,\n  // @Param(\"pathname\") String pathname,\n\n  // @Param(\"app_name\") String appName,\n  // @Param(\"app_version\") String appVersion,\n  // @Param(\"pid\") String pid,\n  // @Param(\"pname\") String pname,\n\n  // @Param(\"type\") String logtype,\n\n  // @Param(\"api_url\") String apiUrl,\n  // @Param(\"api_time\") Integer apiTime,\n  // @Param(\"api_code\") String apiCode,\n  // @Param(\"api_status\") Integer apiStatus,\n\n  // @Param(\"p_ssl\") long pSsl,\n  // @Param(\"p_ttfb\") long pTtfb,\n  // @Param(\"p_trans\") long pTrans,\n  // @Param(\"p_dom\") long pDom,\n  // @Param(\"p_res\") long pRes,\n  // @Param(\"p_firstbyte\") Long pFirstbyte,\n  // @Param(\"p_ftp\") Long pFtp,\n  // @Param(\"p_tti\") Long pTti,\n  // @Param(\"p_ready\") Long pReady,\n  // @Param(\"p_load\") Long pLoad\n\n  // @Param(\"ext\") String ext,\n  const keys = Object.keys(data);\n  const exitKeys = [\n    'uid', 'imei', 'userAgent', 'hostname', 'pathname', 'appName', 'appVersion', 'appid', 'appname', 'type',\n    'apiUrl', 'apiTime', 'appStatus', 'apiCode',\n    'pDns', 'pTcp', 'pSsl', 'pTtfb', 'pTrans', 'pDom', 'pRes', 'pFirstbyte', 'pFpt', 'pTti', 'pReady', 'pLoad'\n  ];\n  const ELKLog = {\n    uid: data.uid,\n    imei: data.imei,\n    ua: data.userAgent,\n    hostname: data.hostname,\n    pathname: data.pathname,\n    app_name: data.appName,\n    // app_version: data.appVersion,\n    app_version: window.location.href,\n    pid: data.appid,\n    pname: data.appname,\n    type: data.type,\n    ext: {}\n  };\n\n  if (data.type === 'api') {\n    ELKLog.api_url = data.apiUrl;\n    ELKLog.api_time = data.apiTime;\n    ELKLog.api_status = data.appStatus;\n    ELKLog.api_code = data.apiCode;\n  }\n\n  if (data.type === 'p') {\n    ELKLog.p_dns = data.pDns;\n    ELKLog.p_tcp = data.pTcp;\n    ELKLog.p_ssl = data.pSsl;\n    ELKLog.p_ttfb = data.pTtfb;\n    ELKLog.p_trans = data.pTrans;\n    ELKLog.p_dom = data.pDom;\n    ELKLog.p_res = data.pRes;\n    ELKLog.p_firstbyte = data.pFirstbyte;\n    ELKLog.p_ftp = data.pFpt;\n    ELKLog.p_tti = data.pTti;\n    ELKLog.p_ready = data.pReady;\n    ELKLog.p_load = data.pLoad;\n  }\n\n  keys.forEach((key) => {\n    if (exitKeys.indexOf(key) < 0) {\n      ELKLog.ext[key] = data[key];\n    }\n  });\n\n  ELKLog.ext = JSON.stringify(ELKLog.ext);\n  return ELKLog;\n}\n\n/**\n * @file Logger 类\n */\n\nexport default class Logger {\n  constructor(appConfig) {\n    const loggerBody = LGet(appConfig, 'logger.body');\n\n    this.appConfig = appConfig;\n    this.body = new LoggerBody(appConfig, loggerBody);\n    this.hashChangeTracker = new HashChangeTracker({ shouldTrackHashChange: appConfig.onhashchange }); // eslint-disable-line\n    this.urlChangeTracker = new UrlChangeTracker({ trackReplaceState: true });\n    this.pageVisibilityTracker = new PageVisibilityTracker(appConfig);\n\n    if (this.appConfig.onajax) {\n      this.initApi();\n    }\n\n    if (this.appConfig.page) {\n      this.initPage();\n    }\n\n    if (this.body.getIsSpeedLog()) {\n      this.initPerformance();\n    }\n  }\n\n  initApi() {\n    api(this);\n  }\n\n  initPage() {\n    page(this);\n  }\n\n  initPerformance() {\n    performance(this);\n  }\n\n  get(data, callback) {\n    // NOTE: 忽略的 URL 不发送监控请求\n    const url = LGet(data, 'body.url', undefined);\n\n    if (this.appConfig.ignoreUrl(url)) {\n      return false;\n    }\n\n    const body = ELKFormatter(this.body.getBody(data.body));\n    console.log(body);\n\n    return get(body, data.url || this.appConfig.logger.url, callback);\n  }\n\n  post(data, callback) {\n    // NOTE: 忽略的 URL 不发送监控请求\n    const url = LGet(data, 'body.url', undefined);\n\n    if (this.appConfig.ignoreUrl(url)) {\n      return false;\n    }\n\n    const body = ELKFormatter(this.body.getBody(data.body));\n    console.log(body);\n\n    return post(body, data.url || this.appConfig.logger.url, callback);\n  }\n\n  send(data = {}, callback = noop) {\n    if (this.appConfig.disabled) {\n      console.error('已经禁用日志功能');\n      return false;\n    }\n\n    if (!this.body.getIsLog()) {\n      console.error('根据抽样率，已经禁止日志功能');\n      return false;\n    }\n\n    const type = (data.type || LGet(this.appConfig, 'logger.methods')).toLowerCase();\n\n    return this[type](data, callback);\n  }\n}\n","/**\n * @file Page View 监控\n */\n\nexport default function page(logger) {\n  if (logger.appConfig.onhashchange) {\n    logger.hashChangeTracker.addTracker(logger.send, logger);\n  }\n\n  logger.urlChangeTracker.addTracker(logger.send, logger);\n  logger.pageVisibilityTracker.addPageloadTracker(logger.send, logger);\n  logger.pageVisibilityTracker.addPageviewTracker(logger.send, logger);\n  logger.pageVisibilityTracker.addPageVisibilityEventTracker(logger.send, logger);\n  logger.pageVisibilityTracker.addPageUnloadTracker(logger.send, logger);\n\n  return true;\n}\n","/**\n * @file 入口文件\n */\nimport LMerge from 'lodash.merge';\nimport LGet from 'lodash.get';\n// import Raven from 'raven-js';\nimport appDefaultConfig from './config/app.default';\nimport Logger from './logger';\nimport { noop } from './utils/function';\n\nclass Mfm {\n  constructor(defaultConfig, CLogger) {\n    this.$config = defaultConfig;\n    this.queue = [];\n    this.setConfig();\n    this.initQueue();\n\n    this.logger = new CLogger(this.config);\n    // eslint-disable-line\n    // Raven.config(this.config.sentry.url, this.config.sentry.options).install();\n    // this.Raven = Raven;\n\n    // const loggerBody = this.logger.body.get();\n\n    // Raven.setUserContext({\n    //   imei: loggerBody.imei,\n    //   uid: loggerBody.uid\n    // }); // eslint-disable-line\n\n    // clear quene\n    this.cleanQuene();\n  }\n\n  setConfig() {\n    try {\n      if (window.mfm.config) {\n        // merge default config\n        this.config = LMerge({}, this.$config, window.mfm.config);\n      } else {\n        this.config = this.$config;\n      }\n    } catch (e) {\n      throw new Error('Please use mfm.js by the correct way!');\n    }\n  }\n\n  initQueue() {\n    try {\n      if (window.mfm.queue) {\n        // concat user queue\n        this.queue = window.mfm.queue.concat(this.queue);\n      }\n    } catch (e) {\n      throw new Error('Please use mfm.js by the correct way!');\n    }\n  }\n\n  cleanQuene() {\n    this.queue.forEach((item) => {\n      this.send(item);\n    });\n  }\n\n  send(data = {}, callback = noop) {\n    const type = (data.type || LGet(this.config, 'logger.methods')).toLowerCase();\n\n    if (this.logger && this.logger[type]) {\n      return this.logger[type](data, callback);\n    }\n\n    this.queue.push(data);\n    return false;\n  }\n}\n\nwindow.mfm = new Mfm(appDefaultConfig, Logger);\n","/**\n * @file 应用默认配置\n */\n\nconst appConfig = {\n  prefix: '_mfm_',\n  disabled: false, // 禁用日志上报功能\n  appid: '0000000000', // 项目唯一 ID，在创建站点时自动生成\n  appname: 'default', // 项目名称\n  onajax: false, // 是否监听 AJAX 请求，默认会监听并用于 API 调用成功率上报\n  page: false, // pv 相关统计\n  onhashchange: true, // 是否监听页面的 hashchange 事件并重新上报 PV，适用于单页面应用场景；默认会会上报 PV\n  // 将 URL 解析为 page 的方法\n  parseTitle: (url) => {\n    const urlMap = {};\n\n    return urlMap[url] || '';\n  },\n  parseUrl: url => url, // 将 URL 解析为真是上报 URL 的方法，传入 URL 返回新的 URL\n  // 忽略监控的 URL，传入 URL 返回 true/false；包括 api 和 page 模块\n  ignoreUrl: (url) => {\n    const ignore = [\n      '/log/uploadApiLog' // ajax 监控忽略日志上报接口，否则当日志上报接口挂了会造成死循环\n    ];\n\n    return ignore.indexOf(url) > -1;\n  },\n  // 抽样率，指定应对多大比例的用户进行跟踪。\n  // 默认值为100（跟踪所有用户），但是大型网站可能需要降低抽样率，以免超出 mfm 处理上限。\n  // Math.random() 计算一次，cookie 记录是否跟踪该客户端\n  sampleRate: 100,\n  siteSpeedSampleRate: 100, // 网站速度抽样率\n  expires: 63072E3 * 1000, // 两年\n  resource: {\n    timeout: 200,\n    imgTimeout: 300\n  },\n  sentry: { // sentry 相关配置，sentry 默认会上报通用 log 中规定的字段\n    url: 'http://1eaacdfcfa024c52b871021d65e71132@staging.sentry.cash.pt.xiaomi.com/9',\n    options: {\n      release: '1.0'\n    }\n  },\n  logger: {\n    url: 'http://r.browser.miui.com/log/uploadApiLog',\n    methods: 'GET',\n    // type: 'beacon', // 当为 post 请求时可以指定类型 beacon / xhr；下期支持\n    body: { // 此处设置一些客户端通用的打点信息，不设置的话有些会利用 cookie 生成，有效期两年，有些会为空\n      imei: '',\n      uid: '',\n      did: '',\n      appVersion: '',\n      appName: ''\n    }\n  }\n};\n\nexport default appConfig;\n"],"names":["HASH_UNDEFINED","MAX_SAFE_INTEGER","argsTag","asyncTag","funcTag","genTag","nullTag","objectTag","proxyTag","undefinedTag","reIsHostCtor","reIsUint","typedArrayTags","freeGlobal","global","Object","freeSelf","self","root","Function","freeExports","exports","nodeType","freeModule","module","moduleExports","freeProcess","process","nodeUtil","binding","e","nodeIsTypedArray","isTypedArray","safeGet","object","key","undefined","uid","func","transform","arrayProto","Array","prototype","funcProto","objectProto","coreJsData","funcToString","toString","hasOwnProperty","maskSrcKey","exec","keys","IE_PROTO","nativeObjectToString","objectCtorString","call","reIsNative","RegExp","replace","Buffer","Symbol","Uint8Array","allocUnsafe","getPrototype","getPrototypeOf","arg","objectCreate","create","propertyIsEnumerable","splice","symToStringTag","toStringTag","defineProperty","getNative","nativeIsBuffer","isBuffer","nativeMax","Math","max","nativeNow","Date","now","Map","nativeCreate","baseCreate","proto","isObject","result","Hash","entries","index","length","this","clear","entry","set","ListCache","MapCache","Stack","data","__data__","size","arrayLikeKeys","value","inherited","isArr","isArray","isArg","isArguments","isBuff","isType","skipIndexes","n","iteratee","baseTimes","String","isIndex","push","assignMergeValue","eq","baseAssignValue","assocIndexOf","array","configurable","enumerable","writable","has","get","pop","hash","map","string","getMapData","pairs","LARGE_ARRAY_SIZE","fromRight","baseFor","keysFunc","iterable","props","baseGetTag","isOwn","tag","getRawTag","baseIsArguments","isObjectLike","baseIsNative","isFunction","test","toSource","baseKeysIn","nativeKeysIn","isProto","isPrototype","baseMerge","source","srcIndex","customizer","stack","srcValue","mergeFunc","objValue","stacked","newValue","isCommon","isTyped","isArrayLike","copyArray","buffer","isDeep","slice","constructor","copy","cloneBuffer","typedArray","arrayBuffer","byteLength","byteOffset","Ctor","isPlainObject","isNew","copyObject","keysIn","baseMergeDeep","baseRest","start","setToString","identity","args","arguments","otherArgs","thisArg","apply","type","count","lastCalled","stamp","remaining","other","isLength","assigner","merge","sources","guard","isIterateeCall","FUNC_ERROR_TEXT","INFINITY","symbolTag","reIsDeepProp","reIsPlainProp","reLeadingDot","rePropName","reEscapeChar","objectToString","symbolProto","symbolToString","baseGet","path","isSymbol","isKey","stringToPath","toKey","isHostObject","memoize","baseToString","match","number","quote","resolver","TypeError","memoized","cache","Cache","defaultValue","factory","extend","i","attributes","init","converter","api","document","defaults","expires","setMilliseconds","getMilliseconds","toUTCString","JSON","stringify","write","encodeURIComponent","decodeURIComponent","escape","stringifiedAttributes","attributeName","cookie","cookies","split","rdecode","parts","join","json","charAt","name","read","parse","getJSON","remove","withConverter","config","uuid","u32a","Uint32Array","crypto","getRandomValues","b","round","random","LoggerBody","appConfig","loggerBody","$set","cookieBody","Number","ceil","sampleRate","siteSpeedSampleRate","body","window","navigator","appVersion","appName","appid","appname","cookieBodyKeys","bodyKeys","cbkey","currentCookie","prefix","bkey","$setSessionId","imei","did","connection","effectiveType","userAgent","sessionId","$getSessionId","nextBody","LMerge","url","parseUrl","title","parseTitle","getIsLog","Boolean","isLog","getIsSpeedLog","isSpeedLog","session","update","dkey","getBody","assign","params","noop","imgPing","imgUrl","callback","src","$img","imgCallback","createElement","width","height","onload","onerror","smartPost","sendBeacon","blob","Blob","isSend","beaconPing","xhr","XMLHttpRequest","open","setRequestHeader","onreadystatechange","readyState","send","xhrPing","query","smartGet","getPath","location","pathname","search","getVisibilityState","visibilityState","HashChangeTracker","opts","oldURL","href","oldHash","setInterval","newURL","newHash","onhashchange","addEventListener","Error","defaultOpts","shouldTrackHashChange","trackerQeueu","handleHashChange","addTracker","trackerFun","context","tracker","forEach","item","timestamp","oldPath","_this","newPath","shouldTrackUrlChange","log","hostname","referrer","win","instances","getOrCreateMethodChain","methodName","methodChain","filter","h","MethodChain","originalMethodReference","boundMethodChain","wrappedMethod","add","methodOverride","overrideMethod","rebindMethodChain","indexOf","destroy","method","previousMethod","bind","UrlChangeTracker","history","pushState","pushStateOverride","replaceStateOverride","handlePopState","originalMethod","handleUrlChange","historyDidUpdate","_this3","trackReplaceState","HIDDEN","VISIBLE","getCommonLoggerBody","PageVisibilityTracker","error","lastPageState","$isInitialPageviewSent","$visibleThresholdTimeout","pageLoadTrackerQeueu","pageviewTrackerQeueu","pageVisibilityEventTrackerQeueu","pageUnloadTrackerQeueu","handleWindowLoad","handleWindowUnload","handleChange","sendInitialPageview","sendPageview","setTimeout","visibleThreshold","sessionTimeout","addPageloadTracker","sendPageLoad","addPageviewTracker","addPageVisibilityEventTracker","sendPageVisibilityEvent","addPageUnloadTracker","sendPageUnload","a","logger","ajaxEventTrigger","event","ajaxEvent","CustomEvent","dispatchEvent","nextParams","evt","createEvent","initCustomEvent","bubbles","cancelable","detail","Event","OriginXHR","overrideXHR","originXHROpen","async","user","password","requestURL","XHRMap","response","status","errCode","isIgnoreAPI","ignoreUrl","id","performance","timing","types","domainLookupEnd","domainLookupStart","connectEnd","connectStart","secureConnectionStart","responseStart","requestStart","responseEnd","domInteractive","loadEventStart","domContentLoadedEventEnd","fetchStart","getEntries","initiatorType","duration","startTime","entryType","timeout","resource","imgTimeout","ELKFormatter","exitKeys","ELKLog","api_url","apiUrl","api_time","apiTime","api_status","appStatus","api_code","apiCode","p_dns","pDns","p_tcp","pTcp","p_ssl","pSsl","p_ttfb","pTtfb","p_trans","pTrans","p_dom","pDom","p_res","pRes","p_firstbyte","pFirstbyte","p_ftp","pFpt","p_tti","pTti","p_ready","pReady","p_load","pLoad","ext","Logger","LGet","hashChangeTracker","urlChangeTracker","pageVisibilityTracker","onajax","initApi","page","initPage","initPerformance","post","disabled","toLowerCase","Mfm","defaultConfig","CLogger","$config","queue","setConfig","initQueue","cleanQuene","mfm","concat"],"mappings":"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"}