!function(){"use strict";var Dt="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(t,e){return t(e={exports:{}},e.exports),e.exports}var r=t(function(t,e){var r="__lodash_hash_undefined__",o=9007199254740991,n="[object Arguments]",i="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",u="[object Null]",j="[object Object]",c="[object Proxy]",p="[object Undefined]",f=/^\[object .+?Constructor\]$/,d=/^(?:0|[1-9]\d*)$/,l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l[n]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l[a]=l["[object Map]"]=l["[object Number]"]=l[j]=l["[object RegExp]"]=l["[object Set]"]=l["[object String]"]=l["[object WeakMap]"]=!1;var h="object"==typeof Dt&&Dt&&Dt.Object===Object&&Dt,v="object"==typeof self&&self&&self.Object===Object&&self,y=h||v||Function("return this")(),g=e&&!e.nodeType&&e,m=g&&t&&!t.nodeType&&t,_=m&&m.exports===g,w=_&&h.process,b=function(){try{var t=m&&m.require&&m.require("util").types;return t||w&&w.binding&&w.binding("util")}catch(t){}}(),S=b&&b.isTypedArray;var T,x,O,C=Array.prototype,E=Function.prototype,A=Object.prototype,I=y["__core-js_shared__"],L=E.toString,k=A.hasOwnProperty,U=(T=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||""))?"Symbol(src)_1."+T:"",F=A.toString,R=L.call(Object),$=RegExp("^"+L.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),M=_?y.Buffer:void 0,N=y.Symbol,D=y.Uint8Array,P=M?M.allocUnsafe:void 0,z=(x=Object.getPrototypeOf,O=Object,function(t){return x(O(t))}),B=Object.create,q=A.propertyIsEnumerable,V=C.splice,G=N?N.toStringTag:void 0,J=function(){try{var t=yt(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),Q=M?M.isBuffer:void 0,H=Math.max,W=Date.now,K=yt(y,"Map"),X=yt(Object,"create"),Z=function(){function n(){}return function(t){if(!Lt(t))return{};if(B)return B(t);n.prototype=t;var e=new n;return n.prototype=void 0,e}}();function Y(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function tt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function et(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function nt(t){var e=this.__data__=new tt(t);this.size=e.size}function rt(t,e){var n=Ot(t),r=!n&&xt(t),o=!n&&!r&&Et(t),i=!n&&!r&&!o&&Ft(t),a=n||r||o||i,s=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],u=s.length;for(var c in t)!e&&!k.call(t,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||gt(c,u))||s.push(c);return s}function ot(t,e,n){(void 0===n||Tt(t[e],n))&&(void 0!==n||e in t)||at(t,e,n)}function it(t,e){for(var n=t.length;n--;)if(Tt(t[n][0],e))return n;return-1}function at(t,e,n){"__proto__"==e&&J?J(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}Y.prototype.clear=function(){this.__data__=X?X(null):{},this.size=0},Y.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Y.prototype.get=function(t){var e=this.__data__;if(X){var n=e[t];return n===r?void 0:n}return k.call(e,t)?e[t]:void 0},Y.prototype.has=function(t){var e=this.__data__;return X?void 0!==e[t]:k.call(e,t)},Y.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=X&&void 0===e?r:e,this},tt.prototype.clear=function(){this.__data__=[],this.size=0},tt.prototype.delete=function(t){var e=this.__data__,n=it(e,t);return!(n<0||(n==e.length-1?e.pop():V.call(e,n,1),--this.size,0))},tt.prototype.get=function(t){var e=this.__data__,n=it(e,t);return n<0?void 0:e[n][1]},tt.prototype.has=function(t){return-1<it(this.__data__,t)},tt.prototype.set=function(t,e){var n=this.__data__,r=it(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},et.prototype.clear=function(){this.size=0,this.__data__={hash:new Y,map:new(K||tt),string:new Y}},et.prototype.delete=function(t){var e=vt(this,t).delete(t);return this.size-=e?1:0,e},et.prototype.get=function(t){return vt(this,t).get(t)},et.prototype.has=function(t){return vt(this,t).has(t)},et.prototype.set=function(t,e){var n=vt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},nt.prototype.clear=function(){this.__data__=new tt,this.size=0},nt.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},nt.prototype.get=function(t){return this.__data__.get(t)},nt.prototype.has=function(t){return this.__data__.has(t)},nt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof tt){var r=n.__data__;if(!K||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new et(r)}return n.set(t,e),this.size=n.size,this};var st,ut=function(t,e,n){for(var r=-1,o=Object(t),i=n(t),a=i.length;a--;){var s=i[st?a:++r];if(!1===e(o[s],s,o))break}return t};function ct(t){return null==t?void 0===t?p:u:G&&G in Object(t)?function(t){var e=k.call(t,G),n=t[G];try{t[G]=void 0}catch(t){}var r=F.call(t);e?t[G]=n:delete t[G];return r}(t):(e=t,F.call(e));var e}function pt(t){return kt(t)&&ct(t)==n}function ft(t){return!(!Lt(t)||(e=t,U&&U in e))&&(At(t)?$:f).test(function(t){if(null!=t){try{return L.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e}function dt(t){if(!Lt(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=mt(t),n=[];for(var r in t)("constructor"!=r||!e&&k.call(t,r))&&n.push(r);return n}function lt(r,o,i,a,s){r!==o&&ut(o,function(t,e){if(s||(s=new nt),Lt(t))!function(t,e,n,r,o,i,a){var s=_t(t,n),u=_t(e,n),c=a.get(u);if(c)return ot(t,n,c);var p=i?i(s,u,n+"",t,e,a):void 0,f=void 0===p;if(f){var d=Ot(u),l=!d&&Et(u),h=!d&&!l&&Ft(u);p=u,d||l||h?Ot(s)?p=s:kt(b=s)&&Ct(b)?p=function(t,e){var n=-1,r=t.length;e||(e=Array(r));for(;++n<r;)e[n]=t[n];return e}(s):l?p=function(t,e){if(e)return t.slice();var n=t.length,r=P?P(n):new t.constructor(n);return t.copy(r),r}(u,!(f=!1)):h?(g=u,m=!(f=!1)?(_=g.buffer,w=new _.constructor(_.byteLength),new D(w).set(new D(_)),w):g.buffer,p=new g.constructor(m,g.byteOffset,g.length)):p=[]:function(t){if(!kt(t)||ct(t)!=j)return!1;var e=z(t);if(null===e)return!0;var n=k.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&L.call(n)==R}(u)||xt(u)?xt(p=s)?p=function(t,e,n,r){var o=!n;n||(n={});for(var i,a,s,u,c=-1,p=e.length;++c<p;){var f=e[c],d=r?r(n[f],t[f],f,n,t):void 0;void 0===d&&(d=t[f]),o?at(n,f,d):(s=d,u=(i=n)[a=f],k.call(i,a)&&Tt(u,s)&&(void 0!==s||a in i)||at(i,a,s))}return n}(y=s,Rt(y)):Lt(s)&&!At(s)||(p="function"!=typeof(v=u).constructor||mt(v)?{}:Z(z(v))):f=!1}var v;var y;var g,m,_,w;var b;f&&(a.set(u,p),o(p,u,r,i,a),a.delete(u));ot(t,n,p)}(r,o,e,i,lt,a,s);else{var n=a?a(_t(r,e),t,e+"",r,o,s):void 0;void 0===n&&(n=t),ot(r,e,n)}},Rt)}function ht(t,e){return St((i=t,s=Nt,a=H(void 0===(a=e)?i.length-1:a,0),function(){for(var t=arguments,e=-1,n=H(t.length-a,0),r=Array(n);++e<n;)r[e]=t[a+e];e=-1;for(var o=Array(a+1);++e<a;)o[e]=t[e];return o[a]=s(r),function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}(i,this,o)}),t+"");var i,a,s}function vt(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function yt(t,e){var n,r,o=(r=e,null==(n=t)?void 0:n[r]);return ft(o)?o:void 0}function gt(t,e){var n=typeof t;return!!(e=null==e?o:e)&&("number"==n||"symbol"!=n&&d.test(t))&&-1<t&&t%1==0&&t<e}function mt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||A)}function _t(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var wt,bt,jt,St=(wt=J?function(t,e){return J(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:Nt,jt=bt=0,function(){var t=W(),e=16-(t-jt);if(jt=t,0<e){if(800<=++bt)return arguments[0]}else bt=0;return wt.apply(void 0,arguments)});function Tt(t,e){return t===e||t!=t&&e!=e}var xt=pt(function(){return arguments}())?pt:function(t){return kt(t)&&k.call(t,"callee")&&!q.call(t,"callee")},Ot=Array.isArray;function Ct(t){return null!=t&&It(t.length)&&!At(t)}var Et=Q||function(){return!1};function At(t){if(!Lt(t))return!1;var e=ct(t);return e==a||e==s||e==i||e==c}function It(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=o}function Lt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function kt(t){return null!=t&&"object"==typeof t}var Ut,Ft=S?(Ut=S,function(t){return Ut(t)}):function(t){return kt(t)&&It(t.length)&&!!l[ct(t)]};function Rt(t){return Ct(t)?rt(t,!0):dt(t)}var $t,Mt=($t=function(t,e,n){lt(t,e,n)},ht(function(t,e){var n=-1,r=e.length,o=1<r?e[r-1]:void 0,i=2<r?e[2]:void 0;for(o=3<$t.length&&"function"==typeof o?(r--,o):void 0,i&&function(t,e,n){if(!Lt(n))return!1;var r=typeof e;return!!("number"==r?Ct(n)&&gt(e,n.length):"string"==r&&e in n)&&Tt(n[e],t)}(e[0],e[1],i)&&(o=r<3?void 0:o,r=1),t=Object(t);++n<r;){var a=e[n];a&&$t(t,a,n,o)}return t}));function Nt(t){return t}t.exports=Mt}),e="Expected a function",o="__lodash_hash_undefined__",n=1/0,i="[object Function]",a="[object GeneratorFunction]",s="[object Symbol]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/,p=/^\./,f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d=/\\(\\)?/g,l=/^\[object .+?Constructor\]$/,h="object"==typeof Dt&&Dt&&Dt.Object===Object&&Dt,v="object"==typeof self&&self&&self.Object===Object&&self,y=h||v||Function("return this")();var g,m=Array.prototype,_=Function.prototype,w=Object.prototype,b=y["__core-js_shared__"],j=(g=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"",S=_.toString,T=w.hasOwnProperty,x=w.toString,O=RegExp("^"+S.call(T).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),C=y.Symbol,E=m.splice,A=P(y,"Map"),I=P(Object,"create"),L=C?C.prototype:void 0,k=L?L.toString:void 0;function U(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function F(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function R(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function $(t,e){for(var n,r,o=t.length;o--;)if((n=t[o][0])===(r=e)||n!=n&&r!=r)return o;return-1}function M(t,e){for(var n,r=0,o=(e=function(t,e){if(V(t))return!1;var n=typeof t;if("number"==n||"symbol"==n||"boolean"==n||null==t||J(t))return!0;return c.test(t)||!u.test(t)||null!=e&&t in Object(e)}(e,t)?[e]:V(n=e)?n:z(n)).length;null!=t&&r<o;)t=t[B(e[r++])];return r&&r==o?t:void 0}function N(t){return!(!G(t)||(e=t,j&&j in e))&&((r=G(n=t)?x.call(n):"")==i||r==a||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?O:l).test(function(t){if(null!=t){try{return S.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e,n,r}function D(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function P(t,e){var n,r,o=(r=e,null==(n=t)?void 0:n[r]);return N(o)?o:void 0}U.prototype.clear=function(){this.__data__=I?I(null):{}},U.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},U.prototype.get=function(t){var e=this.__data__;if(I){var n=e[t];return n===o?void 0:n}return T.call(e,t)?e[t]:void 0},U.prototype.has=function(t){var e=this.__data__;return I?void 0!==e[t]:T.call(e,t)},U.prototype.set=function(t,e){return this.__data__[t]=I&&void 0===e?o:e,this},F.prototype.clear=function(){this.__data__=[]},F.prototype.delete=function(t){var e=this.__data__,n=$(e,t);return!(n<0||(n==e.length-1?e.pop():E.call(e,n,1),0))},F.prototype.get=function(t){var e=this.__data__,n=$(e,t);return n<0?void 0:e[n][1]},F.prototype.has=function(t){return-1<$(this.__data__,t)},F.prototype.set=function(t,e){var n=this.__data__,r=$(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},R.prototype.clear=function(){this.__data__={hash:new U,map:new(A||F),string:new U}},R.prototype.delete=function(t){return D(this,t).delete(t)},R.prototype.get=function(t){return D(this,t).get(t)},R.prototype.has=function(t){return D(this,t).has(t)},R.prototype.set=function(t,e){return D(this,t).set(t,e),this};var z=q(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(J(t))return k?k.call(t):"";var e=t+"";return"0"==e&&1/t==-n?"-0":e}(e);var o=[];return p.test(t)&&o.push(""),t.replace(f,function(t,e,n,r){o.push(n?r.replace(d,"$1"):e||t)}),o});function B(t){if("string"==typeof t||J(t))return t;var e=t+"";return"0"==e&&1/t==-n?"-0":e}function q(o,i){if("function"!=typeof o||i&&"function"!=typeof i)throw new TypeError(e);var a=function(){var t=arguments,e=i?i.apply(this,t):t[0],n=a.cache;if(n.has(e))return n.get(e);var r=o.apply(this,t);return a.cache=n.set(e,r),r};return a.cache=new(q.Cache||R),a}q.Cache=R;var V=Array.isArray;function G(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function J(t){return"symbol"==typeof t||!!(e=t)&&"object"==typeof e&&x.call(t)==s;var e}var Q=function(t,e,n){var r=null==t?void 0:M(t,e);return void 0===r?n:r},H=t(function(t,e){var n;n=function(){function v(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}return function t(l){function h(t,e,n){var r;if("undefined"!=typeof document){if(1<arguments.length){if("number"==typeof(n=v({path:"/"},h.defaults,n)).expires){var o=new Date;o.setMilliseconds(o.getMilliseconds()+864e5*n.expires),n.expires=o}n.expires=n.expires?n.expires.toUTCString():"";try{r=JSON.stringify(e),/^[\{\[]/.test(r)&&(e=r)}catch(t){}e=l.write?l.write(e,t):encodeURIComponent(String(e)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var i="";for(var a in n)n[a]&&(i+="; "+a,!0!==n[a]&&(i+="="+n[a]));return document.cookie=t+"="+e+i}t||(r={});for(var s=document.cookie?document.cookie.split("; "):[],u=/(%[0-9A-Z]{2})+/g,c=0;c<s.length;c++){var p=s[c].split("="),f=p.slice(1).join("=");this.json||'"'!==f.charAt(0)||(f=f.slice(1,-1));try{var d=p[0].replace(u,decodeURIComponent);if(f=l.read?l.read(f,d):l(f,d)||f.replace(u,decodeURIComponent),this.json)try{f=JSON.parse(f)}catch(t){}if(t===d){r=f;break}t||(r[d]=f)}catch(t){}}return r}}return(h.set=h).get=function(t){return h.call(h,t)},h.getJSON=function(){return h.apply({json:!0},[].slice.call(arguments))},h.defaults={},h.remove=function(t,e){h(t,"",v(e,{expires:-1}))},h.withConverter=t,h}(function(){})},t.exports=n()}),W={prefix:"_mfm_",session:{expires:18e5}};function K(){try{var t=new Uint32Array(1);return window.crypto.getRandomValues(t),String(2147483647&t[0])}catch(t){return String(Math.round(2147483647*Math.random()))}}var X=function(){function l(t,e){void 0===e&&(e={}),this.appConfig=t,this.$set(t,e)}var t=l.prototype;return t.$set=function(t,e){void 0===e&&(e={});for(var n,r,o,i={imei:K(),uid:K(),did:K(),isLog:Number(Math.ceil(100*Math.random())<=this.appConfig.sampleRate),isSpeedLog:Number(Math.ceil(100*Math.random())<=this.appConfig.siteSpeedSampleRate)},a={appVersion:window.navigator.appVersion,appName:window.navigator.appName,appid:this.appConfig.appid,appname:this.appConfig.appname,expid:this.appConfig.expid,abtestid:this.appConfig.abtestid,chanel:this.appConfig.chanel},s=Object.keys(i),u=Object.keys(a),c=0;c<s.length;c++){var p=s[c];this[p]=(r=e[n=p]||i[p],o=t.expires,void 0,H.get(""+W.prefix+n)||(H.set(""+W.prefix+n,r,{expires:new Date(Date.now()+o),path:"/"}),r))}for(var f=0;f<u.length;f++){var d=u[f];this[d]=e[d]||a[d]}l.$setSessionId()},t.get=function(t){void 0===t&&(t={});var e={imei:this.imei,uid:this.uid,did:this.did,appVersion:this.appVersion,appName:this.appName,appid:this.appid,appname:this.appname,expid:this.expid,abtestid:this.abtestid,chanel:this.chanel,network:window.navigator.connection&&window.navigator.connection.effectiveType,userAgent:window.navigator.userAgent};e.sessionId=l.$getSessionId();var n=r({},e,t);return n.url&&(n.url=this.appConfig.parseUrl(n.url)),n.title&&(n.title=this.appConfig.parseTitle(n.url)),n},t.getIsLog=function(){return Boolean(Number(this.isLog))},t.getIsSpeedLog=function(){return Boolean(Number(this.isSpeedLog))},l.$setSessionId=function(){var t=K();return H.set(W.prefix+"sessionId",t,{expires:new Date(Date.now()+W.session.expires)}),t},l.$getSessionId=function(){var t=H.get(W.prefix+"sessionId");return t||l.$setSessionId()},t.update=function(t){var e,n,r=Object.key(t),o=Array.isArray(r),i=0;for(r=o?r:r[Symbol.iterator]();;){var a;if(o){if(i>=r.length)break;a=r[i++]}else{if((i=r.next()).done)break;a=i.value}var s=a;this[s]&&(this[s]=!!(n=t[e=s])&&(H.set(""+W.prefix+e,n),n))}},t.getBody=function(t){return void 0===t&&(t={}),Object.assign({},this.get(t))},l}();function Z(e){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}function Y(){}function tt(t,e,n,r){void 0===r&&(r=Y);var o,i,a=t,s=K()+"_IMGPING_MFM",u=function(){window[s]=null,r(!0,e,n)};return window[s]=(o=a,(i=window.document.createElement("img")).width=1,i.height=1,i.src=o,i),window[s].onload=u,window[s].onerror=u,!0}function et(t,e,n){return void 0===n&&(n=Y),window.navigator.sendBeacon?function(t,e,n){void 0===n&&(n=Y);var r=new window.Blob([Z(t)],{type:"application/x-www-form-urlencoded;charset=UTF-8"}),o=window.navigator.sendBeacon(e,r);return n(o,t,e),o}(t,e,n):function(t,e,n){void 0===n&&(n=Y);var r=new window.XMLHttpRequest;return r?(r.open("POST",e,!0),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=UTF-8"),r.onreadystatechange=function(){4===r.readyState?(n(!0,t,e),r=null):n(!1,t,e)},r.send(Z(t)),!0):n(!1,t,e)}(t,e,n)}function nt(t,e,n,r){return void 0===n&&(n=Y),void 0===r&&(r=0),function(t,e,n){void 0===n&&(n=Y);var r=Z(t),o=e+"?"+r;return r.length<=2036?tt(o,t,e,n):et(t,e,n)}(t,e,n)}function rt(){return{hidden:1,VISIBLE:0}[window.document.visibilityState]||0}function ot(c){if(!c.appConfig.isVisibleMonitor||"visible"===window.document.visibilityState)return function(s,u){try{new PerformanceObserver(function(t){var e=t.getEntries(),n=Array.isArray(e),r=0;for(e=n?e:e[Symbol.iterator]();;){var o;if(n){if(r>=e.length)break;o=e[r++]}else{if((r=e.next()).done)break;o=r.value}var i=o;u.push(i);var a={type:"pLongTask",timestamp:Date.now(),url:window.location.href,hostname:window.location.hostname,pathname:window.location.pathname,title:window.document.title,referer:window.document.referrer,visibility:rt(),pDns:Math.round(i.duration),pTcp:Math.round(i.startTime+i.duration),pEntry:i.attribution};s.send({body:a})}}).observe({entryTypes:["longtask"]})}catch(t){}}(c,ot.pageLongtasks),window.addEventListener("load",function(t){var e={};window.performance&&window.performance.timing&&(e=window.performance.timing);var n,r=(n={"first-paint":{time:0},"first-contentful-paint":{time:0}},window.performance&&window.performance.getEntries&&window.performance.getEntries({entryType:"paint"}).forEach(function(t){"paint"===t.entryType&&(n[t.name]={type:"paint",name:t.name,duration:t.duration,time:t.startTime+t.duration})}),n),o=NaN;window.PerformanceTiming&&(o=void 0===window.PerformanceTiming.firstMeaningfulPaintTime?e.domInteractive-e.fetchStart:window.PerformanceTiming.firstMeaningfulPaintTime),(isNaN(o)||"number"!=typeof o)&&(o=0);var i,a,s={type:"p",timestamp:Date.now(),url:window.location.href,hostname:window.location.hostname,pathname:window.location.pathname,title:window.document.title,referer:window.document.referrer,visibility:rt(),pDns:e.domainLookupEnd-e.domainLookupStart,pTcp:e.connectEnd-e.connectStart,pSsl:e.connectEnd-e.secureConnectionStart,pTtfb:e.responseStart-e.requestStart,pTrans:e.responseEnd-e.responseStart,pDom:e.domInteractive-e.responseEnd,pRes:e.loadEventStart-e.domContentLoadedEventEnd,pFirstbyte:e.responseStart-e.domainLookupStart,pFpt:r["first-paint"].time,pFcpt:r["first-contentful-paint"].time,pFmpt:o,pTti:e.domInteractive-e.fetchStart,pReady:e.domContentLoadedEventEnd-e.fetchStart,pLoad:e.loadEventStart-e.fetchStart,pEntry:(i=c,a=[],window.performance&&window.performance.getEntries&&window.performance.getEntries().forEach(function(t){var e={entryType:t.entryType,initiatorType:t.initiatorType,name:t.name,duration:t.duration,time:t.startTime+t.duration};if("resource"===t.entryType&&"xmlhttprequest"!==t.initiatorType&&"beacon"!==t.initiatorType){var n="img"===t.initiatorType?i.appConfig.resource.imgTimeout:i.appConfig.resource.timeout;t.duration>n&&a.push(e)}else"paint"===t.entryType&&a.push(e)}),a)};c.send({body:s});var u=function(t){void 0===t&&(t=[]);var e={count:0,duration:0};return t.forEach(function(t){e.count+=1,e.duration+=Math.round(t.duration)}),{type:"pPageLongTask",timestamp:Date.now(),url:window.location.href,hostname:window.location.hostname,pathname:window.location.pathname,title:window.document.title,referer:window.document.referrer,visibility:rt(),pDns:e.duration,pTcp:e.count,pEntry:t}}(ot.pageLongtasks);c.send({body:u})}),!0}function it(e){void 0===e&&(e={});var t=Object.keys(e),n=["uid","imei","userAgent","hostname","pathname","appName","appVersion","appid","appname","expid","abtestid","chanel","type","apiUrl","apiTime","appStatus","apiCode","pDns","pTcp","pSsl","pTtfb","pTrans","pDom","pRes","pFirstbyte","pFpt","pTti","pReady","pLoad"],r={uid:e.uid,imei:e.imei,ua:e.userAgent,hostname:e.hostname||window.location.hostname,pathname:e.pathname||window.location.pathname,app_name:e.appName,app_version:window.location.href,pid:e.appid,pname:e.appname,exp_id:e.expid,abtest_id:e.abtestid,channel:e.chanel,type:e.type||"UNKONOW",ext:{}};return"api"===e.type&&(r.api_url=e.apiUrl,r.api_time=e.apiTime,r.api_status=e.appStatus,r.api_code=e.apiCode),"p"===e.type&&(r.p_dns=e.pDns,r.p_tcp=e.pTcp,r.p_ssl=e.pSsl,r.p_ttfb=e.pTtfb,r.p_trans=e.pTrans,r.p_dom=e.pDom,r.p_res=e.pRes,r.p_firstbyte=e.pFirstbyte,r.p_ftp=parseInt(e.pFpt,10),r.p_fcpt=parseInt(e.pFcpt,10),r.p_tti=e.pTti,r.p_ready=e.pReady,r.p_fmpt=parseInt(e.pFmpt,10),r.p_load=e.pLoad),"pLongTask"!==e.type&&"pPageLongTask"!==e.type||(r.p_dns=e.pDns,r.p_tcp=e.pTcp),t.forEach(function(t){n.indexOf(t)<0&&(r.ext[t]=e[t])}),r.ext=JSON.stringify(r.ext),r}ot.pageLongtasks=[];var at=function(){function t(t){var e=Q(t,"logger.body");this.appConfig=t,this.body=new X(t,e),this.body.getIsSpeedLog()&&this.initPerformance()}var e=t.prototype;return e.initPerformance=function(){ot(this)},e.get=function(t,e){var n=Q(t,"body.url",void 0);return!this.appConfig.ignoreUrl(n)&&nt(it(this.body.getBody(t.body)),t.url||this.appConfig.logger.url,e)},e.post=function(t,e){var n=Q(t,"body.url",void 0);if(this.appConfig.ignoreUrl(n))return!1;var r,o,i,a=it(this.body.getBody(t.body));return r=a,o=t.url||this.appConfig.logger.url,void 0===(i=e)&&(i=Y),et(r,o,i)},e.send=function(t,e){return void 0===t&&(t={}),void 0===e&&(e=Y),this.appConfig.disabled?(console.error("已经禁用日志功能"),!1):this.body.getIsLog()?this[(t.type||Q(this.appConfig,"logger.methods")).toLowerCase()](t,e):(console.error("根据抽样率，已经禁止日志功能"),!1)},t}(),st=function(){function t(t,e){this.$config=t,this.queue=[],this.setConfig(),this.initQueue(),this.logger=new e(this.config),this.cleanQuene()}var e=t.prototype;return e.setConfig=function(){try{window.mfm.config?this.config=r({},this.$config,window.mfm.config):this.config=this.$config}catch(t){throw new Error("Please use mfm.js by the correct way!")}},e.initQueue=function(){try{window.mfm.queue&&(this.queue=window.mfm.queue.concat(this.queue))}catch(t){throw new Error("Please use mfm.js by the correct way!")}},e.cleanQuene=function(){var e=this;this.queue.forEach(function(t){e.send(t)})},e.send=function(t,e){void 0===t&&(t={}),void 0===e&&(e=Y);var n=(t.type||Q(this.config,"logger.methods")).toLowerCase();return this.logger&&this.logger[n]?this.logger[n](t,e):(this.queue.push(t),!1)},t}();window.mfm=new st({prefix:"_mfm_",disabled:!1,isVisibleMonitor:!1,appid:"0000000000",appname:"default",onajax:!1,page:!1,onhashchange:!0,parseTitle:function(t){return{}[t]||""},parseUrl:function(t){return t},ignoreUrl:function(t){return-1<["/log/uploadApiLog"].indexOf(t)},sampleRate:100,siteSpeedSampleRate:100,expires:63072e6,resource:{timeout:200,imgTimeout:300},sentry:{url:"http://1eaacdfcfa024c52b871021d65e71132@staging.sentry.cash.pt.xiaomi.com/9",options:{release:"1.0"}},logger:{url:"http://r.browser.miui.com/log/uploadApiLog",methods:"GET",body:{imei:"",uid:"",did:"",appVersion:"",appName:"",expid:"",abtestid:"",chanel:""}}},at)}();
//# sourceMappingURL=index.min.js.map
